/* Copyright (C) 2012-2013 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.9b gitCommitId 0c0b974fca79e92d07510a2b58d4864cf77f0aa0 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(a){function c(a,c,q){var x=null,A=$a[a],z=fb[a];z&&(x=z(a,A,c,q));!x&&A&&(x=f.u.str.format.apply(null,[A].concat(c)));x&&(x+="(code="+a+")");c=x?Error(x):Error("FwError: code = "+a);a&&(c.code=a);q&&(c.detail=q);throw c;}function da(a,c,q){var x=null,A=$a[a];A&&(c=[A].concat(c),x=f.u.str.format.apply(null,c));return{code:a,message:x,detail:q}}function L(c){return null==c?c:a.isArray(c)?c:[c]}function R(a){var c=document.createElement("span");c.innerHTML='<a href="'+a+'" />';return c.firstChild.href}
function z(a){return"string"===typeof a}function Aa(a){return a.isRejected?a.isRejected():"rejected"===a.state()}function Ba(a){return a.isResolved?a.isResolved():"resolved"===a.state()}function la(a){return!z(a)?!1:!!a.match(/^[A-Za-z_\$][\w|\$]*$/)}function ma(c){if("regexp"===a.type(c))return c;var f="",f=-1!==c.indexOf("*")?a.map(c.split("*"),function(a){return a.replace(/\W/g,"\\$&")}).join(".*"):c;return RegExp("^"+f+"$")}function na(a,c,f){a&&(a._h5UnwrappedCall?a._h5UnwrappedCall(c,f):a[c](f))}
function S(c,f,q,x){return c[a.hasOwnProperty("curCSS")?"pipe":"then"](f,q,x)}function ga(a){return a.nodeType===gb?a:a.ownerDocument}var ab=void 0;if(window.h5){if(window.h5.env&&"1.1.9b"===window.h5.env.version)return;ab=window.h5}var f={};window.h5=f;f.coexist=function(){window.h5=ab;return f};f.env={version:"1.1.9b"};var $a={},fb={},gb=9,bb={controllerInternal:null},cb;(function(){function n(a){switch(a){case "string":return"s";case "number":return"n";case "boolean":return"b";case "String":return"S";
case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case D:return"u";case "undefElem":return"_";case "objElem":return"@"}}function y(a,b){if(z(a)){var c=a;b&&(c=c.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return c=c.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,
"\\f").replace(/\t/g,"\\t")}return a instanceof String?new String(y(a.toString())):a}function q(a,b){return"1"===b?a:z(a)?a.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):a instanceof String?new String(q(a.toString())):a}function x(a,b,c){var g=f.async.deferred();f.ajax({url:a,async:b,cache:c,dataType:"script",converters:{"text script":function(a){return a}}}).done(function(){var a=E(arguments);a.push(this.url);
g.notifyWith(g,a);g.resolveWith(g,a)}).fail(function(){g.rejectWith(g,E(arguments))});return g.promise()}function A(a){z(a)||c(r,"h5.u.obj.ns()");for(var a=a.split("."),b=a.length,e=0;e<b;e++)la(a[e])||c(r,"h5.u.obj.ns()");for(var g=window,e=0;e<b;e++){var d=a[e];void 0===g[d]&&(g[d]={});g=g[d]}return g}function G(a,b){var d=A(a),g;for(g in b)b.hasOwnProperty(g)&&(void 0!==d[g]&&c(e,[a,g]),d[g]=b[g])}function F(b){return!b||!b.jquery?!1:b.jquery===a().jquery}function E(a){return Array.prototype.slice.call(a)}
var D="undefined",r=11E3,e=11001,l=11004,d=11005,j=11006,k={},H={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&apos;"},b=void 0!==document.createElement("script").onload,w=-1===/\r\n/.toString().indexOf("\r\n");G("h5.u",{loadScript:function(e,d){var j=f.async.deferred,g=L(e);(!g||0===g.length)&&c(11007);for(var r=0,M=g.length;r<M;r++)e=g[r],(!z(e)||!a.trim(e))&&c(11007);null!=d&&!a.isPlainObject(d)&&c(11008,"h5.u.loadScript()");var v=d&&!1===d.async?!1:!0,o=!!(d&&!0===d.force),r=!!(d&&!0===
d.parallel),w=!!(d&&!0===d.atomic),n=!o,l=v?j():null,q=v?function(a){l.reject(da(11010,[a]))}:null,M=v?function(){var a=j();setTimeout(function(){a.resolve([])},0);return a.promise()}:null,H=r?[]:null,D=[],y={};if(v){if(!w&&b){var A=a("head"),F=function(a){var p=j(),g=document.createElement("script");g.onload=function(){g.onload=null;k[a]=a;p.resolve()};g.onerror=function(){g.onerror=null;p.reject(a)};g.type="text/javascript";g.src=n?a:a+(-1<a.indexOf("?")?"&_":"?_")+ +new Date;A[0].appendChild(g);
return p.promise()};if(r)H.push(M()),a.each(g,function(){var a=R(this);if(!o&&a in k)return!0;H.push(F(a))}),f.async.when(H).done(function(){l.resolve()}).fail(q);else{var G=S(j().resolve(),M);a.each(g,function(){var a=R(this);G=S(G,function(){if(o||!(a in k))return F(a)},q)});S(G,function(){l.resolve()},q)}}else if(r){var O=[];H.push(M());O.push(null);a.each(g,function(){var a=R(this);if(!o&&(a in k||a in y))return!0;H.push(x(a,v,n));w?y[a]=a:O.push(null)});r=g=null;w?(g=function(){a.each(E(arguments),
function(h,p){a.globalEval(p[0])});a.extend(k,y);l.resolve()},r=a.noop):(g=function(){l.resolve()},r=function(){for(var h=E(arguments),p=0;p<O.length;p++)if(h[p]){var g=h[p][3];O[p]!==g&&(a.globalEval(h[p][0]),O.splice(p,1,g))}});f.async.when(H).done(g).fail(q).progress(r)}else G=S(j().resolve(),M),a.each(g,function(){var h=R(this);G=S(G,function(){var g=j();!o&&(h in k||h in y)?g.resolve():x(h,v,n).done(function(m){w?(D.push(m),y[h]=h):(a.globalEval(m),k[h]=h);g.resolve()}).fail(function(){g.reject(this.url)});
return g.promise()},q)}),S(G,function(){w&&(a.each(D,function(h,g){a.globalEval(g)}),a.extend(k,y));l.resolve()},q);return l.promise()}a.each(g,function(){var h=R(this);if(!o&&(h in k||h in y))return!0;x(h,v,n).done(function(g){w?(D.push(g),y[h]=h):(a.globalEval(g),k[h]=h)}).fail(function(){c(11010,[h])})});w&&(a.each(D,function(h,g){a.globalEval(g)}),a.extend(k,y))},createInterceptor:function(b,d){return function(e){var g={},c=b?b.call(this,e,g):e.proceed();e.result=c;if(!d)return c;if(c&&a.isFunction(c.promise)&&
!F(c)){var j=this;na(c,"always",function(){d.call(j,e,g)});return c}d.call(this,e,g);return c}}});G("h5.u.str",{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var d=a.length-b.length;return 0<=d&&a.lastIndexOf(b)===d},format:function(a,b){if(null==a)return"";var d=arguments;return a.replace(/\{(\d+)\}/g,function(a,b){var c=d[parseInt(b,10)+1];return typeof c===D?D:c})},escapeHtml:function(b){return"string"!==a.type(b)?b:b.replace(/[&"'<>]/g,function(a){return H[a]})}});
G("h5.u.obj",{expose:G,ns:A,serialize:function(b){function e(a){for(var g=0,b=r.length;g<b;g++)if(a===r[g])return!0;return!1}function j(a){for(var g=0,b=r.length;g<b;g++)a===r[g]&&r.splice(g,1)}function g(b){var v=b,o=a.type(b);"object"===typeof b&&(b instanceof String?o="String":b instanceof Number?o="Number":b instanceof Boolean&&(o="Boolean"));switch(o){case "String":case "string":v=n(o)+y(v);break;case "Boolean":v=v.valueOf();case "boolean":v=n(o)+(v?1:0);break;case "Number":v=v.valueOf();if(a.isNaN&&
a.isNaN(b)||a.isNumeric&&!a.isNumeric(b))v=Infinity===b.valueOf()?n("infinity"):-Infinity===b.valueOf()?n("-infinity"):n("nan");v=n(o)+v;break;case "number":v=a.isNaN&&a.isNaN(b)||a.isNumeric&&!a.isNumeric(b)?Infinity===b?n("infinity"):-Infinity===b?n("-infinity"):n("nan"):n(o)+v;break;case "regexp":v=n(o)+y(v.toString(),w);break;case "date":v=n(o)+ +v;break;case "array":e(b)&&c(ERR_CODE_REFERENCE_CYCLE);r.push(b);for(var k=[],v=n(o)+"[",o=0,f=b.length;o<f;o++){k[o.toString()]=!0;var l;l=b.hasOwnProperty(o)?
"function"===a.type(b[o])?n(D):g(b[o]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):n("undefElem");v+='"'+l+'"';o!==b.length-1&&(v+=",")}var o="",u;for(u in b)k[u]||"function"!==a.type(b[u])&&(o+='"'+y(u)+'":"'+g(b[u]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');o&&(v+=(b.length?",":"")+'"'+n("objElem")+"{"+o.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),v=v.replace(/,$/,""),v+='}"');v+="]";j(b);break;case "object":e(b)&&c(d);r.push(b);v=n(o)+"{";for(u in b)b.hasOwnProperty(u)&&"function"!==a.type(b[u])&&
(v+='"'+u+'":"'+g(b[u]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');v=v.replace(/,$/,"");v+="}";j(b);break;case "null":case D:v=n(o)}return v}a.isFunction(b)&&c(11002);var r=[];return"2|"+g(b)},deserialize:function(b){function d(b){function r(a){switch(a){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";
case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return D;case "_":return"undefElem";case "@":return"objElem"}}b.match(/^(.)(.*)/);b=RegExp.$1;g=RegExp.$2?RegExp.$2:"";if(void 0!==b&&""!==b)switch(r(b)){case "String":g=new String(q(g,e));break;case "string":break;case "Boolean":"0"===g||"1"===g?g=new Boolean("1"===g):c(j);break;case "boolean":"0"===g||"1"===g?g="1"===g:c(j);break;case "nan":""!==g&&c(j);g=NaN;break;case "infinity":""!==g&&c(j);
g=Infinity;break;case "-infinity":""!==g&&c(j);g=-Infinity;break;case "Number":"infinity"===r(g)?g=new Number(Infinity):"-infinity"===r(g)?g=new Number(-Infinity):"nan"===r(g)?g=new Number(NaN):(g=new Number(g),isNaN(g.valueOf())&&c(j));break;case "number":g=(new Number(g)).valueOf();isNaN(g)&&c(j);break;case "array":var v;try{v=a.parseJSON(g)}catch(o){c(j)}a.isArray(v)||c(j);for(var k=0;k<v.length;k++)switch(r(v[k].substring(0,1))){case "undefElem":delete v[k];break;case "objElem":for(var w=d(n("object")+
v[k].substring(1)),b=[],k=0,f=v.length-1;k<f;k++)b[k]=v[k];v=b;for(var u in w)v[u]=w[u];break;default:v[k]=d(v[k])}g=v;break;case "object":try{v=a.parseJSON(g)}catch(H){c(j)}a.isPlainObject(v)||c(j);for(u in v)v[u]=d(v[u]);g=v;break;case "date":g=new Date(parseInt(g,10));break;case "regexp":try{k=g.match(/^\/(.*)\/(.*)$/),w=q(k[1],e),g=RegExp(w,k[2])}catch(x){c(j)}break;case "null":""!==g&&c(j);g=null;break;case D:""!==g&&c(j);g=void 0;break;default:c(l)}return q(g,e)}z(b)||c(11009);b.match(/^(.)\|(.*)/);
var e=RegExp.$1;"1"!==e&&"2"!==e&&c(11003,[e,"2"]);var g=RegExp.$2;return d(g)},isJQueryObject:F,argsToArray:E,getByPath:function(a,b){z(a)||c(r,"h5.u.obj.getByPath()");var d=a.split(".");!b&&"window"===d[0]&&d.unshift();for(var g=b||window,e=0,j=d.length;e<j&&!(g=g[d[e]],null==g);e++);return g}})})();(function(){var n,y,q,x,A,G,F;function E(a){return a.match(/^error$/i)?n:a.match(/^warn$/i)?y:a.match(/^info$/i)?q:a.match(/^debug$/i)?x:a.match(/^trace$/i)?A:a.match(/^all$/i)?G:a.match(/^none$/i)?
F:null}function D(b,d){var e={};if(a.isArray(b)){var c=b.slice(0,3).join(" <- ");0<b.slice(3).length&&(c+=" ...");e.recent=c;e.all=d.join("\n")}else e.recent=b,e.all=d;return e}function r(a){var b="";a.name?b=a.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(a.toString()),b=RegExp.$1);return b}function e(b){for(var b=f.u.obj.argsToArray(b),d=[],e=0,c=b.length;e<c;e++)d.push(a.type(b[e]));return d.join(", ")}function l(){}function d(g){(!z(g)||0===a.trim(g).length)&&c(b);this.category=a.trim(g)}var j=
10002,k=10003,H=10004,b=10005,w=10007,u=10008,J=10010;n=50;y=40;q=30;x=20;A=10;G=0;F=-1;var I=null;l.prototype={init:function(){},log:function(a){window.console&&(z(a.args[0])?this._logMsg(a):this._logObj(a))},_logMsg:function(a){var b=a.args,e=null,e=1===b.length?b[0]:f.u.str.format.apply(f.u.str,b),b=this._getLogPrefix(a)+e;a.logger.enableStackTrace&&(b+="  ["+a.stackTrace.recent+"]");a.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(b):this._consoleOut(a.level,b);a.logger.enableStackTrace&&
this._consoleOut(a.level,a.stackTrace.all);a.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(a,b){var e=!1;a==n&&console.error?(console.error(b),e=!0):a==y&&console.warn?(console.warn(b),e=!0):a==q&&console.info?(console.info(b),e=!0):a==x&&console.debug&&(console.debug(b),e=!0);!e&&console.log&&console.log(b)},_getLogPrefix:function(a){return"["+a.levelString+"]"+a.date.getHours()+":"+a.date.getMinutes()+":"+a.date.getSeconds()+","+a.date.getMilliseconds()+": "},
_logObj:function(a){var b=a.args,e=this._getLogPrefix(a);b.unshift(e);a.level==n&&console.error?this._output(console.error,b):a.level==y&&console.warn?this._output(console.warn,b):a.level==q&&console.info?this._output(console.info,b):a.level==x&&console.debug?this._output(console.debug,b):this._output(console.log,b)},_output:function(a,b){try{if(a.apply){a.apply(console,b);return}}catch(e){}a(b)}};d.prototype={enableStackTrace:!1,maxStackSize:10,error:function(a){this._log(n,arguments,this.error)},
warn:function(a){this._log(y,arguments,this.warn)},info:function(a){this._log(q,arguments,this.info)},debug:function(a){this._log(x,arguments,this.debug)},trace:function(a){this._log(A,arguments,this.trace)},_traceFunctionName:function(b){var d=Error(),c=d.stack||d.stacktrace,d=[],j={};if(c)var d=c.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),k=null,d=a.map(d,function(b){return k=0===b.length?
null:""===a.trim(b)?"{anonymous}":a.trim(b)}),j=D(d.slice(3,d.length),d.slice(0,this.maxStackSize));else{c=null;try{c=b.caller}catch(w){}b=0;if(c)for(;;){var f=e(c.arguments),l=r(c),n=null;try{n=c.caller}catch(u){d.push("{unable to trace}");j=D(d,d);break}l?d.push("{"+l+"}("+f+")"):n?d.push("{anonymous}("+f+")"):d.push("{root}("+f+")");if(!n||b>=this.maxStackSize){j=D(d,d);break}c=n;b++}else j=D("{unable to trace}","{unable to trace}")}return j},_log:function(a,b,d){var b={level:a,args:f.u.obj.argsToArray(b),
stackTrace:this.enableStackTrace?this._traceFunctionName(d):""},e=I.out,c=I.defaultOut,d=null;if(e)for(var e=L(e),j=0,r=e.length;j<r;j++){var k=e[j];if(k.compiledCategory.test(this.category)){d=k;break}}d||(d=c);j=d.compiledLevel;d=d.compiledTargets;if(!(a<j||0>j))if(b.logger=this,b.date=new Date,b.levelString=this._levelToString(a),d&&0!==d.length){j=0;for(r=d.length;j<r;j++)d[j].log(b)}},_levelToString:function(a){if(a===n)return"ERROR";if(a===y)return"WARN";if(a===q)return"INFO";if(a===x)return"DEBUG";
if(a===A)return"TRACE"}};f.u.obj.expose("h5.log",{createLogger:function(a){return new d(a)},configure:function(){function b(r,g,v){var n=null==v;if(!n){var o=g.category;(!z(o)||0===a.trim(o).length)&&c(J);o=a.trim(o);-1!==a.inArray(o,e)&&c(j,g.category);g.compiledCategory=ma(o);e.push(o)}o=null==g.level?E(n?d.level:v.level):z(g.level)?E(a.trim(g.level)):g.level;"number"!==typeof o&&c(k,g.level);g.compiledLevel=o;var o=[],f=g.targets;if(!n||null!=f){var l=[];null==f||a.isArray(f)||z(f)&&a.trim(f).length||
c(u);for(var f=L(f),q=0,h=f.length;q<h;q++){null==f[q]||z(f[q])&&a.trim(f[q]).length||c(u);var p=f[q];if(p){-1!==a.inArray(p,l)&&c(w,p);var m=r[p];m||c(H,p);l.push(p);o.push(m.compiledTarget)}}if(!n&&(r=v.targets,null!=r)){r=L(r);q=0;for(h=r.length;q<h;q++)p=r[q],-1===a.inArray(p,l)&&(o.push(v.compiledTargets[q]),l.push(p))}}g.compiledTargets=o}var d={level:"NONE",targets:null},e=[];I=a.extend(!0,{},f.settings.log?f.settings.log:{defaultOut:d});var r=I.target;r||(r={},I.target=r);(function(b){a.isPlainObject(b)||
c(10009);for(var d in b){var e=b[d];a.type(e.type)!=="object"&&e.type!=="console"&&c(1E4);var j=null,j=e.type==="console"?new l:a.extend(true,{},e.type);j.init&&j.init(e);e.compiledTarget=j}b.console={type:"console",compiledTarget:new l}})(r);var o=I.defaultOut;o||(o=d,I.defaultOut=o);b(r,o);var n=I.out;if(n)for(var n=L(n),q=0,x=n.length;q<x;q++)b(r,n[q],o)}})})();(function(){function c(n){f.settings.aspects=a.map(L(n),function(a){a.target&&(a.compiledTarget=ma(a.target));a.pointCut&&(a.compiledPointCut=
ma(a.pointCut));return a})}f.u.obj.ns("h5.settings");f.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(a){a=a.status;if("POST"===this.type||!(0===a||12029===a))return!1}}};var y=f.u.createInterceptor(function(a,c){this.log.info("{0}.{1}が開始されました。",this.__name,a.funcName);this.log.info(a.args);c.start=new Date;return a.proceed()},function(a,c){var f=(new Date).getTime()-
c.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,a.funcName,f)});f.u.obj.expose("h5.core.interceptor",{lapInterceptor:y,logInterceptor:y,errorInterceptor:function(c){var n=null;try{n=c.proceed()}catch(y){f.settings.commonFailHandler&&a.isFunction(f.settings.commonFailHandler)&&f.settings.commonFailHandler.call(null,y)}return n}});a(document).trigger("h5preinit");f.settings.aspects&&c(f.settings.aspects);f.log.configure()})();(function(){f.u.obj.expose("h5.env",{ua:function(c){function f(a,
b){var d=z(a,"[^;)]*",b).split(" ");return 1===d.length?"":d[d.length-1]}function q(a,b){var d=z(a,"[^;) ]*",b).split("/");return 1===d.length?"":d[d.length-1]}function x(a,b){var d=z(a,"[^;) ]*",b).split(":");return 1===d.length?"":d[d.length-1]}var A=!!c.match(/iPhone/i),G=!!c.match(/iPad/i),F=A||G,E=!!c.match(/android/i),D=!!c.match(/Windows Phone/i),r=!!c.match(/MSIE/)||!!c.match(/Trident/),e=!!c.match(/Firefox/i),l=!!c.match(/Chrome/i)||!!c.match(/CrMo/)||!!c.match(/CriOS/),d=!E&&!!c.match(/Safari/i)&&
!l,j=!!c.match(/Webkit/i),k=!!c.match(/Opera/i),H=E&&!!c.match(/Safari/i)&&!l,b=!(!A&&!D&&!(H&&c.match(/Mobile/)&&!c.match(/SC-01C/)||E&&l&&c.match(/Mobile/)||c.match(/Fennec/i)||c.match(/Opera Mobi/i))),w=!(!G&&!(H&&!c.match(/Mobile/)||E&&l&&!c.match(/Mobile/)||c.match(/SC-01C/)||c.match(/Fennec/i)||c.match(/Opera Tablet/i))),u=!b&&!w,J=null,I=null,g=function(b,d){return a.trim(c.substring(c.indexOf(b)+b.length,c.indexOf(d))).split("_")},z=function(b,d,e){return a.trim(c.match(!1===e?RegExp(b+d):
RegExp(b+d,"i")))};if(A)I=g("iPhone OS","like"),J=parseInt(I[0]),I=I.join(".");else if(G)I=g("CPU OS","like"),J=parseInt(I[0]),I=I.join(".");else if(!E||!e)E?(I=f("Android"),J=parseInt(I.split(".")[0])):D&&((I=f("Windows Phone OS"))||(I=f("Windows Phone")),J=parseInt(I.split(".")[0]));r&&k&&(r=!1);var M=g=null;if(F||E&&H)g=J,M=I;else{var v=null;r?v=f("MSIE",!1)||x("rv"):l?(v=q("Chrome",!1))||(v=q("CrMo",!1)):d?v=q("Version"):e?v=q("Firefox"):k&&((v=q("Version"))||(v=q("Opera")),v||(v=f("Opera")));
v&&(g=parseInt(v.split(".")[0]),M=v)}return{osVersion:J,osVersionFull:I,browserVersion:g,browserVersionFull:M,isiPhone:A,isiPad:G,isiOS:F,isAndroid:E,isWindowsPhone:D,isIE:r,isFirefox:e,isChrome:l,isSafari:d,isOpera:k,isAndroidDefaultBrowser:H,isSmartPhone:b,isTablet:w,isDesktop:u,isWebkit:j}}(navigator.userAgent)})})();(function(){function n(c){function e(){f=!0;d=this;j=F(arguments);if(Aa(c)||Ba(c))return c;var e=F(arguments);if(0<k.length)for(var b=0,w=k.length;b<w;b++){var u=e;u!==arguments&&
(u=L(u));a.isFunction(k[b])&&k[b].apply(this,u)}return c}var f=!1,d=null,j=null,k=[];c.progress=function(){for(var e=F(arguments),b=0,w=e.length;b<w;b++){var u=e[b];if(a.isArray(u))c.progress.apply(this,u);else if(a.isFunction(u))if(f){var n=j;n!==j&&(n=L(n));u.apply(d,n)}else k.push(u)}return this};c.notify=e;c.notifyWith=function(a,b){return!b?e.apply(a):e.apply(a,b)}}function y(c){if(!c)return!1;for(var c=L(c),e=0,f=c.length;e<f;e++)if(a.isFunction(c[e]))return!0;return!1}function q(c,e){function l(a){e?
e[a]&&(c[a]=e[a]):(u[a]=c[a],c[a]=function(){return function(){if(!b){var d=F(arguments);if("then"===a||"pipe"===a)d=d[1];y(d)&&(b=!0)}return c._h5UnwrappedCall.call(this,a,F(arguments))}}(a),J[a]=c[a])}function d(a){return function(){var d=f.settings.commonFailHandler;!b&&d&&!w&&(c.fail.call(this,d),w=!0);return a.apply(this,arguments)}}if(c._h5UnwrappedCall)return c;var j=!!c.progress,k=a.Deferred(),H=k!==k.then();!j&&!D(c)?n(c):e&&(c.progress=e.progress);var b=!1,w=!1,u={},J={};c._h5UnwrappedCall=
e?e._h5UnwrappedCall:function(b,d){d=L(d);a.extend(c,u);var e=c[b].apply(this,d);a.extend(c,J);return e};for(var k=0,I=x.length;k<I;k++){var g=x[k];c[g]&&l(g)}c.pipe&&!e&&(c.pipe=function(){for(var b=f.async.deferred(),c=F(arguments),d=0,e=A.length;d<e;d++){var j=this;(function(c,d,e){if(a.isFunction(c))j[d](function(){var d=c.apply(this,arguments);if(d&&a.isFunction(d.promise)){q(d);d.done(b.resolve);d._h5UnwrappedCall("fail",b.reject);a.isFunction(d.progress)&&d.progress(b.notify)}else b[e+"With"](this,
[d])})})(c[d],A[d],z[d])}return b.promise()},J.pipe=c.pipe);if(c.then&&!e){var E=c.then;c.then=function(){if(H)return J.pipe.apply(this,arguments);var a=arguments,b=E.apply(this,a);!j&&y(a[2])&&c.progress.call(c,a[2]);return b};J.then=c.then}c.reject&&(c.reject=e&&e.reject?e.reject:d(c.reject));c.rejectWith&&(c.rejectWith=e&&e.rejectWith?e.rejectWith:d(c.rejectWith));if(c.promise)if(e&&e.promise)c.promise=e.promise;else{var M=c.promise;c.promise=function(){return q(M.apply(this,arguments),c)}}return c}
var x=["fail","always","pipe","then"],A=["done","fail","progress"],z=["resolve","reject","notify"],F=f.u.obj.argsToArray,E=function(){var c=a.Deferred();return q(c)},D=function(a){return!!a&&a.done&&a.fail&&!a.resolve&&!a.reject};f.u.obj.expose("h5.async",{deferred:E,when:function(){var c=F(arguments);1===c.length&&a.isArray(c[0])&&(c=c[0]);var e=c.length,l=f.async.deferred(),d=l.promise(),j=a.when.apply(a,c).done(function(){l.resolveWith(this&&this.promise&&this.promise()===j?l:this,F(arguments))}).fail(function(){l.rejectWith(this,
F(arguments))});if(j.progress)j.progress(function(){l.notifyWith(this===j?d:this,F(arguments))});else{for(var k=[],n=0;n<e;n++)k[n]=void 0;for(var b=function(a){return function(b){k[a]=1<arguments.length?F(arguments):b;l.notifyWith(d,k)}},n=0;n<e;n++){var w=c[n];w&&a.isFunction(w.promise)&&w.progress&&(1<e?w.progress(b(n)):w.progress(function(){l.notifyWith(d,F(arguments))}))}}return d},isPromise:D,loop:function(f,e,l){a.isArray(f)||c(5E3);var d=E(),j="number"===a.type(l)?l:20,k=!1,n=0,b=f.length,
w,u=null,q=function(){if(n===b)d.resolve(f);else if(k)d.reject(f);else{var a=e.call(f,n,f[n],u);n++;D(a)?a.done(function(){w()}).fail(function(){k=!0;w()}):w()}},y=function(){setTimeout(function(){var a=n-1;0<n&&d.notify({data:f,index:a,value:f[a]});q()},0)},g=!1;w=function(){g||(0===n%j?y():q())};var x=!1,u={resume:function(){!x&&g&&(g=!1,w())},pause:function(){g=!0},stop:function(){x=!0;d.resolve(f)}};y();return d.promise()}})})();(function(){function c(a,f){for(var n=0,r=A.length;n<r;n++){var e=
A[n];a[e]&&(f[G[e]](a[e]),a[e]=void 0)}}function y(c,f,n){for(var r in f)if(f.hasOwnProperty(r)&&(n||!a.isFunction(f[r]))&&-1===a.inArray(r,x))c[r]=f[r]}function q(a,c){y(this,a,!0);c.promise(this);var f=this.always;this.always=function(){f.apply(this,arguments);return this}}var x=["error","success","complete"],A=["error","success","complete"],G={success:"done",error:"fail",complete:"always"};f.u.obj.expose("h5",{ajax:function(){function x(a,c,f){y(l,f);e.resolveWith(this,arguments)}function A(c,
j,f){if(0===D.retryCount||!1===D.retryFilter.apply(this,arguments))y(l,c),e.rejectWith(this,arguments);else if(D.retryCount--,this.async){var n=this;setTimeout(function(){a.ajax(n).done(x).fail(A)},D.retryInterval)}else a.ajax(this).done(x).fail(A)}var D={},r=arguments;z(r[0])?(a.extend(D,r[1]),D.url=r[0]):a.extend(D,r[0]);var D=a.extend({},f.settings.ajax,D),e=f.async.deferred();c(D,e);var r=a.ajax(D),l=new q(r,e);r.done(x).fail(A);return l}})})();(function(){function n(a,i,b,h,c){this.controller=
a;this.event=i;this.evArg=b;this.selector=h;this.selectorType=c}function y(a){return!this.__controllerContext.executeListeners?void 0:a.proceed()}function q(a,i,b){var h=x(a.__name,i);b&&h.push(y);return A(a[i],i,h)}function x(B,i){var b=[],h=f.settings.aspects;if(!h||0===h.length)return b;for(var h=L(h),c=h.length-1;-1<c;c--){var d=h[c];if(!d.target||d.compiledTarget.test(B)){var e=d.interceptors;if(!d.pointCut||d.compiledPointCut.test(i))if(a.isArray(e))for(d=e.length-1;-1<d;d--)b=b.concat(e[d]);
else b.push(e)}}return b}function A(a,i,b){for(var h=function(a,B,i){return function(){var b=this;return i.call(b,{target:b,func:a,funcName:B,args:arguments,proceed:function(){return a.apply(b,this.args)}})}},c=0,d=b.length;c<d;c++)a=h(a,i,b[c]);return a}function G(a){return!!a.match(/^\{.*\}$/)}function F(a){return!!a.match(/^\[.*\]$/)}function E(B){return a.trim(B.substring(1,B.length-1))}function D(B){return a.trim(B.substring(1,B.length-1))}function r(a,b){for(var h=["window","document","navigator"],
c=0,d=h.length;c<d;c++){var e=h[c];if(a===e||i(a,e+"."))return f.u.obj.getByPath(a,b.defaultView||b.parentWindow)}return a}function e(B){var i=function(B,b){for(var h in B)if(0<=a.inArray(B,b)||fa(h,Ra)&&i(B[h],b.concat([B])))return!0;return!1};return i(B,[])}function l(B){var i=function(B,b){for(var h in B)if(0<=a.inArray(B,b)||fa(h,ra)&&i(B[h],b.concat([B])))return!0;return!1};return i(B,[])}function d(B,i){var b=B[i];return fa(i,Ra)&&"rootController"!==i&&"parentController"!==i&&!a.isFunction(b)&&
b&&!b.__controllerContext.isRoot}function j(B,i,b){var h=[],c=[],e=function(B){c.push(B);for(var p in B)if(d(B,p)){var m=B[p],s=b?m.__controllerContext[i]:m[i];s&&h.push(s);-1===a.inArray(m,c)&&e(m)}};e(B);return h}function k(a){var i=function(a){var B=a.__meta,b={};if(B)for(var h in B)!1===B[h].useHandlers&&(b[h]=1);for(h in a)B=a[h],d(a,h)&&(i(B),b[h]||H(B))};i(a)}function H(B){var i=B.__controllerContext.bindMap,b;for(b in i)for(var h in i[b]){var c=B,d=b,e=h,p=c.__controllerContext.bindMap[d][e],
m=e,s=F(e);s&&(m=D(e));var j=null;switch(m){case "mousewheel":j=aa(c,d,m,p);break;case sa:case db:case ta:j=ea(c,d,e,p);break;default:j=T(c,d,m,p)}if(a.isArray(j)){c=0;for(d=j.length;c<d;c++)w(j[c],s)}else w(j,s)}}function b(B){var i=B.controller.rootElement,b=B.selector,h=B.eventName,c=B.handler,d=F(h),h=d?D(h):h,e=ga(i);if(G(b)){var p=E(b),b=!1;p===Da?b=!0:i=r(p,e);b||d||!z(i)?(B.evSelectorType=N.SELECTOR_TYPE_OBJECT,a(i).bind(h,c)):(B.evSelectorType=N.SELECTOR_TYPE_GLOBAL,a(e).delegate(i,h,c));
B.evSelector=i}else B.evSelectorType=N.SELECTOR_TYPE_LOCAL,B.evSelector=b,d?a(b,i).bind(h,c):a(i).delegate(b,h,c)}function w(i,h){h&&(i.eventName="["+i.eventName+"]");var c=i.handler;i.handler=function(){var b=f.settings.listenerElementType===1?a(arguments[0].currentTarget):arguments[0].currentTarget;c.call(i.controller,Ca(i,arguments),b)};ia(i.controller,i.selector,i.eventName,i.handler);b(i)}function u(a){var i=function(a){var b=a.__meta,B={};if(b)for(var h in b)!1===b[h].useHandlers&&(B[h]=1);
for(h in a)b=a[h],d(a,h)&&(i(b),B[h]||J(b))};i(a)}function J(i){var b=i.rootElement;if(b){var h=ga(b),i=i.__controllerContext.unbindMap,c;for(c in i)for(var d in i[c]){var e=i[c][d],p=F(d),m=p?D(d):d;if(G(c)){var s=E(c),j=!1;if(s===Da)s=b,j=!0;else{if(null==(h.defaultView||h.parentWindow))continue;s=r(s,h)}j||p||!z(s)?a(s).unbind(m,e):a(h).undelegate(s,m,e)}else p?a(c,b).unbind(m,e):a(b).undelegate(c,m,e)}}}function I(i,b){i.__controllerContext.executeListeners=b;var h=[],c=function(i){h.push(i);
for(var B in i)if(d(i,B)){var e=i[B];e.__controllerContext.executeListeners=b;-1===a.inArray(e,h)&&c(e)}};c(i)}function g(i){var b=[],h=function(i,B,c){i.rootController=B;i.parentController=c;b.push(i);for(var e in i)d(i,e)&&(c=i[e],-1===a.inArray(c,b)&&h(c,B,i))};h(i,i,null)}function $(i,b){var h=b?"__init":"__ready",c=X();setTimeout(function(){c.resolve()},0);var e=c.promise(),p=function(c){var m=!0,s;for(s in c)d(c,s)&&(m=!1,p(c[s]));var fa=function(){var d=null,e=c.__name;if(c[h])try{d=c[h]({args:c.__controllerContext.args})}catch(p){throw i.rootController&&
i.rootController.dispose(arguments),p;}var m=b?v(c):o(c);d&&a.isFunction(d.done)&&a.isFunction(d.fail)?d.done(function(){m()}).fail(function(){var a=da(Sa,e,V(arguments));i.rootController&&i.rootController.dispose(a)}):m()};s=b?M(c):j(c,"readyPromise");b&&m&&s.push(e);f.async.when(s).done(function(){fa()}).fail(ua)};p(i)}function M(a){var i=j(a,"initPromise");i.push(a.preinitPromise);return i}function v(a){return function(){if(!Z(a)){a.isInit=!0;var i=a.__controllerContext.initDfd;delete a.__controllerContext.templatePromise;
delete a.__controllerContext.preinitDfd;delete a.__controllerContext.initDfd;i.resolveWith(a);a.__controllerContext&&a.__controllerContext.isRoot&&h(a)}}}function o(i){return function(){if(!Z(i)){i.isReady=!0;var b=i.__controllerContext.readyDfd;delete i.__controllerContext.readyDfd;b.resolveWith(i);i.__controllerContext&&i.__controllerContext.isRoot&&i.rootElement&&i.isInit&&i.isReady&&a(i.rootElement).trigger("h5controllerready",i)}}}function Q(b,h,d){if(!z(b))return a(b);var e=a.trim(b);G(e)?(b=
E(e),d&&(i(b,"window")||i(b,"navigator"))&&c(ma),h=a(r(b,ga(h.ownerDocument)))):h=a(h).find(b);return h}function ia(a,i,b,h){a.__controllerContext.unbindMap[i]||(a.__controllerContext.unbindMap[i]={});a.__controllerContext.unbindMap[i][b]=h}function T(a,i,b,h){return{controller:a,selector:i,eventName:b,handler:h}}function aa(a,i,b,h){return{controller:a,selector:i,eventName:typeof document.onmousewheel===la?"DOMMouseScroll":b,handler:function(i){var b=i.event;null==b.wheelDelta&&b.originalEvent&&
null!=b.originalEvent.wheelDelta&&(b.wheelDelta=b.originalEvent.wheelDelta);null==b.wheelDelta&&b.originalEvent&&null!=b.originalEvent.detail&&(b.wheelDelta=40*-b.originalEvent.detail);h.call(a,i)}}}function ea(i,b,h,c){var d=typeof document.ontouchstart!==la;if(h!==sa)return d?T(i,b,h,c):T(i,b,h,function(i){var b=i.event,h=a(b.currentTarget).offset()||{left:0,top:0};b.offsetX=b.pageX-h.left;b.offsetY=b.pageY-h.top;c.apply(this,arguments)});var e=function(a,i){for(var b in a)a.hasOwnProperty(b)&&
!i[b]&&"target"!==b&&"currentTarget"!==b&&"originalEvent"!==b&&"liveFired"!==b&&(i[b]=a[b]);i.h5DelegatingEvent=a},p=d?"touchstart":"mousedown",m=d?"touchmove":"mousemove",s=d?"touchend":"mouseup",j=a(ga(i.rootElement));return function(){var fa=null,g=!1,V=function(b,h,c){return function(p){var N;a:{switch(b){case "touchstart":case "mousedown":N=sa;break a;case "touchmove":case "mousemove":N=db;break a;case "touchend":case "mouseup":N=ta;break a}N=void 0}var Ha=N===sa;if(!Ha||!g){d&&W(p.event,b);
var Y=new a.Event(N);e(p.event,Y);var f=p.event.target;h&&(f=h);c&&c(Y);var Ia=p.event.originalEvent||p.event;Ha&&-1===a.inArray(Ia,K)&&(K=[],oa=[]);var t=a.inArray(Ia,K);-1===t&&(t=K.push(Ia)-1,oa[t]=!1);if(!oa[t]&&(!d||g||Ha))oa[t]=!0,a(f).trigger(Y,p.evArg),g=!0;if(p.event.currentTarget===document&&(N===ta&&(K=[],oa=[]),-1!==a.inArray(Ia,K)))K.splice(t,1),oa.splice(t,1);if(Ha&&g){Y.h5DelegatingEvent.preventDefault();N=Y.target;var k=Y.clientX,xa=Y.clientY,n=V(m,N,function(a){var i=a.clientX,b=
a.clientY;a.dx=i-k;a.dy=b-xa;k=i;xa=b}),w=V(s,N),ca=function(a){p.event=a;p.evArg=ja(arguments);n(p)},C=function(a){p.event=a;p.evArg=ja(arguments);w(p)},l=d?a(N):j;fa=function(){K=[];oa=[];l.unbind(m,ca);l.unbind(s,C);if(!d&&i.rootElement!==document){a(i.rootElement).unbind(m,ca);a(i.rootElement).unbind(s,C)}};l.bind(m,ca);l.bind(s,C);!d&&i.rootElement!==document&&(a(i.rootElement).bind(m,ca),a(i.rootElement).bind(s,C))}else N===ta&&(fa(),g=!1)}}},N=[T(i,b,h,c)];N.push({controller:i,selector:b,eventName:p,
handler:V(p)});return N}()}function W(i,b){var h=i.originalEvent;if(h){var c="touchend"===b||"touchcancel"===b?h.changedTouches[0]:h.touches[0],d=c.pageX,e=c.pageY;i.pageX=h.pageX=d;i.pageY=h.pageY=e;i.screenX=h.screenX=c.screenX;i.screenY=h.screenY=c.screenY;i.clientX=h.clientX=c.clientX;i.clientY=h.clientY=c.clientY;c=i.target;if(c.ownerSVGElement)c=c.farthestViewportElement;else if(c===window||c===document)c=document.body;if(c=a(c).offset())e-=c.top,i.offsetX=h.offsetX=d-c.left,i.offsetY=h.offsetY=
e}}function ja(a){return 3>a.length?a[1]:V(a).slice(1)}function Ca(i,b){var h=null,c=null;b&&(h=b[0],c=ja(b));var d=h;if(d&&null==d.offsetX&&null==d.offsetY&&d.pageX&&d.pageY){var e=d.target;if(e.ownerSVGElement)e=e.farthestViewportElement;else if(e===window||e===document)e=document.body;if(e=a(e).offset())d.offsetX=d.pageX-e.left,d.offsetY=d.pageY-e.top}return new n(i.controller,h,c,i.evSelector,i.evSelectorType)}function ba(a){for(var i in a){var b=a[i];d(a,i)&&(b.rootElement=null,b.view.__controller=
null,ba(b))}}function U(a){var i=a.rootElement,b=a.__meta,h;for(h in a){var c=a[h];d(a,h)&&(c.rootElement=b&&b[h]&&b[h].rootElement?O(b[h].rootElement,i,c):i,c.view.__controller=c,U(c))}}function O(i,b,h){null==i&&c(Ja,[h.__name]);!z(i)&&"object"!==typeof i&&c(Ka,[h.__name]);i=b?Q(i,b):a(i);0===i.length&&c(va,[h.__name]);1<i.length&&c(La,[h.__name]);return i.get(0)}function h(i){H(i);k(i);var b=i.__controllerContext.managed,h=f.core.controllerManager.controllers;-1===a.inArray(i,h)&&!1!==b&&h.push(i);
!1!==b&&a(i.rootElement).trigger("h5controllerbound",i);b=j(i,"initPromise");b.push(i.initPromise);f.async.when(b).done(function(){$(i,!1)}).fail(ua)}function p(a){null===a.rootController&&g(a);U(a);$(a,!0)}function m(a,i){var b=X();b.resolve();a.__controllerContext.templatePromise=b.promise();a.__controllerContext.initDfd=X();a.initPromise=a.__controllerContext.initDfd.promise();a.__controllerContext.readyDfd=X();a.readyPromise=a.__controllerContext.readyDfd.promise();a.isInit=!1;a.isReady=!1;a.__controllerContext.args=
i;for(var h in a)d(a,h)&&m(a[h])}function s(i,b){var h=null,c=b;a.isPlainObject(c)?h=c.target:c={};h=h?Q(h,i.rootElement,!0):i.rootElement;return f.ui.indicator.call(i,h,c)}function t(i,b){var h=[],c=[],e=function(i){var p=X();c.push(i);for(var B in i)if(d(i,B)){var m=i[B];-1===a.inArray(m,c)&&e(m)}i[b]&&a.isFunction(i[b])&&(i=i[b](),f.async.isPromise(i)&&(i.always(function(){p.resolve()}),h.push(p.promise())))};e(i);return h}function C(i){var b=[],h=function(i){b.push(i);i.view.__view&&i.view.clear();
for(var c in i)if(i.hasOwnProperty(c)){if(d(i,c)){var e=i[c];-1===a.inArray(e,b)&&h(e)}i[c]=null}};h(i)}function P(a,i){return i.view.__view.isAvailable(a)?i.view.__view:i.parentController?P(a,i.parentController):f.core.view}function Z(a){return!a.__controllerContext||a.__controllerContext.isDisposing}function Ta(a,i){function b(a,c){var d=a.__controllerContext[e[c]];d&&!Aa(d)&&!Ba(d)&&d.rejectWith(a,[i]);if(a.parentController)b(a.parentController,c);else if(c<e.length-1)for(var d=0,p=h.length;d<
p;d++)b(h[d],c+1)}var h=[],c=function(a){var i=!1,b;for(b in a)d(a,b)&&(i=!0,c(a[b]));i||h.push(a)};c(a);for(var e=["initDfd","readyDfd"],p=0,m=h.length;p<m;p++)b(h[p],0)}function Ea(a,i){for(var b=a.childNodes,h=0,c=b.length;h<c;h++){var d=b[h];if(1===d.nodeType){if(d=Ea(d,i))return d}else if(8===d.nodeType){var e=d.nodeValue;if(0===e.indexOf(wa)){var p=e.indexOf("}");if(-1!==p&&(e=e.slice(0,p).match(/id="([A-Za-z][\w-:\.]*)"/))&&e[1]===i)return d}}}return null}function Ma(a){var i=this;return function(){return a.apply(i,
arguments)}}function Na(a){var i=this;return function(){var b=f.u.obj.argsToArray(arguments);b.unshift(this);return a.apply(i,b)}}function Oa(a){this.__controller=a;f.u.obj.getByPath("h5.core.view")&&(this.__view=f.core.view.createView())}function pa(a,i,b,h,c){this.__name=i;this.__templates=null;this.rootElement=a;this.__controllerContext={executeListeners:!0,isRoot:c,bindMap:{},unbindMap:{},controllerDef:b};this.__controllerContext.args=h?h:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=
this.preinitPromise=this.parentController=this.rootController=null;this.log=f.log.createLogger(i);this.view=new Oa(this)}function eb(){this.rootElement=document;this.controllers=[];a(document).bind(Fa,function(a,i){null==i.target&&(i.target=document);i.indicator=s(this,i);a.stopPropagation()})}function S(i,b,h,d){var m=!d||!d.isInternal,s=b.__name;(!z(s)||0===a.trim(s).length)&&c(na,null,{controllerDefObj:b});h&&!a.isPlainObject(h)&&c(Ua,[s],{controllerDefObj:b});b.__controllerContext&&c(Va,null,
{controllerDefObj:b});if(m||i)if(null==i)c(Ja,[s],{controllerDefObj:b});else if(z(i)||"object"===typeof i){var j=a(i);0===j.length&&c(va,[s],{controllerDefObj:b});1<j.length&&c(La,[s],{controllerDefObj:b})}else c(Ka,[s],{controllerDefObj:b});e(b)&&c(Ga,[s],{controllerDefObj:b});l(b)&&c(Wa,[s],{controllerDefObj:b});var g=new pa(i?a(i).get(0):null,s,b,h,m),i=a.extend(!0,{},b),N=b.__templates,V=X(),j=V.promise(),Y=X(),t=Y.promise();g.__controllerContext.preinitDfd=Y;g.preinitPromise=t;g.__controllerContext.initDfd=
X();g.initPromise=g.__controllerContext.initDfd.promise().fail(ua);g.__controllerContext.readyDfd=X();g.readyPromise=g.__controllerContext.readyDfd.promise();m||g.readyPromise.fail(ua);if(N&&0<N.length){var k=function(a){f.u.obj.getByPath("h5.core.view")||c(Xa);g.view.load(N).done(function(){V.resolve()}).fail(function(i){var b=i.detail.error.status;a===f.settings.dynamicLoading.retryCount||0!==b&&12029!==b?setTimeout(function(){V.reject(i)},0):setTimeout(function(){k(++a)},f.settings.dynamicLoading.retryInterval)})};
k(0)}else V.resolve();j.done(function(){Z(g)||Y.resolveWith(g)}).fail(function(a){Y.rejectWith(g,[a]);g.rootController&&g.rootController.dispose(a)});for(var K in i)if(xa[K])c(Ya,[s,K],{controllerDefObj:b});else if(("__ready"===K||"__construct"===K||"__init"===K)&&a.isFunction(i[K]))g[K]=q(i,K);else if(-1!==K.indexOf(" ")&&a.isFunction(i[K])){j=a.trim(K);t=j.lastIndexOf(" ");m=a.trim(j.substring(0,t));j=a.trim(j.substring(t+1,j.length));F(j)&&(j="["+a.trim(D(j))+"]");G(m)&&"this"===E(m)&&c(Za,[s],
{controllerDefObj:b});t=g.__controllerContext.bindMap;t[m]||(t[m]={});t[m][j]&&c(qa,[s,m,j],{controllerDefObj:b});var n=q(i,K,!0);t[m][j]=n;g[K]=n}else fa(K,Ra)&&i[K]&&!a.isFunction(i[K])?(m=S(null,a.extend(!0,{},i[K]),h,a.extend({isInternal:!0},d)),g[K]=m):g[K]=fa(K,ra)&&i[K]&&!a.isFunction(i[K])?R(b[K]):a.isFunction(i[K])?q(i,K):i[K];if(h=g.__meta)for(K in h)m=g[K],void 0===m&&c(Pa,[s,K],{controllerDefObj:b}),null===m&&c(Qa,[s,K],{controllerDefObj:b}),pa.prototype.constructor!==m.constructor&&c(ya,
[s,K],{controllerDefObj:b});g.__construct&&g.__construct({args:g.__controllerContext.args});if(Z(g))return null;d&&"managed"in d&&(g.__controllerContext.managed=d.managed);g.__controllerContext.isRoot&&p(g);return g}function R(i){var b=i.__name;(!z(b)||0===a.trim(b).length)&&c(za,null,{logicDefObj:i});i.__logicContext&&c(ha,null,{logicDefObj:i});var h=a.extend(!0,{},i),d;for(d in h)h[d]=a.isFunction(h[d])?A(h[d],d,x(h.__name,d)):h[d];h.deferred=X;h.log=f.log.createLogger(b);h.__logicContext={logicDef:i};
h.own=Ma;h.ownWithOrg=Na;for(var e in h)h.hasOwnProperty(e)&&fa(e,ra)&&(h[e]=R(h[e]));return h}var la="undefined",Ra="Controller",ra="Logic",sa="h5trackstart",db="h5trackmove",ta="h5trackend",Da="rootElement",Fa="triggerIndicator",wa="{h5view ",ma=6E3,Ja=6001,va=6003,La=6004,na=6006,Ua=6007,Va=6008,Ga=6009,Wa=6010,Ya=6011,Za=6012,qa=6013,Pa=6014,Qa=6015,ya=6016,za=6017,ha=6018,Xa=6029,Ka=6030,Sa=6033,ua=function(){},X=f.async.deferred,i=f.u.str.startsWith,fa=f.u.str.endsWith,Y=f.u.str.format,V=f.u.obj.argsToArray,
N={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},K=[],oa=[];a.extend(n.prototype,N);a.extend(Oa.prototype,{get:function(a,i){return P(a,this.__controller).get(a,i)},update:function(a,i,b){a=Q(a,this.__controller.rootElement,!0);return P(i,this.__controller).update(a,i,b)},append:function(a,i,b){a=Q(a,this.__controller.rootElement,!0);return P(i,this.__controller).append(a,i,b)},prepend:function(a,i,b){a=Q(a,this.__controller.rootElement,!0);return P(i,this.__controller).prepend(a,
i,b)},load:function(a){return this.__view.load(a)},register:function(a,i){this.__view.register(a,i)},isValid:function(a){return this.__view.isValid(a)},isAvailable:function(a){return P(a,this.__controller).isAvailable(a)},clear:function(a){this.__view.clear(a)},bind:function(i,b){var h=i;if(z(i)&&0===i.indexOf("h5view#")){for(var c=Ea(this.__controller.rootElement,i.slice(7)),h=c.nodeValue,h=h.slice(h.indexOf("}")+1),d=a("<div>").append(h),h=[],e=d[0].childNodes,p=0,m=e.length;p<m;p++)h.push(e[p]);
d.empty();d=document.createDocumentFragment();p=0;for(m=h.length;p<m;p++)d.appendChild(h[p]);c.parentNode.insertBefore(d,c.nextSibling)}return this.__view.bind(h,b)}});a.extend(pa.prototype,{$find:function(i){return a(this.rootElement).find(i)},deferred:function(){return X()},trigger:function(i,b){var h=z(i)?a.Event(i):i;a(this.rootElement).trigger(h,b);return h},own:Ma,ownWithOrg:Na,bind:function(a,i){this.__controllerContext.isRoot||c(6031);this.rootElement=O(a,null,this);this.view.__controller=
this;m(this,i?i:null);p(this);return this},unbind:function(){this.__controllerContext.isRoot||c(6031);t(this,"__unbind");J(this);u(this);this.__controllerContext.unbindMap={};var i=this;f.core.controllerManager.controllers=a.grep(f.core.controllerManager.controllers,function(a){return a!==i});a(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;ba(this)},dispose:function(a){if(!Z(this)){Ta(this,a);this.__controllerContext.isDisposing=1;var i=this.deferred();
this.unbind();var b=this,a=t(this,"__dispose");f.async.when(a).done(function(){C(b);i.resolve()});return i.promise()}},triggerIndicator:function(i){var b={indicator:null};i&&a.extend(b,i);a(this.rootElement).trigger(Fa,[b]);return b.indicator},indicator:function(a){return s(this,a)},enableListeners:function(){I(this,!0)},disableListeners:function(){I(this,!1)},throwError:function(a,i){var b=V(arguments);b.unshift(null);this.throwCustomError.apply(null,b)},throwCustomError:function(a,i,b){2>arguments.length&&
c(6005);var h=null;i&&z(i)?h=Error(Y.apply(null,V(arguments).slice(1))):(h=Error(),h.detail=i);h.customType=a;throw h;}});a.extend(eb.prototype,{getAllControllers:function(){return this.controllers},getControllers:function(i,b){for(var h=b&&b.deep,c=b&&b.name?L(b.name):null,d=a(i)[0],e=this.controllers,p=[],m=0,s=e.length;m<s;m++){var j=e[m];c&&-1===a.inArray(j.__name,c)||(d===j.rootElement?p.push(j):h&&ga(d)===ga(j.rootElement)&&a.contains(d,j.rootElement)&&p.push(j))}return p}});f.u.obj.expose("h5.core",
{controllerManager:new eb});var xa={},ca=new pa(null,"a"),ka;for(ka in ca)ca.hasOwnProperty(ka)&&"__name"!==ka&&"__templates"!==ka&&"__meta"!==ka&&(xa[ka]=1);ca=null;ca=pa.prototype;for(ka in ca)ca.hasOwnProperty(ka)&&(xa[ka]=1);ca=null;bb.controllerInternal=S;f.u.obj.expose("h5.core",{controller:function(a,i,b){2>arguments.length&&c(6032);return S(a,i,b)},logic:R,expose:function(a){var i=a.__name;i||c(6019,null,{target:a});var b=i.lastIndexOf(".");if(-1===b)window[i]=a;else{var h=i.substr(0,b),i=
i.substr(b+1,i.length),b={};b[i]=a;f.u.obj.expose(h,b)}}})})();(function(){function n(a){return(a=a.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/))?{elmType:a[1],dataModel:a[2],dimension:a[3]?1:0}:{}}function y(i,b){return function V(i,h){if(!b[i])return!1;for(var c=0,d=b[i].length;c<d;c++)if(-1<a.inArray(b[i][c],h)||V(b[i][c],h.concat([i])))return!0;return!1}(i,[])}function q(a){return"number"===typeof a&&isNaN(a)}function x(a,b){return null==a||q(a)||"number"===typeof a||
!b&&(a instanceof Number||!(!(z(a)||a instanceof String)||!a.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function A(a,b){return null==a||"number"===typeof a&&parseInt(a)===a||!b&&(a instanceof Number&&parseInt(a)===parseFloat(a)||("string"===typeof a||a instanceof String)&&!!a.match(/^[+\-]{0,1}[0-9]+$/))}function G(i,b,d,e){"object"!==typeof i&&c(h);var m=[];try{if(b){var s=!1,g;for(g in i)if(i[g]&&!0===i[g].id){if(s&&(m.push(j(Oa)),e))throw null;s=!0}if(!s&&(m.push(j(pa)),e))throw null;}var s={},
f;for(f in i){var t=null==i[f]?{}:i[f],k=b&&!!t.id;if(!la(f)&&(m.push(j(S,f)),e))throw null;var B=t.depend;if(null!=B){if(k&&(m.push(j(R,f)),e))throw null;if(t.hasOwnProperty("defaultValue")&&(m.push(j(Wa,f)),e))throw null;if(null==B.on){if(m.push(j(da,f)),e)throw null;}else for(var w=L(B.on),C=0,l=w.length;C<l;C++)if(!i.hasOwnProperty(w[C])){m.push(j(da,f));if(e)throw null;break}if("function"!==typeof B.calc&&(m.push(j(ga,f)),e))throw null;s[f]=L(B.on)}var P=t.type;k&&null==P&&(P="string");C={};
if(null!=P)if(z(P)){if(k&&"string"!==P&&"integer"!==P&&(m.push(j(Za,f)),e))throw null;C=n(P);if(C.elmType){if(C.dataModel){if(!b&&(m.push(j(ra,f,C.dataModel)),e))throw null;if(!d.models[C.dataModel]&&(m.push(j(sa,f,C.dataModel)),e))throw null;}if("enum"===C.elmType&&null==t.enumValue&&(m.push(j(na,f)),e))throw null;}else if(m.push(j(ra,f,P)),e)throw null;}else if(m.push(j(ma,f)),e)throw null;var u=t.constraint;if(null!=u)if(a.isPlainObject(u)){for(g in u){var o=u[g];if(null!=o)switch(g){case "notNull":if(!0!==
o&&!1!==o){if(m.push(j(Da,f,g)),e)throw null;}else if(k&&!o&&(m.push(j(Ga,f,g,o)),e))throw null;break;case "min":case "max":switch(C.elmType){case "integer":if(z(o)||!A(o)||q(o))if(m.push(j(Fa,f,g)),e)throw null;break;case "number":if(z(o)||z(o)||!x(o)||Infinity===o||-Infinity===o||q(o))if(m.push(j(Fa,f,g)),e)throw null;break;default:if(m.push(j(wa,f,g,C.elmType)),e)throw null;}break;case "minLength":case "maxLength":switch(C.elmType){case "string":if(z(o)||!A(o)||q(o)||0>o){if(m.push(j(Ja,f,g)),
e)throw null;}else if(k&&"maxLength"===g&&0===o&&(m.push(j(Ga,f,g,o)),e))throw null;break;default:if(m.push(j(wa,f,g,C.elmType)),e)throw null;}break;case "notEmpty":switch(C.elmType){case "string":if(!0!==o&&!1!==o){if(m.push(j(Da,f,g)),e)throw null;}else if(k&&!o&&(m.push(j(Ga,f,g,o)),e))throw null;break;default:if(m.push(j(wa,f,g,C.elmType)),e)throw null;}break;case "pattern":switch(C.elmType){case "string":if("regexp"!==a.type(o)&&(m.push(j(Aa,f,g)),e))throw null;break;default:if(m.push(j(wa,f,
g,C.elmType)),e)throw null;}}}if(u.notEmpty&&0===u.maxLength&&(m.push(j(va,f,"notEmpty","maxLength")),e))throw null;if(null!=u.min&&null!=u.max&&u.min>u.max&&(m.push(j(va,f,"min","max")),e))throw null;if(null!=u.minLength&&null!=u.maxLength&&u.minLength>u.maxLength&&(m.push(j(va,f,"minLength","maxLength")),e))throw null;}else if(m.push(j(ta,f)),e)throw null;var Z=t.enumValue;if(null!=Z){if("enum"!==C.elmType&&(m.push(j(La,f)),e))throw null;if(!a.isArray(Z)||0===Z.length||-1<a.inArray(null,Z)||-1<
a.inArray(void 0,Z))if(m.push(j(Ba,f)),e)throw null;}if(k&&t.hasOwnProperty("defaultValue")&&(m.push(j(Ua,f)),e))throw null;}for(var r in s)if(y(r,s)&&(m.push(j(Ya,r)),e))throw null;}catch(v){c(p,null,m)}return!0}function F(a,b,h){var d=[];try{for(var e in a){var m=a[e];if(m&&(m.hasOwnProperty("defaultValue")||!m.type||!("array"===m.type||n(m.type).dimension))&&m.hasOwnProperty("defaultValue")){var s=m.defaultValue;if(b[e](s).length&&(d.push(j(Va,e,s)),h))throw null;}}return!0}catch(g){c(p,null,d)}}
function E(a,b,h){var c={},d;for(d in a){var m=c,p=d,s;s=h;var g=a[d]||{},j=[],f=null,t=0,f=g.type,k=g.constraint||{};b&&g.id&&(f=f||"string",k.notNull=!0,"string"===f&&(k.notEmpty=!0));f&&(t=n(f),f=t.elmType,t=t.dimension,j.push(r(f,{manager:s,enumValue:g.enumValue})));k&&j.push(D(k));s=e({checkFuncs:j,dimension:t});m[p]=s}return c}function D(a){return function(b){var h=[];a.notNull&&null==b&&h.push({notNull:a.notNull});a.notEmpty&&!b&&h.push({notEmpty:a.notEmpty});if(null==b)return h;null!=a.min&&
b<a.min&&h.push({min:a.min});null!=a.max&&a.max<b&&h.push({max:a.max});null!=a.minLength&&b.length<a.minLength&&h.push({minLength:a.minLength});null!=a.maxLength&&a.maxLength<b.length&&h.push({maxLength:a.maxLength});null!=a.pattern&&!b.match(a.pattern)&&h.push({pattern:a.pattern});return h}}function r(i,b){var h=[{type:i}];switch(i){case "number":return function(a,i){return x(a,i)?[]:h};case "integer":return function(a,i){return A(a,i)?[]:h};case "string":return function(a,i){return null==a||z(a)||
!i&&a instanceof String?[]:h};case "boolean":return function(a,i){return null==a||"boolean"===typeof a||!i&&a instanceof Boolean?[]:h};case "enum":return function(i){var c;a:if(c=b.enumValue,q(i)){for(var i=0,d=c.length;i<d;i++)if(q(c[i])){c=!0;break a}c=!1}else c=null===i||-1<a.inArray(i,c);return c?[]:h};case "any":return function(){return[]}}var c=i.match(/^@(.+?)$/)[1],d=b.manager;return function(a){var i=d.models[c];return!i||"object"!==typeof a&&null!=a?h:null==a||i.has(a)?[]:h}}function e(i){var b=
i.checkFuncs;if(!b||0===b.length)return function(){return[]};var h=i.dimension||0;return function(i,c){function d(i,m){if(!m){for(var p=0,s=b.length;p<s;p++){var g=b[p](i,c);if(g.length)return e=e.concat(g),!1}return!0}if(null==i)return!0;if(!a.isArray(i)&&!f.core.data.isObservableArray(i))return e.push({dimension:h}),!1;p=0;for(s=i.length;p<s;p++)if(!d(i[p],m-1))return!1;return!0}var e=[];d(i,h);return e}}function l(a,b){a._values={};a._nullProps={};for(var h in b)if(b[h]&&d(b[h].type)){var c=ea();
c.relatedItem=a;a._values[h]=c;a._nullProps[h]=!0}}function d(a){return!a?!1:-1!==a.indexOf("[]")}function j(){return{code:arguments[0]}}function k(i,b,h,e){function m(b){for(var b=L(g[b].depend.on),h=0,c=b.length;h<c;h++)if(-1===a.inArray(b[h],i._realProperty)&&-1!==a.inArray(b[h],s))return!1;return!0}function p(i,b){for(var h=0,c=b.length;h<c;h++){var d=j[b[h]];if(d)for(var e=0,m=d.length;e<m;e++){var s=d[e];-1===a.inArray(s,i)&&i.push(s)}}}var s=[],g=i.schema||i._model.schema,j=i._dependencyMap,
f={};for(e?s=i._dependProps.slice():p(s,L(h));0!==s.length;){for(var h=[],e=0,t=s.length;e<t;e++){var k=s[e];if(m(k)){var o=g[k].depend.calc.call(i,b);0!==i._validateItemValue(k,o,!0).length&&c(C,[i._model?i._model.name:qa,k,o]);f[k]={oldValue:i._values[k],newValue:o};g[k]&&d(g[k].type)?o?(i._values[k].copyFrom(o),i._nullProps[k]=!1):(i._values[k].copyFrom([]),i._nullProps[k]=!0):i._values[k]=o}else h.push(k)}p(h,s);s=h}return f}function H(a,b,h,e){for(var p in h){p in a||c(t,[e?e.name:qa,p]);var s=
h[p];if(!a[p]||!d(a[p].type)||h.hasOwnProperty(p))s=b(p,s,e&&e._idKey===p),0<s.length&&c(m,[e?e.name:qa,p],s)}}function b(i,b,h,e){var m=i.schema||i._model.schema,p=[],g;for(g in b)if(!(h&&-1!==a.inArray(g,h))){var j=i._values[g],t=b[g];if(m[g]&&m[g].depend)j!==t&&c(s,[i._model?i._model.name:qa,g]);else{var C=m[g]&&m[g].type;d(C)&&(null==t?(t=[],i._nullProps[g]=!0):i._nullProps[g]=!1);if(C&&C.match(/string|number|integer|boolean/)){var o=t;if(a.isArray(o)){for(var o=o.slice(0),t=0,n=o.length;t<n;t++)o[t]=
o[t]&&"object"===typeof o[t]?o[t]&&o[t].valueOf&&o[t].valueOf():o[t];t=o}else t=o&&"object"===typeof o&&o.valueOf?o.valueOf():o}if(null!=t&&C&&C.match(/number|integer/)&&"number"!==typeof t)if(a.isArray(t)||f.core.data.isObservableArray(t)){o=0;for(n=t.length;o<n;o++)null!=t[o]&&x(t[o])&&(t[o]=parseFloat(t[o]))}else null!=t&&(t=parseFloat(t));if(!d(C)||!j||!j.equals(t,j))j===t||q(j)&&q(t)||(C&&-1!==C.indexOf("[]")&&f.core.data.isObservableArray(j)&&(j=j.toArray()),p.push({p:g,o:j,n:t}))}}if(p.length){b=
{};h=[];o=0;for(g=p.length;o<g;o++)j=p[o],m[j.p]&&d(m[j.p].type)?j.n&&i._values[j.p].copyFrom(j.n):i._values[j.p]=j.n,b[j.p]={oldValue:j.o,newValue:i.get(j.p)},h.push(j.p);m={type:!0===e?"create":"change",target:i,props:b};a.extend(b,k(i,m,h,e));return m}}function w(a){var b=a._manager,a=a.name;b._updateLogs||(b._updateLogs={});b._updateLogs[a]||(b._updateLogs[a]={});return b._updateLogs[a]}function u(a,b,h){if(a._manager)for(var c=w(a),d=0,e=h.length;d<e;d++){var m=h[d],p=m._values[a._idKey];c[p]||
(c[p]=[]);c[p].push({type:b,item:m})}}function J(a,b){if(a._manager){var h=w(a),c=b.target._values[a._idKey];h[c]||(h[c]=[]);h[c].push({type:Pa,ev:b})}}function I(b){var h={},c;for(c in b)if(b.hasOwnProperty(c)){var d=b[c]?b[c].depend:null;if(d)for(var d=L(d.on),e=0,m=d.length;e<m;e++){var p=d[e];h[p]||(h[p]=[]);-1===a.inArray(c,h[p])&&h[p].push(c)}}return h}function g(b,h){var d=[];try{if(!a.isPlainObject(b))throw d.push(j(P)),null;if(!la(b.name))throw d.push(j(Z)),null;var e=b.base,m=null;if(null!=
e){if(!z(e)||0!==e.indexOf("@"))throw d.push(j(Ta)),null;var p=e.substring(1);if(h.models[p])m=h.models[p].schema;else throw d.push(j(Ea,p)),null;}var s=b.schema;if(!m&&null==s)throw d.push(j(Ma)),null;if(!m&&!a.isPlainObject(s))throw d.push(j(Na)),null;}catch(g){c(U,null,d)}d=(d=b.base)?h.models[d.slice(1)].schema:{};d=a.extend({},d,b.schema);G(d,!0,h,!0);e=E(d,!0,h);F(d,e,!0);return new Q(d,b,e,h)}function $(b,h){var c=[],d=[],e=[],m;for(m in b)b[m]&&b[m].depend?d.push(m):c.push(m),b[m]&&b[m].type&&
-1!==b[m].type.indexOf("[]")&&e.push(m);m=I(b);var p={},s;for(s in b){var g=b[s];if(!g||!g.depend){var j=null,j=g&&void 0!==g.defaultValue?g.defaultValue:null;p[s]=j}}return{_realProps:c,_dependProps:d,_aryProps:e,_dependencyMap:m,_createInitialValueObj:function(b){if(!b)return a.extend({},p);var i=a.extend({},p),h;for(h in b)i[h]=b[h];return i},_validateItemValue:function(a,b,i){return h[a](b,i)}}}function M(b,h,d,e){var p=!1,s=["sort","reverse","pop","shift"],g=null;d.addEventListener("changeBefore",
function(d){e&&(b._isRemoved||!e._manager)&&c(O,[b._values[e._idKey],d.method]);var j=f.u.obj.argsToArray(d.args);if(-1===a.inArray(d.method,s)){var t=!0;switch(d.method){case "splice":t=!1;j.shift();j.shift();break;case "copyFrom":j=j[0];break;case "set":j.shift()}t&&(d=b._validateItemValue(h,j),0<d.length&&c(m,h,d))}e?(e._manager&&(d=e._manager,j=e.name,d._oldValueLogs||(d._oldValueLogs={}),d._oldValueLogs[j]||(d._oldValueLogs[j]={}),d=d._oldValueLogs[j],j=b._values[e._idKey],d[j]||(d[j]={}),d[j][h]||
(d[j][h]=b._values[h].toArray())),(p=e._manager?e._manager.isInUpdate():!1)||e._manager.beginUpdate()):g=b._values[h].toArray()});d.addEventListener("change",function(a){if(!(b._isInSet||null===a.method)){var c={type:"change",target:b,props:{}};c.props[h]={};e?(J(e,c),p?a.stopImmediatePropagation():(e._manager._isArrayPropChangeSilentlyRequested=!0,e._manager.endUpdate(),e._manager._isArrayPropChangeSilentlyRequested=!1)):d.equals(g)||(c.props[h]={oldValue:g,newValue:b._values[h]},b.dispatchEvent(c))}})}
function v(){}function o(a){la(a)||c(ba);this.models={};this.name=a;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function Q(a,b,h,c){this.items={};this.size=0;this.name=b.name;this._manager=c;for(var d in a)a[d]&&a[d].id&&(this._idKey=d);this._idType=(b=a[this._idKey].type)?"string"===b?ja:Ca:ja;this.schema=a;this._itemConstructor=ia(a,h,this);c.models[this.name]=this}function ia(h,c,d){function e(a){l(this,h,m,a);a=m._createInitialValueObj(a);H(h,m._validateItemValue,a,d);b(this,
a,null,!0);for(var a=m._aryProps,c=0,p=a.length;c<p;c++)M(this,a[c],this.get(a[c]),d)}var m=$(h,c);d._schemaInfo=m;a.extend(e.prototype,v.prototype,m,Qa);a.extend(e.prototype,{_model:d,_isRemoved:!1,getModel:function(){return this._isRemoved?null:this._model}});return e}function T(){}function aa(){this.length=0;this._src=[]}function ea(){return new aa}function W(a){return a&&a.constructor===aa?!0:!1}var ja="string",Ca="number",ba=15E3,U=15001,O=15005,h=15008,p=15009,m=15011,s=15012,t=15013,C=15016,
P=15900,Z=15901,Ta=15902,Ea=15903,Ma=15904,Na=6,Oa=15800,pa=15801,S=15802,R=15803,da=15804,ga=15805,ma=15806,ra=15807,sa=15808,na=15809,ta=15810,Da=15811,Fa=15812,wa=15813,Aa=15814,Ja=15815,va=15816,La=15817,Ba=15818,Ua=15819,Va=15820,Ga=15821,Wa=15822,Ya=15823,Za=15824,qa="n/a",Pa=2,Qa={get:function(b){if(0===arguments.length)return a.extend({},this._values);var h=this._model;(h?h.schema:this.schema).hasOwnProperty(b)||c(15014,[h?h.name:qa,b]);return this._values[b]},set:function(a){var h=a;2===
arguments.length&&(h={},h[arguments[0]]=arguments[1]);var d=this._model;d&&(this._isRemoved||!d._manager)&&c(O,[this._values[this._model._idKey],"set"],this);if(d)d._idKey in h&&h[d._idKey]!==this._values[d._idKey]&&c(15003,[d.name,this._idKey]),H(d.schema,d._schemaInfo._validateItemValue,h,d);else{var e=this.validate(h);if(e)throw e;}var e=null,m=d?d._manager.isInUpdate():!1;d&&!m&&d._manager.beginUpdate();this._isInSet=!0;e=b(this,h);this._isInSet=!1;d?(e&&J(d,e),m||d._manager.endUpdate()):e&&this.dispatchEvent(e)},
regardAsNull:function(a){return this._isArrayProp(a)?!0===this._nullProps[a]:null===this._values[a]},_isArrayProp:function(a){var b=this._model?this._model.schema:this.schema;return b[a]&&b[a].type&&-1<b[a].type.indexOf("[]")?!0:!1}};v.prototype.hasEventListener=function(a,b){if(!this.__listeners)return!1;var h=this.__listeners[a];if(!h||!this.__listeners.hasOwnProperty(a))return!1;for(var c=0,d=h.length;c<d;c++)if(h[c]===b)return!0;return!1};v.prototype.addEventListener=function(b,h){(2!==arguments.length||
!z(b)||!a.isFunction(h))&&c(15015);this.hasEventListener(b,h)||(this.__listeners||(this.__listeners={}),this.__listeners.hasOwnProperty(b)||(this.__listeners[b]=[]),this.__listeners[b].push(h))};v.prototype.removeEventListener=function(a,b){if(this.hasEventListener(a,b))for(var h=this.__listeners[a],c=0,d=h.length;c<d;c++)if(h[c]===b){h.splice(c,1);break}};v.prototype.dispatchEvent=function(a){if(this.__listeners){var b=this.__listeners[a.type];if(b){a.target||(a.target=this);var h=!1;a.preventDefault=
function(){h=true};var c=!1;a.stopImmediatePropagation=function(){c=true};for(var d=0,e=b.length;d<e&&!c;d++)b[d].call(a.target,a);return h}}};o.prototype=new v;a.extend(o.prototype,{createModel:function(b){(!b||"object"!==typeof b)&&c(U,null,[j(P)]);if(!a.isArray(b))return this.models[b.name]?this.models[b.name]:g(b,this);var h=b.length;h||c(U,null,[j(P)]);for(var d={},e=[],m=0;m<h;m++){var p=b[m].name;if(this.models[p])o[m]=manager.models[b.name];else try{e.push(p);p=[];b[m].base&&p.push(b[m].base.substring(1));
for(var s in b[m].schema){var f=b[m].schema[s];if(f){var t=f.type;t&&"@"===t.substring(0,1)&&(t=-1===t.indexOf("[]")?t.substring(1):t.substring(1,t.length-2),p.push(t))}}d[m]={depends:p}}catch(k){c(U)}}for(var o={size:0};o.size<h;){s={};f=!1;for(m=0;m<h;m++)if(!d[m].registed){for(var p=d[m].depends,t=0,C=p.length;t<C;t++)if(!this.models[p[t]]){s[p[t]]=!0;break}t===C&&(o[m]=g(b[m],this),o.size++,f=!0,d[m].registed=!0)}if(!f){var m=!0,n;for(n in s)if(-1===a.inArray(n,e)){m=!1;break}m&&c(15004);c(U,
null,[j(Ea,n)])}}b=[];for(m=0;m<h;m++)b.push(o[m]);return b},dropModel:function(a){if((a=z(a)?a:"object"===typeof a?a.name:null)&&this.models[a]){var b=this.models[a];b._manager=null;delete this.models[a];return b}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=!this._isArrayPropChangeSilentlyRequested,b=this._updateLogs,h=this._oldValueLogs;this._oldValueLogs=this._updateLogs=
null;var c={},d;for(d in b)if(b.hasOwnProperty(d)){var e;e=this.models[d];var m=b[d],p=[],s=[],g=[],j=[],t=void 0;for(t in m){for(var f=m[t],o=!0,k=[],C=f.length-1;0<=C;C--){var n=f[C],w=n.type;if(w===Pa)k.push(n.ev);else{a:{for(o=0;o<C;o++){var u=f[o].type;if(1===u||3===u){C=f[o];break a}}C=null}if(1===w)C&&3===C.type?p.push({id:t,oldItem:C.item,newItem:n.item}):s.push(n.item);else if(C=C&&3===C.type?C.item:C?null:n.item)j.push(C),C.dispatchEvent({type:"remove",model:e});o=!1;break}}if(o&&0<k.length){n=
{};for(C=k.length-1;0<=C;C--)for(var l in k[C].props)n[l]||(W(e.get(t).get(l))?(w=h&&h[e.name]&&h[e.name][t]&&h[e.name][t][l],e.get(t).get(l).equals(w)||(n[l]={oldValue:w})):n[l]={oldValue:k[C].props[l].oldValue});C=!1;for(l in n)w=n[l].oldValue,f=e.get(t).get(l),w===f||q(w)&&q(f)?delete n[l]:(C=e.get(t).get(l),a&&W(C)&&C.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),n[l].newValue=C,C=!0);C&&(k={type:"change",target:k[0].target,props:n},g.push(k),k.target.dispatchEvent(k))}}(e=
0===s.length&&0===p.length&&0===j.length&&0===g.length?!1:{created:s,recreated:p,removed:j,changed:g})&&(c[d]=e)}a=!1;for(d in c)a=!0,e=c[d],this.models[d].dispatchEvent({type:"itemsChange",created:e.created,recreated:e.recreated,removed:e.removed,changed:e.changed});c={type:"itemsChange",models:c};a&&this.dispatchEvent(c)}},_dataModelItemsChangeListener:function(a){var b=a.target.manager,h={};h[a.target.name]=a;b.dispatchEvent({type:"itemsChange",models:h})}});a.extend(Q.prototype,v.prototype,{create:function(h){this._manager||
c(15006,[this.name,"create"]);var d=this.validate(h,!0);if(d)throw d;(d=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var e=[],m=L(h),p=[],s=this._idKey,g=0,j=m.length;g<j;g++){var t=m[g],f=t[s],k=this._findById(f);k?(p.push(k),(f=b(k,t,[s]))&&J(this,f)):(t=new this._itemConstructor(t),this.items[f]=t,this.size++,e.push(t),p.push(t))}0<e.length&&u(this,1,e);d||this._manager.endUpdate();return a.isArray(h)?p:p[0]},validate:function(b,h){try{var d=this._idKey,e=L(b);
"object"!==typeof b&&!a.isArray(b)&&c(15007);if(h)for(var m=0,p=e.length;m<p;m++){var s=e[m],g=s[d];(""===g||null==g)&&c(15002,[this.name,d]);obj=this._schemaInfo._createInitialValueObj(s);H(this.schema,this._schemaInfo._validateItemValue,obj,this)}else for(var m=0,j=e.length;m<j;m++)s=e[m],H(this.schema,this._schemaInfo._validateItemValue,s,this)}catch(t){return t}return null},get:function(b){if(a.isArray(b)||f.core.data.isObservableArray(b)){for(var h=[],c=0,d=b.length;c<d;c++)h.push(this._findById(b[c]));
return h}return this._findById(b)},remove:function(b){this._manager||c(15006,[this.name,"remove"]);var h=this._manager?this._manager.isInUpdate():!1;h||this._manager.beginUpdate();for(var d=this._idKey,e=L(b),m=[],p=[],s=0,g=e.length;s<g;s++)if(this.has(e[s])){var j=z(e[s])||A(e[s],!0)?e[s]:e[s]._values[d],t=this.items[j];delete this.items[j];this.size--;p.push(t);t._model&&(t._isRemoved=!0);m.push(t)}else p.push(null);0<m.length&&u(this,3,m);h||this._manager.endUpdate();return a.isArray(b)?p:p[0]},
removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(b){return z(b)||A(b,!0)?!!this._findById(b):"object"===typeof b?null!=b&&a.isFunction(b.get)&&b===this.items[b.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(a){a=this.items[a];return void 0===a?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},
toArray:function(){var a=[],b=this.items,h;for(h in b)b.hasOwnProperty(h)&&a.push(b[h]);return a}});a.extend(T.prototype,v.prototype,Qa,{validate:function(a){try{var b=a;2===arguments.length&&(b={},b[arguments[0]]=arguments[1]);H(this.schema,this._validateItemValue,b)}catch(h){return h}return null}});a.extend(aa.prototype,v.prototype);var ya={equals:function(b){var h=this.length;if(!a.isArray(b)&&!W(b)||b.length!==h)return!1;for(var b=W(b)?b._src:b,c=0;c<h;c++){var d=this[c],e=b[c];if(!(d===e||q(d)&&
q(e)))return!1}return!0},copyFrom:function(b){null==b&&(b=[]);b=W(b)?b._src:b;a.isArray(b)||c(15010,[0,b]);b=b.slice(0);b.unshift(0,this.length);Array.prototype.splice.apply(this,b)},get:function(a){return this[a]},set:function(a,b){this[a]=b},toArray:function(){return this.slice(0)},concat:function(){for(var a=f.u.obj.argsToArray(arguments),b=0,h=a.length;b<h;b++)W(a[b])&&(a[b]=a[b].toArray());return this.concat.apply(this,a)}},za="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),
ha;for(ha in ya)ya.hasOwnProperty(ha)&&-1===a.inArray(ha,za)&&za.push(ha);var Xa=["concat","slice","splice","filter","map"],Ka=["reverse","sort"],Sa="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ha=0;for(var ua=za.length;ha<ua;ha++){var X=za[ha];aa.prototype[X]=function(b){function h(){var d=c.apply(this._src,arguments);if(-1!==a.inArray(b,Ka))d=this;else if(-1!==a.inArray(b,Xa)){var e=ea();e.copyFrom(d);d=e}return d}var c=ya[b]?ya[b]:Array.prototype[b];return-1===a.inArray(b,
Sa)?h:function(){if(!this.dispatchEvent({type:"changeBefore",method:b,args:arguments})){var a=h.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:b,args:arguments,returnValue:a});return a}}}(X)}f.u.obj.expose("h5.core.data",{createManager:function(a,b){la(a)||c(ba);var h=new o(a);if(null!=b){""===b&&(b="window");var d={};d[a]=h;f.u.obj.expose(b,d)}return h},createObservableArray:ea,createObservableItem:function(a){G(a,!1,null,!0);var h=E(a);F(a,h,!0);var c=
new T,h=$(a,h);l(c,a,h);c.schema=a;for(var d in h)c[d]=h[d];d=h._createInitialValueObj();H(a,h._validateItemValue,d);b(c,d,null,!0);a=0;for(h=c._aryProps.length;a<h;a++)M(c,c._aryProps[a],c.get(c._aryProps[a]));return c},isObservableArray:W,isObservableItem:function(b){return!(!b||!b.constructor||!b._validateItemValue||a.isFunction(b.getModel))},createSequence:function(b,h,c){function d(){return g}function e(){var a=g;g+=j;return a}function m(){return g.toString()}function p(){var a=g;g+=j;return a.toString()}
function s(){}var g=null!=b?b:1,j=null!=h?h:1,b=1===c?{current:m,next:p,returnType:1}:{current:d,next:e,returnType:2};b.setCurrent=function(a){g=a};a.extend(s.prototype,b);return new s},SEQ_STRING:1,SEQ_INT:2})})();(function(){function n(a,b){return!a||a.nodeType!==w?void 0:a.getAttribute(b)}function y(a){if(!a)return null;for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function q(a,b,c,d){var e=[],b=L(b);if(!0===d)return x(e,a,b,c),e;for(var a=a.childNodes,d=0,g=a.length;d<g;d++)x(e,a[d],
b,c);return e}function x(a,b,c,d){if(b.nodeType===w){for(var e=0,g=c.length;e<g;e++){var j=b.getAttribute(c[e]);if(void 0===d){if(null!==j){a.push(b);break}}else if(null!==j&&j==d){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;e=0;for(g=b.length;e<g;e++)x(a,b[e],c,d)}}}function A(b,c){for(var b=L(b),d=[],e=0,g=b.length;e<g;e++){var j=b[e];if(j.nodeType===w&&!(!0===c&&(null!=n(j,J)||null!=n(j,I))))for(var f=q(j,u,void 0,!0),k=0,o=f.length;k<o;k++){for(var l=!0,r=f[k];null!=r&&r!==j;r=r.parentNode)if(null!=
n(r,J)||null!=n(r,I)){l=!1;break}l&&d.push(f[k])}}return a(d)}function z(b,c,d){for(var e=[],g=0,j=b.length;g<j;g++){var f=b[g];if(f.nodeType===w){if(!0===d){if(null!=f.getAttribute(c)){e.push(f);continue}if(null!=n(f,J)||null!=n(f,I))continue}for(var k=q(f,c,void 0,!1),o=0,l=k.length;o<l;o++){var u=a(k[o])[0],r=u.parentNode;(null==n(r,J)&&null==n(r,I)||r===f)&&e.push(u)}}}return a(e)}function F(b){return b&&b.addEventListener&&b.getModel&&!a.isArray(b)&&!f.core.data.isObservableArray(b)||f.core.data.isObservableItem(b)?
!0:!1}function E(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.nodeType===w&&e.setAttribute($,b)}}function D(b,d,e){var j=ja++,t=d[0];a(t).empty();if(e){!a.isArray(e)&&!f.core.data.isObservableArray(e)&&c(ea);E(d,j);b._addBindingEntry(e,t,j);f.core.data.isObservableArray(e)&&!b._isWatching(e)&&(d=function(a){b._observableArray_changeListener(a)},b._listeners[b._getContextIndex(e)]=d,e.addEventListener("change",d));var d=n(t,g),d=y(b._getSrcCtxNode(d).childNodes),k=[];b._loopElementsMap[j]=k;for(var j=
t.ownerDocument.createDocumentFragment(),o=e.get?function(a){return e.get(a)}:function(a){return e[a]},l=0,w=e.length;l<w;l++){for(var u=[],v=0,q=d.length;v<q;v++){var x=O(d[v]);u.push(x);j.appendChild(x)}k[l]=u;t.appendChild(j);r(b,u,o(l),!1,!0)}}}function r(b,d,m,g,j){d=L(d);if(g)D(b,d,m);else{g=ja++;m&&(("object"!==typeof m||a.isArray(m)||f.core.data.isObservableArray(m))&&c(ea),E(d,g),b._addBindingEntry(m,d,g));var k=F(m);k&&!b._isWatching(m)&&(g=function(a){b._observableItem_changeListener(a)},
b._listeners[b._getContextIndex(m)]=g,m.addEventListener("change",g));A(d,j).each(function(){l(this,m,k)});e(b,d,m,!1,j);e(b,d,m,!0,j)}}function e(a,b,d,c,e){var g=c?"data-h5-loop-context":"data-h5-context";z(b,g,e).each(function(){var b=n(this,g),e=null;d&&(e=F(d)?d.get(b):d[b]);r(a,this,e,c)})}function l(b,d,e){for(var g=n(b,u).split(Q),j=[],f=[],k=[],l=0,w=g.length;l<w;l++){var r=g[l];if(-1===r.indexOf(o))0<a.trim(r).length&&(j.push(null),f.push(null),k.push(a.trim(r)));else{var q=r.split(o),r=
a.trim(q[0]),q=a.trim(q[1]),x=null,y=ia.exec(r);y&&(x=y[1],r=/(\S+)[\s\(]/.exec(r)[1]);0<r.length&&0<q.length&&(j.push(r),f.push(x),k.push(q))}}g=b.tagName.toLowerCase();l=a(b);w=0;for(r=j.length;w<r;w++){var x=j[w],y=f[w],H=k[w],q=null;d&&(q=e?d.get(H):d[H]);null==x&&("input"===g?(x="attr",y="value"):x="text");switch(x){case "text":null==q?l.text(""):l.text(q);break;case "html":null==q?l.html(""):l.html(q);break;case "class":var x=n(b,v),H=(y=null==x)?"":" ",A=!1;q&&(A=!RegExp("\\s"+q+"\\s").test(" "+
x+" "));l[0].className=(y?"":x)+(A?H+q:"");break;case "attr":y||c(T);"input"===g&&"value"===y?null==q?l.val(""):l.val(q):null==q?l.removeAttr(y):l.attr(y,q);break;case "style":y||c(T);null==q?l.css(y,""):l.css(y,q);break;default:c(aa)}}}function d(a,b,d){for(var c=0,e=d.length;c<e;c++){var g=d[c];b.removeChild(g);a._removeBinding(g)}}function j(a){for(var a=a.childNodes,b=[],d=0,c=a.length;d<c;d++)b.push(O(a[d]));return b}function k(a,b,d,c,e){for(var g=d.ownerDocument.createDocumentFragment(),f=
[],k=0,o=e.length;k<o;k++){var l=j(d);f[k]=l;for(var n=0,w=l.length;n<w;n++)g.appendChild(l[n]);r(a,l,e[k])}Array.prototype[c].apply(b,f);return g}function H(a,b,c,e,g,f){var k=e.length;if(0!==k){for(var o=e[0],l=o,c=1===k?c.length:l+e[1];l<c;l++){var n=g[l];n&&d(a,b,n)}g.splice(o,e[1]);if(!(2>=k)){l=g.length;l=0===l||0===o?b.firstChild:o>=l?null:g[o][0];c=f.ownerDocument.createDocumentFragment();o=[o,0];for(n=2;n<k;n++){for(var w=j(f),u=0,q=w.length;u<q;u++)c.appendChild(w[u]);r(a,w,e[n]);o.push(w)}b.insertBefore(c,
l);Array.prototype.splice.apply(g,o)}}}function b(a,b){void 0!==a.nodeType?a.nodeType===w&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=y(a));this._bindRootId=Ca++;ba[this._bindRootId]=this;for(var d=[],c=0,e=this._targets.length;c<e;c++){var j=this._targets[c];if(j.nodeType===w){j.setAttribute(M,this._bindRootId);for(var f=q(j,[J,I],void 0,!0),k=0,o=f.length;k<o;k++){var l=W++;f[k].setAttribute(g,l)}f=q(j,u,void 0,!0);k=0;for(o=f.length;k<o;k++)l=f[k],
/class\s*:/.test(n(l,u))&&""!=l.className&&l.setAttribute(v,l.className)}d.push(j.cloneNode(!0))}this._srces=d;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};r(this,this._targets,this._rootContext,!1,!0)}var w=1,u="data-h5-bind",J="data-h5-context",I="data-h5-loop-context",g="data-h5-dyn-ctx",$="data-h5-dyn-vid",M="data-h5-dyn-bind-root",v="data-h5-dyn-cn",o=":",Q=";",ia=/\(\s*(\S+)\s*\)/,T=7100,aa=7101,ea=7102,W=0,ja=0,Ca=0,ba={},U={},
O;(function(){var b=document.createElement("div");b.h5Dummy="a";var d=b.cloneNode(!1),c=void 0!==d.h5Dummy;b.h5Dummy=void 0;c?(d.h5Dummy=void 0,O=function(b){var h=b.ownerDocument;return b.nodeType===w?a(a.trim(b.outerHTML),h)[0]:b.cloneNode(!0)}):O=function(a){return a.cloneNode(!0)}})();a.extend(b.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var d=this._targets[a];if(d.nodeType===w){this._removeBinding(d);d.removeAttribute(M);for(var c=q(d,v,void 0,!0),e=0,j=c.length;e<
j;e++)c[e].removeAttribute(v);d=q(d,g,void 0,!0);e=0;for(c=d.length;e<c;e++)d[e].removeAttribute(g)}}delete ba[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var c in b)if(b.hasOwnProperty(c)){var e=b[c],f=this._getSrcCtxNode(n(e,g)),o=this._loopElementsMap[c];switch(a.method){case "set":H(this,e,a.target,[a.args[0],1,a.args[1]],o,f);break;case "shift":case "pop":var l=o[a.method]();l&&d(this,e,l);break;case "unshift":l=k(this,o,f,a.method,
a.args);e.insertBefore(l,e.firstChild);break;case "push":l=k(this,o,f,a.method,a.args);e.appendChild(l);break;case "splice":H(this,e,a.target,a.args,o,f);break;case "reverse":for(var l=e,w=o;l.firstChild;)l.removeChild(l.firstChild);for(var u=0,e=w.length;u<e;u++)for(var f=w[u],q=f.length-1;0<=q;q--)l.insertBefore(f[q],l.firstChild);o.reverse();break;case "sort":case "copyFrom":case null:for(var l=this._loopElementsMap,w=c,u=a.target,q=o,o=f,f=0,v=q.length;f<v;f++)d(this,e,q[f]);for(var q=e.ownerDocument.createDocumentFragment(),
v=[],f=0,y=u.length;f<y;f++){var x=j(o);v[f]=x;for(var A=0,z=x.length;A<z;A++)q.appendChild(x[A]);r(this,x,u.get(f))}e.appendChild(q);l[w]=v}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var d=!1;a.target===this._rootContext&&(d=!0);var c=this,e;for(e in b)if(b.hasOwnProperty(e)){var j=b[e];A(j,d).each(function(){l(this,a.target,!0)});z(j,J).each(function(){var b=n(this,J);if(!(b in a.props))return!0;c._removeBinding(this);var d=n(this,g),d=c._getSrcCtxNode(d),
d=O(d);this.parentNode.replaceChild(d,this);r(c,d,a.props[b].newValue)});z(j,I).each(function(){var b=n(this,I);if(!(b in a.props)||a.target._isArrayProp(b))return!0;c._removeBinding(this);r(c,this,a.props[b].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,d=this._srces.length;b<d;b++){var c=this._srces[b];if(n(c,g)===a)return c;c=q(c,g,a);if(0<c.length)return c[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(b){return a.inArray(b,
this._usingContexts)},_addBindingEntry:function(a,b,d){var c=this._getContextIndex(a);-1===c&&(this._usingContexts.push(a),c=this._usingContexts.length-1);U[d]=a;(a=this._srcToViewMap[c])?a[d]=b:(a={},a[d]=b,this._srcToViewMap[c]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=U[a];if(b){var d=this._getContextIndex(b);if(-1!==d){var c=this._srcToViewMap[d];c&&c[a]&&(delete c[a],this._hasBindingForSrc(c)||(c=!1,F(b)?(b.removeEventListener("change",
this._listeners[d]),c=!0):f.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[d]),c=!0),c&&delete this._listeners[d],delete this._srcToViewMap[d],this._usingContexts[d]=null))}U[a]&&delete U[a]}},_removeBinding:function(a){if(a.nodeType===w){var b=n(a,$);null!=b&&(this._removeBindingEntry(b),a.removeAttribute($));for(var a=q(a,$),b=0,d=a.length;b<d;b++){var c=a[b];this._removeBindingEntry(n(c,$));c.removeAttribute($)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);
return-1===a?null:this._srcToViewMap[a]}});cb={createBinding:function(a,d){return new b(a,d)}}})();(function(){function n(d){return f.u.obj.isJQueryObject(d)?d:a(d)}function y(){this.__cachedTemplates={}}var q="[",x=7001,A=7002,G=7003,F=7010,E=7011,D=f.async.deferred,r={escapeHtml:function(a){return f.u.str.escapeHtml(a)}},e={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(a,c,e){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[a]={};this.cache[a].templates=
c;this.cache[a].path=e;this.cacheUrls.push(a)},deleteCache:function(a,c){c||delete this.cache[a];for(var e=0,f=this.cacheUrls.length;e<f;e++)if(this.cacheUrls[e]===a){this.cacheUrls.splice(e,1);break}},getTemplateByUrls:function(d){function e(b){if(0!==b.length){var d={},g=[];b.each(function(){var b=a.trim(this.id),e=a.trim(this.innerHTML);b||c(A,null,{});try{var j=new EJS.Compiler(e,q);j.compile();d[b]=j.process;g.push(b)}catch(f){e=f.lineNumber,c(F,[e?" line:"+e:"",f.message],{id:b,error:f,lineNo:e})}});
return{compiled:d,data:{ids:g}}}}function k(b,c,d){f.ajax(c).done(function(c,g,f){delete u.accessingUrls[b];c=a(f.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});g=this.url;if(0<c.not('script[type="text/ejs"]').length)d.reject(da(E,null,{url:b,path:g}));else{f=null;try{f=e(c.filter('script[type="text/ejs"]'))}catch(k){k.detail.url=b;k.detail.path=g;d.reject(k);return}var l,n;try{var w=f.compiled;n=f.data;n.path=g;n.absoluteUrl=b;l=w;u.append(b,
w,g)}catch(q){d.reject(da(x,null,{error:q,url:b,path:g}));return}d.resolve({ret:l,data:n})}}).fail(function(a){delete u.accessingUrls[b];d.reject(da(G,[a.status,b],{url:b,path:c,error:a}))})}for(var l={},b=[],n=[],u=this,r=function(a){var b=u.cache[a].templates;u.deleteCache(a,!0);u.cacheUrls.push(a);return b},y=0;y<d.length;y++){var g=d[y],z=R(g);if(this.cache[z])a.extend(l,r(z)),n.push({absoluteUrl:z});else if(this.accessingUrls[z])b.push(this.accessingUrls[z]);else{var M=f.async.deferred();b.push(this.accessingUrls[z]=
M.promise());k(z,g,M)}}var v=D();f.async.when(b).done(function(){for(var b=f.u.obj.argsToArray(arguments),c=0,d=b.length;c<d;c++)a.extend(l,b[c].ret),n.push(b[c].data);v.resolve(l,n)}).fail(function(a){v.reject(a)});return v.promise()}};a.extend(y.prototype,{load:function(d){var j=D(),f=this,l=null;switch(a.type(d)){case "string":a.trim(d)||c(7004);l=[d];break;case "array":l=d;0===l.length&&c(7004);for(var d=0,b=l.length;d<b;d++)z(l[d])?a.trim(l[d])||c(7004):c(7004);break;default:c(7004)}e.getTemplateByUrls(l).done(function(b,
c){a.extend(f.__cachedTemplates,b);j.resolve(c)}).fail(function(a){j.reject(a)});return j.promise()},getAvailableTemplates:function(){var a=[],c;for(c in this.__cachedTemplates)a.push(c);return a},register:function(d,e){"string"!==a.type(e)?c(7E3,null,{id:d}):(!z(d)||!a.trim(d))&&c(A,[]);try{var f=new EJS.Compiler(e,q);f.compile();this.__cachedTemplates[d]=f.process}catch(l){f=l.lineNumber,c(F,[f?" line:"+f:"",l.message],{id:d})}},isValid:function(a){try{return(new EJS.Compiler(a,q)).compile(),!0}catch(c){return!1}},
get:function(d,e){var f=this.__cachedTemplates;(!z(d)||!a.trim(d))&&c(A);(f=f[d])||c(7005,d);var l=e?a.extend(!0,{},e):{},b=l.hasOwnProperty("_h")?new EJS.Helpers(l):new EJS.Helpers(l,{_h:r}),n=null;try{n=f.call(l,l,b)}catch(u){c(7006,u.toString(),u)}return n},update:function(a,c,e){return n(a).html(this.get(c,e))},append:function(a,c,e){return n(a).append(this.get(c,e))},prepend:function(a,c,e){return n(a).prepend(this.get(c,e))},isAvailable:function(a){return!!this.__cachedTemplates[a]},clear:function(d){if(void 0===
d)this.__cachedTemplates={};else{var e=null;switch(a.type(d)){case "string":e=[d];break;case "array":d.length||c(A);e=d;break;default:c(A)}for(var d=0,f=e.length;d<f;d++){var l=e[d];(!z(l)||!a.trim(l))&&c(A)}d=0;for(f=e.length;d<f;d++)delete this.__cachedTemplates[e[d]]}},bind:function(d,e){var l=null;null==d&&c(7007);a.isArray(d)?l=d:(l=a(d),0===l.length&&c(7007),l=l.toArray());(null==e||"object"!==typeof e||a.isArray(e)||f.core.data.isObservableArray(e))&&c(7009);return cb.createBinding(l,e)}});
var l=new y;l.createView=function(){return new y};a(function(){a('script[type="text/ejs"]').each(function(){var c=a.trim(this.id),e=a.trim(this.innerHTML);0!==e.length&&c&&(e=new EJS.Compiler(e,q),e.compile(),l.__cachedTemplates[c]=e.process)})});f.u.obj.expose("h5.core",{view:l})})();(function(){function c(b){var d={},e;for(e in L){var g=a("<div></div>").addClass(b).addClass(e).appendTo("body"),f=a.camelCase(e);d[f]={};a.map(L[e],function(a){d[f][a]="width"===a||"height"===a?parseInt(g.css(a).replace(/\D/g,
""),10):g.css(a)});g.remove()}return d}function y(a,b,c){var a=b.createElement("v:"+a),d;for(d in c)a.style[d]=c[d];return a}function q(a,b){for(var c=[],d=a/2,e=0.8*a/2,g=360/b*Math.PI/180,f=1;f<=b;f++){var j=g*f,l=Math.cos(j),j=Math.sin(j);c.push({from:{x:d+e/2*l,y:d+e/2*j},to:{x:d+e*l,y:d+e*j}})}return c}function x(a){return function(){var b=document.body,c=document.documentElement,d=o?b:Q?c:null;return d?"Height"===a?d["client"+a]>d["scroll"+a]?d["client"+a]:d["scroll"+a]:d["client"+a]:Math.max(b["scroll"+
a],c["scroll"+a],b["offset"+a],c["offset"+a],c["client"+a])}}function A(a){return function(){var b=o?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function G(a){var b=o?document.body:document.documentElement;return J.isiOS?window["inner"+a]:b["client"+a]}function F(b){var c=a(b)[0],d=document.body,e=a("html")[0],b={top:0,left:0};if(c===d&&Q)return{top:parseFloat(e.currentStyle.paddingTop||0)+parseFloat(d.currentStyle.marginTop||0)+parseFloat(d.currentStyle.borderTop||
0),left:parseFloat(e.currentStyle.paddingLeft||0)+parseFloat(d.currentStyle.marginLeft||0)+parseFloat(d.currentStyle.borderLeft||0)};"undefined"!==typeof c.getBoundingClientRect&&(b=c.getBoundingClientRect());d=o?d:document.documentElement;c=d.clientTop||0;d=d.clientLeft||0;return{top:b.top+R()-c,left:b.left+ba()-d}}function E(){a.each(g(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",
function(){return!1})})}function D(a){a=I(a)?a[0]:a;return a===window||a===document||a===document.body}function r(c,d){this.style=a.extend(!0,{},c);if(!d.getElementById(b)){d.namespaces.add("v","urn:schemas-microsoft-com:vml");var e=d.createElement("style");d.getElementsByTagName("head")[0].appendChild(e);e.id=b;e.setAttribute("type","text/css");e.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}e=this.style.throbber.width;this.group=y("group",d,{width:e+"px",height:this.style.throbber.height+
"px"});this.group.className=H;for(var e=q(e,this.style.throbber.lines),g=this.style.throbberLine.color,f=this.style.throbberLine.width,j=0,l=e.length;j<l;j++){var o=e[j],k=o.from,n=o.to,o=y("line",d);o.strokeweight=f;o.strokecolor=g;o.fillcolor=g;o.from=k.x+","+k.y;o.to=n.x+","+n.y;k=y("stroke",d);k.opacity=1;o.appendChild(k);this.group.appendChild(o)}this._createPercentArea(d)}function e(b,e){var g=this,s=a(b);if(s.length){var t=ga(s[0]),u=a.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,
fadeOut:-1,promises:null,theme:"a"},e);this._displayed=!1;this._throbbers=[];this._settings=u;this._styles=a.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},c(u.theme));this._$target=(this._isScreenLock=D(s))?a("body"):s;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){g._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){g._handleResizeEvent()};this._redrawable=
!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof u.fadeIn?u.fadeIn:-1;this._fadeOutTime="number"===typeof u.fadeOut?u.fadeOut:-1;this._$content=a();this._$overlay=a();this._$skin=a();for(var s=f.u.str.format(w,""===u.message?'style="display: none;"':"",u.message),q="https"===document.location.protocol?"return:false":"about:blank",r=0,v=this._$target.length;r<v;r++)this._$content=this._$content.add(a(t.createElement("div")).append(s).addClass(l).addClass(u.theme).addClass(d).hide()),
this._$overlay=this._$overlay.add((u.block?a(t.createElement("div")):a()).addClass(l).addClass(u.theme).addClass(j).hide()),this._$skin=this._$skin.add((Q||o?a(t.createElement("iframe")):a()).attr("src",q).addClass(l).addClass(k).hide());var y=this._isScreenLock&&T?"fixed":"absolute";a.each([this._$overlay,this._$content],function(){this.css("position",y)});t=u.promises;u=function(){g.hide()};s=a.hasOwnProperty("curCSS")?"pipe":"then";a.isArray(t)?(t=a.map(t,function(b){return b&&a.isFunction(b.promise)?
b:null}),0<t.length&&na(f.async.when(t),s,[u,u])):t&&a.isFunction(t.promise)&&na(t,s,[u,u])}}var l="h5-indicator",d="content",j="overlay",k="skin",H="vml-root",b="h5-vmlstyle",w='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',u=500,J=f.env.ua,I=f.u.obj.isJQueryObject,g=f.u.obj.argsToArray,L={throbber:["width","height"],"throbber-line":["width","color"]},M=!!document.createElement("canvas").getContext,v=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));
a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),o="CSS1Compat"!==document.compatMode,Q=J.isIE&&6>=J.browserVersion,ia=J.isChrome&&J.isDesktop,T=!(J.isAndroidDefaultBrowser||J.isiOS&&5>J.browserVersion||Q||o||J.isWindowsPhone),aa=null,ea=null,W=null,S=null,R=null,ba=null,U=function(){var b=document.createDocumentFragment().appendChild(document.createElement("div")),c=["Webkit","Moz","O","ms","Khtml"],d=c.length;
return function(e){e=a.camelCase(e);if(e in b.style)return!0;for(var e=e.charAt(0).toUpperCase()+e.slice(1),g=0;g<d;g++)if(c[g]+e in b.style)return!0;return!1}}(),ea=function(a){return function(){var b=document.body,c=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:o?b["client"+a]:c["client"+a]}}("Height"),W=x("Height"),S=x("Width"),R=A("Top"),ba=A("Left"),aa=U("animationName");r.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),
this._run())},hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,c=this.highlightPos,d=this.group.childNodes,e=0,g=d.length;e<g;e++){var f=d[e];if("textbox"!==f.nodeName){var j=e+1;f.firstChild.opacity=j==c?"1":j==c+1||j==c-1?"0.75":"0.4"}}c==a?c=0:c++;this.highlightPos=c;var l=this;this._runId=setTimeout(function(){l._run.call(l)},Math.floor(b/a))},_createPercentArea:function(b){var c=
y("textbox",b),b=a(b.createElement("table"));b.append("<tr><td></td></tr>");var d=b.find("td");d.width(this.group.style.width);d.height(this.group.style.height);d.css("line-height",this.group.style.height);d.addClass("throbber-percent");c.appendChild(b[0]);this.group.appendChild(c)},setPercent:function(b){a(this.group).find(".throbber-percent").html(b)}};var O=function(b,c){this.style=a.extend(!0,{},b);this.canvas=c.createElement("canvas");this.baseDiv=c.createElement("div");this.percentDiv=c.createElement("div");
var d=this.canvas,e=this.baseDiv,g=this.percentDiv;d.width=this.style.throbber.width;d.height=this.style.throbber.height;d.style.display="block";d.style.position="absolute";e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.appendChild(d);g.style.width=this.style.throbber.width+"px";g.style.height=this.style.throbber.height+"px";g.style.lineHeight=this.style.throbber.height+"px";g.className="throbber-percent";e.appendChild(g);this.positions=q(d.width,this.style.throbber.lines)};
O.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){a(this.baseDiv).remove();this._runId&&(ia?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),c=this.highlightPos,d=this.positions,e=this.style.throbberLine.color,g=this.style.throbberLine.width,f=this.style.throbber.lines,j=this.style.throbber.roundTime;a.width=a.width;for(var l=0,
o=d.length;l<o;l++){b.beginPath();b.strokeStyle=e;b.lineWidth=g;var k=l+1;b.globalAlpha=k==c?1:k==c+1||k==c-1?0.75:0.4;var n=d[l],k=n.from,n=n.to;b.moveTo(k.x,k.y);b.lineTo(n.x,n.y);b.stroke()}c==f?c=0:c++;this.highlightPos=c;if(ia){var u=0;this._runId=setInterval(function(){u++;a.style.webkitTransform="rotate("+u+"deg)";360<=u&&(u-=360)},j/360)}else if(aa)a.className="throbber-canvas";else{var w=this;this._runId=setTimeout(function(){w._run.call(w)},Math.floor(j/f))}},setPercent:function(a){this.percentDiv.innerHTML=
a}};e.prototype={show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+l).length)return this;this._displayed=!0;for(var b=this,c=this._fadeInTime,d=function(){var c=a(window);b._isScreenLock&&(E(b._$overlay,b._$content),T||(c.bind("touchmove",b._scrollHandler),c.bind("scroll",b._scrollHandler)));c.bind("orientationchange",b._resizeHandler);c.bind("resize",b._resizeHandler)},e=0,g=this._$target.length;e<g;e++){var f=this._$target.eq(e),j=this._$content.eq(e),o=this._$skin.eq(e),
k=this._$overlay.eq(e);!this._isScreenLock&&"static"===f.css("position")&&(f.data("before-position",f.css("position")),f.data("before-zoom",f.css("zoom")),f.css({position:"relative",zoom:"1"}));var n=ga(f[0]);if(n=M?new O(this._styles,n):v?new r(this._styles,n):null)b._throbbers.push(n),b.percent(this._settings.percent),n.show(j.children(".indicator-throbber")[0]);f.append(o).append(k).append(j)}e=a().add(this._$skin).add(this._$content).add(this._$overlay);0>c?(e.show(),d()):e.fadeIn(c,d);this._reposition();
this._resizeOverlay();return this},_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!T)for(var c=0,d=this._$target.length;c<d;c++){b=this._$target.eq(c);var e=this._$overlay.eq(c),g=this._$skin.eq(c);if(this._isScreenLock)a=S(),b=W();else{var f=b[0];a=f.scrollWidth;b=f.scrollHeight;if(Q)a=Math.max(a,f.clientWidth),b=Math.max(b,f.clientHeight);else if(J.isIE&&"function"===typeof getComputedStyle){var f=getComputedStyle(f,null),j=parseFloat(f.width)+parseFloat(f.paddingLeft)+parseFloat(f.paddingRight);
a+=j-parseInt(j)-1;f=parseFloat(f.height)+parseFloat(f.paddingTop)+parseFloat(f.paddingBottom);b+=f-parseInt(f)-1}}e.width(a).height(b);(Q||o)&&g.width(a).height(b)}},_reposition:function(){for(var b=0,c=this._$target.length;b<c;b++){var d=this._$target.eq(b),e=this._$content.eq(b);if(this._isScreenLock){var g=ea();T?e.css("top",(g-e.outerHeight())/2+"px"):e.css("top",R()+g/2-e.outerHeight()/2+"px")}else e.css("top",d.scrollTop()+(d.innerHeight()-e.outerHeight())/2);var g=e.innerWidth()-e.width(),
f=0;e.children().each(function(){var b=a(this);if("none"===b.css("display"))return!0;f+=b.outerWidth(!0)});e.width(f+g);e.css("left",d.scrollLeft()+(d.innerWidth()-e.outerWidth())/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var b=this,c=this._fadeOutTime,d=a().add(this._$skin).add(this._$content).add(this._$overlay),e=function(){var c=a(window);d.remove();b._isScreenLock||b._$target.each(function(b,c){var d=a(c);d.css({position:d.data("before-position"),zoom:d.data("before-zoom")});
d.removeData("before-position").removeData("before-zoom")});c.unbind("touchmove",b._scrollHandler);c.unbind("scroll",b._scrollHandler);c.unbind("orientationchange",b._resizeHandler);c.unbind("resize",b._resizeHandler);b._resizeEventTimerId&&clearTimeout(b._resizeEventTimerId);b._scrollEventTimerId&&clearTimeout(b._scrollEventTimerId)};if(!aa||ia)for(var g=0,f=this._throbbers.length;g<f;g++)this._throbbers[g].hide();0>c?(d.hide(),e()):d.fadeOut(c,e);return this},percent:function(a){if("number"!==typeof a||
!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,c=this._throbbers.length;b<c;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!z(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=
this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);this._redrawable=!1;T||Q||o?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};f.u.obj.expose("h5.ui",{indicator:function(a,b){return new e(a,
b)},isInView:function(b,c){var d,e,g,f,j=a(b);if(void 0===c)e=G("Height"),f=G("Width"),d=R(),g=ba();else{f=a(c);if(0===f.find(j).length)return;g=F(f);d=g.top+parseInt(f.css("border-top-width"));g=g.left+parseInt(f.css("border-left-width"));e=f.innerHeight();f=f.innerWidth()}e=d+e;f=g+f;var l=F(j),o=l.top,l=l.left,k=o+j.outerHeight(),j=l+j.outerWidth();return(d<=o&&o<e||d<k&&k<=e)&&(g<=l&&l<f||g<j&&j<=f)},scrollToTop:function(){function b(){1===window.scrollY&&(c=0);0<c&&(window.scrollTo(0,1),c--,
setTimeout(b,u))}var c=3;window.scrollTo(0,1);1!==a(window).scrollTop()&&setTimeout(b,u)}})})();(function(){function n(){var c=a.mobile.activePage,c=c&&c[0].id;return z(c)&&0<c.length?c:null}function y(){var a=n();null!==a&&(q.addCSS(a),q.bindController(a))}var q=null,x={},A={},G={},F={},E={},D=!1;f.u.obj.ns("h5.ui.jqm");f.ui.jqm.dataPrefix="h5";var r={__name:"JQMController",__ready:function(){var c=this;a(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){c.loadScript(this.id)})},
':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(a){a=a.event.target.id;this.loadScript(a);this.addCSS(a);this.bindController(a)},"{document} pageremove":function(a){var a=a.event.target.id,c=A[a],d=G[a];if(c){for(var f=0,k=c.length;f<k;f++)c[f].dispose();A[a]=[]}if(d){f=0;for(k=d.length;f<k;f++)d[f].dispose();G[a]=[]}},"{document} pagebeforeshow":function(a){var a=a.event.target.id,c=null;this.addCSS(a);for(c in A)for(var d=A[c],f=a===c,k=0,n=d.length;k<n;k++){var b=d[k];f?b.enableListeners():
b.disableListeners()}for(c in G){d=G[c];f=a===c;k=0;for(n=d.length;k<n;k++)b=d[k],f?b.enableListeners():b.disableListeners()}},"{document} pagehide":function(a){this.removeCSS(a.event.target.id)},"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var f=n();null===f||-1!==a.inArray(c,A[f])||(G[f]||(G[f]=[]),G[f].push(c))}},"{rootElement} h5controllerunbound":function(c){var f=c.evArg,c=n();null!==c&&(f=a.inArray(f,G[c]),-1!==f&&G[c].splice(f,1))},loadScript:function(c){var c=a("#"+
c),l=a.trim(c.data(this.getDataAttribute("script")));if(0!==l.length)return l=a.map(l.split(","),function(c){return a.trim(c)}),c=!0==c.data(this.getDataAttribute("async")),f.u.loadScript(l,{async:c})},getDataAttribute:function(a){var c=f.ui.jqm.dataPrefix;null==c&&(c="h5");return 0!==c.length?c+"-"+a:a},bindController:function(a){var c=x[a],d=F[a];if(c&&0!==c.length){A[a]||(A[a]=[]);for(var j=A[a],k=0,n=c.length;k<n;k++){for(var b=c[k],w=!1,u=0,q=j.length;u<q;u++){var r=j[u];if(r&&r.__name===b.__name){w=
!0;break}}w||A[a].push(f.core.controller("#"+a,b,d[k]))}}},addCSS:function(c){if(c=E[c])for(var f=document.getElementsByTagName("head")[0],d=f.getElementsByTagName("link"),j=d.length,k=0,n=c.length;k<n;k++){for(var b=a.mobile.path.parseUrl(c[k]).filename,w=!1,u=0;u<j;u++)if(a.mobile.path.parseUrl(d[u].href).filename===b){w=!0;break}w||(b=document.createElement("link"),b.type="text/css",b.rel="stylesheet",b.href=c[k],f.appendChild(b))}},removeCSS:function(c){var f=E[c];if(f&&(c=n(),null!==c)){var d=
E[c];a("link").filter(function(){var c=a(this).attr("href");return-1!==a.inArray(c,f)&&-1===a.inArray(c,d)}).remove()}}};f.u.obj.expose("h5.ui.jqm.manager",{init:function(){D||(D=!0,a(function(){q=bb.controllerInternal("body",r,null,{managed:!1});y()}))},define:function(e,f,d,j){z(e)||c(12E3,"id");null!=f&&!z(f)&&!a.isArray(f)&&c(12E3,"cssSrc");null!=d&&((z(d)||a.isArray(d))&&c(12001),(!a.isPlainObject(d)||!("__name"in d))&&c(12E3,"controllerDefObject"),null!=j&&!a.isPlainObject(j)&&c(12E3,"initParam"));
E[e]||(E[e]=[]);x[e]||(x[e]=[]);F[e]||(F[e]=[]);a.merge(E[e],a.map(a.makeArray(f),function(c){return a.inArray(c,E[e])!==-1?null:c}));d&&-1===a.inArray(d,x[e])&&(x[e].push(d),F[e].push(j));null!==n()&&q?y():this.init()}})})();(function(){function n(){x||(x=navigator.geolocation);return x}function y(a,c){this.oblateness=a;this.semiMajorAxis=c}function q(){}var x=null,z=f.env.ua;y.prototype.getOblateness=function(){return this.oblateness};y.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};
var G=new y(298.257222,6378137),F=new y(299.152813,6377397.155),E=Math.PI/180;a.extend(q.prototype,{isSupported:z.isIE&&9<=z.browserVersion?!0:!!n(),getCurrentPosition:function(a){var c=f.async.deferred();n().getCurrentPosition(function(a){c.resolve(a)},function(a){c.reject(da(2002,null,a))},a);return c.promise()},watchPosition:function(a){function c(){}var e=f.async.deferred(),l=n().watchPosition(function(a){e.notify(a)},function(a){n().clearWatch(l);e.reject(da(2002,null,a))},a);c.prototype.unwatch=
function(){n().clearWatch(l);e.resolve()};return e.promise(new c)},getDistance:function(a,f,e,l,d){(!isFinite(a)||!isFinite(f)||!isFinite(e)||!isFinite(l))&&c(2E3);var j=d?d:G;j instanceof y||c(2001);var d=j.getSemiMajorAxis(),k=j.getOblateness(),a=a*E,f=f*E,e=e*E,j=l*E,l=(a+e)/2,k=Math.sqrt(2*k-1)/k,k=Math.pow(k,2),n=Math.sqrt(1-k*Math.pow(Math.sin(l),2)),k=d*(1-k)/Math.pow(n,3),d=d/n,f=f-j;return Math.sqrt(Math.pow(k*(a-e),2)+Math.pow(d*Math.cos(l)*f,2))},GS_GRS80:G,GS_BESSEL:F});f.u.obj.expose("h5.api",
{geo:new q})})();(function(){function n(a){if(a){var d=a.deferred;(Aa(d)||Ba(d)||!a.result)&&c(l)}}function y(b,e,f){if(a.isPlainObject(b))for(var l in b){var k=a.trim(l).replace(/ +/g," ").split(" "),g=[];""===k[0]?c(j):1===k.length?(g.push(k[0]),g.push("="),g.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(k[1])?3===k.length&&/^like$/i.test(k[1])?(g.push(k[0]),g.push(k[1]),g.push("?"),g.push("ESCAPE"),g.push('"'+k[2]+'"')):(g.push(k[0]),g.push(k[1]),g.push("?")):c(d);e.push(g.join(" "));f.push(b[l])}}
function q(){}function x(){this._multiple=!1}function A(a){this._db=a;this._df=k();this._tx=null;this._tasks=[];this._queue=[]}function G(b,c,d){this._statements=[];this._parameters=[];this._executor=b;this._tableName=c;this._columns=a.isArray(d)?d.join(", "):"*";this._orderBy=this._where=null}function F(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._values=d?L(d):[];this._df=k();this._multiple=!0}function E(a,c,d){this._statements=[];this._parameters=[];this._executor=
a;this._tableName=c;this._values=d;this._where=null}function D(a,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._where=null}function r(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(c);this._parameters.push(d||[])}function e(a){this._db=a}var l=3E3,d=3003,j=3011,k=f.async.deferred,H=f.u.str.format;a.extend(x.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});a.extend(A.prototype,
{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._getRecentTask().result=a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof x||c(3009);var d=this._getRecentTask();(!d||d.result)&&this._queue.push(a);return this},_execute:function(a){function c(){if(0===f.length){var j=a(g);d._setResult.apply(d,[j]);e.notify(j,d)}else{for(var l=f.shift(),n=l._statements,q=
l._parameters,r=k().resolve().promise(),j=[],v=0,y=n.length;v<y;v++)(function(a,b){r=S(r,function(){var c=k();d._tx.executeSql(a,b,function(a,b){j.push(l._onComplete(b));c.resolve()});return c.promise()})})(n[v],q[v]);S(r,function(){g.push(l._multiple?j:j[0]);c()})}}var d=this,e=this._df,f=this._queue,g=[];try{n(this._getRecentTask());this._addTask(e);for(var j=0,l=f.length;j<l;j++)f[j]._buildStatementAndParameters();this._runTransaction()?c():this._db.transaction(function(a){d._tx=a;c()},function(a){d._tx=
null;for(var b=d._tasks,c=b.length-1;0<=c;c--)b[c].deferred.reject(da(3010,["SQLDB ERROR(code="+a.code+")",a.message],a))},function(){d._tx=null;for(var a=d._tasks,b=a.length-1;0<=b;b--){var c=a[b];c.deferred.resolve(c.result)}})}catch(q){e.reject(q)}this._df=k();return e.promise()},execute:function(){return this._execute(function(a){return a})},promise:function(){return this._df.promise()}});G.prototype=new x;a.extend(G.prototype,{where:function(b){!a.isPlainObject(b)&&!z(b)&&c(3004,["Select","where"]);
this._where=b;return this},orderBy:function(b){!a.isPlainObject(b)&&!z(b)&&c(3004,["Select","orderBy"]);this._orderBy=L(b);return this},_buildStatementAndParameters:function(){var b="",c=this._where,b=H("SELECT {0} FROM {1}",this._columns,this._tableName);if(a.isPlainObject(c)){var d=[];y(c,d,this._parameters);b+=" WHERE "+d.join(" AND ")}else z(c)&&(b+=" WHERE "+c);a.isArray(this._orderBy)&&(b+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([b]);this._parameters=[this._parameters]},
_onComplete:function(a){return a.rows}});F.prototype=new x;a.extend(F.prototype,{_buildStatementAndParameters:function(){var b=this._values,c=this._statements,d=this._parameters;if(0===b.length)c.push(H("INSERT INTO {0} DEFAULT VALUES",this._tableName)),d.push([]);else for(var e=0,f=b.length;e<f;e++){var g=b[e];if(null==g)c.push(H("INSERT INTO {0} DEFAULT VALUES",this._tableName)),d.push([]);else if(a.isPlainObject(g)){var j=[],k=[],l=[],n;for(n in g)j.push("?"),k.push(n),l.push(g[n]);c.push(H("INSERT INTO {0} ({1}) VALUES ({2})",
this._tableName,k.join(", "),j.join(", ")));d.push(l)}}},_onComplete:function(a){return a.insertId}});E.prototype=new x;a.extend(E.prototype,{where:function(b){!a.isPlainObject(b)&&!z(b)&&c(3004,["Update","where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",c=this._where,b=this._values,d=[],e;for(e in b)d.push(e+" = ?"),this._parameters.push(b[e]);b=H("UPDATE {0} SET {1}",this._tableName,d.join(", "));a.isPlainObject(c)?(e=[],y(c,e,this._parameters),b+=" WHERE "+e.join(" AND ")):
z(c)&&(b+=" WHERE "+c);this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});D.prototype=new x;a.extend(D.prototype,{where:function(b){!a.isPlainObject(b)&&!z(b)&&c(3004,["Del","where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",c=this._where,b=H("DELETE FROM {0}",this._tableName);if(a.isPlainObject(c)){var d=[];y(c,d,this._parameters);b+=" WHERE "+d.join(" AND ")}else z(c)&&(b+=" WHERE "+c);this._statements.push([b]);
this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});r.prototype=new x;a.extend(r.prototype,{_buildStatementAndParameters:function(){},_onComplete:function(a){return a}});a.extend(e.prototype,{select:function(b,d,e){z(b)||c(3001,"select");!a.isArray(d)&&"*"!==d&&c(3005,"select");return new G(this.transaction(e),b,d)},insert:function(b,d,e){z(b)||c(3001,"insert");null!=d&&!a.isArray(d)&&!a.isPlainObject(d)&&c(3006,"insert");return new F(this.transaction(e),b,d)},update:function(b,
d,e){z(b)||c(3001,"update");a.isPlainObject(d)||c(3006,"update");return new E(this.transaction(e),b,d)},del:function(a,d){z(a)||c(3001,"del");return new D(this.transaction(d),a)},sql:function(b,d,e){z(b)||c(3007,"sql");null!=d&&!a.isArray(d)&&c(3008,"sql");return new r(this.transaction(e),b,d)},transaction:function(a){void 0!=a&&!(a instanceof A)&&c(3002,"transaction");return a?a:new A(this._db)}});a.extend(q.prototype,{isSupported:!!window.openDatabase,open:function(a,c,d,f){if(this.isSupported)return a=
openDatabase(a,c,d,f),new e(a)}});f.u.obj.expose("h5.api",{sqldb:new q})})();(function(){function c(a){this._storage=a}a.extend(c.prototype,{getLength:function(){return this._storage.length},key:function(a){return this._storage.key(a)},getItem:function(a){a=this._storage.getItem(a);return null===a?null:f.u.obj.deserialize(a)},setItem:function(a,c){this._storage.setItem(a,f.u.obj.serialize(c))},removeItem:function(a){this._storage.removeItem(a)},clear:function(){this._storage.clear()},each:function(a){for(var c=
this._storage,f=0,n=c.length;f<n;f++){var z=c.key(f);a(f,z,this.getItem(z))}}});f.u.obj.expose("h5.api.storage",{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__","ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(a){return!1}}():!1,local:new c(window.localStorage),session:new c(window.sessionStorage)})})()})(jQuery);