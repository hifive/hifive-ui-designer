/* Copyright (C) 2012-2013 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.7 gitCommitId f5392f53a8e38867b7833d749c8faa613d706f39 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(b){var N,qa;function c(b,c,q){var B=null,v=xa[b],t=Ea[b];t&&(B=t(b,v,c,q));!B&&v&&(B=g.u.str.format.apply(null,[v].concat(c)));B&&(B+="(code="+b+")");c=B?Error(B):Error("FwError: code = "+b);b&&(c.code=b);q&&(c.detail=q);throw c;}function da(b,c,q){var B=null,v=xa[b];v&&(c=[v].concat(c),B=g.u.str.format.apply(null,c));return{code:b,message:B,detail:q}}function K(c){return null==c?c:b.isArray(c)?c:[c]}function ea(b){var c=document.createElement("span");c.innerHTML='<a href="'+b+'" />';return c.firstChild.href}
function x(b){return"string"===typeof b}function ha(b){return!x(b)?!1:!!b.match(/^[A-Za-z_\$][\w|\$]*$/)}function ra(c){if("regexp"===b.type(c))return c;var k="",k=-1!==c.indexOf("*")?b.map(c.split("*"),function(b){return b.replace(/\W/g,"\\$&")}).join(".*"):c;return RegExp("^"+k+"$")}function sa(b,c,g){b&&(b._h5UnwrappedCall?b._h5UnwrappedCall(c,g):b[c](g))}var ta=void 0;if(window.h5){if(window.h5.env&&"1.1.7"===window.h5.env.version)return;ta=window.h5}var g={};window.h5=g;g.coexist=function(){window.h5=
ta;return g};g.env={version:"1.1.7"};var xa={},Ea={};N={controllerInternal:null};qa=void 0;(function(){function j(b){switch(b){case "string":return"s";case "number":return"n";case "boolean":return"b";case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case u:return"u";case "undefElem":return"_";
case "objElem":return"@"}}function k(b,c){if(x(b)){var d=b;c&&(d=d.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return d=d.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return b instanceof String?new String(k(b.toString())):b}function q(b,d){return"1"===d?b:x(b)?b.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):b instanceof
String?new String(q(b.toString())):b}function B(b,d,c){var e=g.async.deferred();g.ajax({url:b,async:d,cache:c,dataType:"script",converters:{"text script":function(b){return b}}}).done(function(){var b=F(arguments);b.push(this.url);e.notifyWith(e,b);e.resolveWith(e,b)}).fail(function(){e.rejectWith(e,F(arguments))});return e.promise()}function v(b){x(b)||c(s,"h5.u.obj.ns()");for(var b=b.split("."),d=b.length,e=0;e<d;e++)ha(b[e])||c(s,"h5.u.obj.ns()");for(var u=window,e=0;e<d;e++){var a=b[e];void 0===
u[a]&&(u[a]={});u=u[a]}return u}function t(b,d){var e=v(b),u;for(u in d)d.hasOwnProperty(u)&&(void 0!==e[u]&&c(E,[b,u]),e[u]=d[u])}function F(b){return Array.prototype.slice.call(b)}var u="undefined",s=11E3,E=11001,e=11004,o=11005,d=11006,p={},m={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&apos;"},M=void 0!==document.createElement("script").onload,G=-1===/\r\n/.toString().indexOf("\r\n");t("h5.u",{loadScript:function(d,e){var u=g.async.deferred,n=K(d);(!n||0===n.length)&&c(11007);for(var a=
0,f=n.length;a<f;a++)d=n[a],(!x(d)||!b.trim(d))&&c(11007);null!=e&&!b.isPlainObject(e)&&c(11008,"h5.u.loadScript()");var l=e&&!1===e.async?!1:!0,I=!!(e&&!0===e.force),a=!!(e&&!0===e.parallel),A=!!(e&&!0===e.atomic),j=!I,m=l?u():null,k=l?function(b){m.reject(da(11010,[b]))}:null,f=l?function(){var b=u();setTimeout(function(){b.resolve([])},0);return b.promise()}:null,o=a?[]:null,s=[],q={};if(l){if(!A&&M){var v=b("head"),E=function(b){var a=u(),f=document.createElement("script");f.onload=function(){f.onload=
null;p[b]=b;a.resolve()};f.onerror=function(){f.onerror=null;a.reject(b)};f.type="text/javascript";f.src=j?b:b+(-1<b.indexOf("?")?"&_":"?_")+ +new Date;v[0].appendChild(f);return a.promise()};if(a)o.push(f()),b.each(n,function(){var b=ea(this);if(!I&&b in p)return!0;o.push(E(b))}),g.async.when(o).then(function(){m.resolve()},k);else{var t=u().resolve().pipe(f);b.each(n,function(){var b=ea(this);t=t.pipe(function(){if(I||!(b in p))return E(b)},k)});t.pipe(function(){m.resolve()},k)}}else if(a){var G=
[];o.push(f());G.push(null);b.each(n,function(){var b=ea(this);if(!I&&(b in p||b in q))return!0;o.push(B(b,l,j));A?q[b]=b:G.push(null)});a=n=null;A?(n=function(){b.each(F(arguments),function(a,h){b.globalEval(h[0])});b.extend(p,q);m.resolve()},a=b.noop):(n=function(){m.resolve()},a=function(){for(var a=F(arguments),h=0;h<G.length;h++)if(a[h]){var f=a[h][3];G[h]!==f&&(b.globalEval(a[h][0]),G.splice(h,1,f))}});g.async.when(o).then(n,k,a)}else t=u().resolve().pipe(f),b.each(n,function(){var a=ea(this);
t=t.pipe(function(){var h=u();!I&&(a in p||a in q)?h.resolve():B(a,l,j).then(function(f){A?(s.push(f),q[a]=a):(b.globalEval(f),p[a]=a);h.resolve()},function(){h.reject(this.url)});return h.promise()},k)}),t.pipe(function(){A&&(b.each(s,function(a,h){b.globalEval(h)}),b.extend(p,q));m.resolve()},k);return m.promise()}b.each(n,function(){var a=ea(this);if(!I&&(a in p||a in q))return!0;B(a,l,j).then(function(h){A?(s.push(h),q[a]=a):(b.globalEval(h),p[a]=a)},function(){c(11010,[a])})});A&&(b.each(s,function(a,
h){b.globalEval(h)}),b.extend(p,q))},createInterceptor:function(d,c){return function(e){var u={},a=d?d.call(this,e,u):e.proceed();e.result=a;if(!c)return a;if(a&&b.isFunction(a.promise)){var f=this;sa(a,"always",function(){c.call(f,e,u)});return a}c.call(this,e,u);return a}}});t("h5.u.str",{startsWith:function(b,d){return 0===b.lastIndexOf(d,0)},endsWith:function(b,d){var c=b.length-d.length;return 0<=c&&b.lastIndexOf(d)===c},format:function(b,d){if(null==b)return"";var c=arguments;return b.replace(/\{(\d+)\}/g,
function(b,a){var f=c[parseInt(a,10)+1];return typeof f===u?u:f})},escapeHtml:function(d){return"string"!==b.type(d)?d:d.replace(/[&"'<>]/g,function(b){return m[b]})}});t("h5.u.obj",{expose:t,ns:v,serialize:function(d){function e(b){for(var l=0,d=a.length;l<d;l++)if(b===a[l])return!0;return!1}function p(b){for(var l=0,d=a.length;l<d;l++)b===a[l]&&a.splice(l,1)}function n(f){var l=f,d=b.type(f);"object"===typeof f&&(f instanceof String?d="String":f instanceof Number?d="Number":f instanceof Boolean&&
(d="Boolean"));switch(d){case "String":case "string":l=j(d)+k(l);break;case "Boolean":l=l.valueOf();case "boolean":l=j(d)+(l?1:0);break;case "Number":l=l.valueOf();if(b.isNaN&&b.isNaN(f)||b.isNumeric&&!b.isNumeric(f))l=Infinity===f.valueOf()?j("infinity"):-Infinity===f.valueOf()?j("-infinity"):j("nan");l=j(d)+l;break;case "number":l=b.isNaN&&b.isNaN(f)||b.isNumeric&&!b.isNumeric(f)?Infinity===f?j("infinity"):-Infinity===f?j("-infinity"):j("nan"):j(d)+l;break;case "regexp":l=j(d)+k(l.toString(),G);
break;case "date":l=j(d)+ +l;break;case "array":e(f)&&c(ERR_CODE_REFERENCE_CYCLE);a.push(f);for(var A=[],l=j(d)+"[",d=0,m=f.length;d<m;d++){A[d.toString()]=!0;var g;g=f.hasOwnProperty(d)?"function"===b.type(f[d])?j(u):n(f[d]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):j("undefElem");l+='"'+g+'"';d!==f.length-1&&(l+=",")}var d="",s;for(s in f)A[s]||"function"!==b.type(f[s])&&(d+='"'+k(s)+'":"'+n(f[s]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');d&&(l+=(f.length?",":"")+'"'+j("objElem")+"{"+d.replace(/\\/g,
"\\\\").replace(/"/g,'\\"'),l=l.replace(/,$/,""),l+='}"');l+="]";p(f);break;case "object":e(f)&&c(o);a.push(f);l=j(d)+"{";for(s in f)f.hasOwnProperty(s)&&"function"!==b.type(f[s])&&(l+='"'+s+'":"'+n(f[s]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');l=l.replace(/,$/,"");l+="}";p(f);break;case "null":case u:l=j(d)}return l}b.isFunction(d)&&c(11002);var a=[];return"2|"+n(d)},deserialize:function(p){function m(a){function f(b){switch(b){case "s":return"string";case "n":return"number";case "b":return"boolean";
case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return u;case "_":return"undefElem";case "@":return"objElem"}}a.match(/^(.)(.*)/);a=RegExp.$1;n=RegExp.$2?RegExp.$2:"";if(void 0!==a&&""!==a)switch(f(a)){case "String":n=new String(q(n,g));break;case "string":break;case "Boolean":"0"===
n||"1"===n?n=new Boolean("1"===n):c(d);break;case "boolean":"0"===n||"1"===n?n="1"===n:c(d);break;case "nan":""!==n&&c(d);n=NaN;break;case "infinity":""!==n&&c(d);n=Infinity;break;case "-infinity":""!==n&&c(d);n=-Infinity;break;case "Number":"infinity"===f(n)?n=new Number(Infinity):"-infinity"===f(n)?n=new Number(-Infinity):"nan"===f(n)?n=new Number(NaN):(n=new Number(n),isNaN(n.valueOf())&&c(d));break;case "number":n=(new Number(n)).valueOf();isNaN(n)&&c(d);break;case "array":var l;try{l=b.parseJSON(n)}catch(p){c(d)}b.isArray(l)||
c(d);for(var A=0;A<l.length;A++)switch(f(l[A].substring(0,1))){case "undefElem":delete l[A];break;case "objElem":for(var s=m(j("object")+l[A].substring(1)),a=[],A=0,k=l.length-1;A<k;A++)a[A]=l[A];l=a;for(var o in s)l[o]=s[o];break;default:l[A]=m(l[A])}n=l;break;case "object":try{l=b.parseJSON(n)}catch(E){c(d)}b.isPlainObject(l)||c(d);for(o in l)l[o]=m(l[o]);n=l;break;case "date":n=new Date(parseInt(n,10));break;case "regexp":try{A=n.match(/^\/(.*)\/(.*)$/),s=q(A[1],g),n=RegExp(s,A[2])}catch(v){c(d)}break;
case "null":""!==n&&c(d);n=null;break;case u:""!==n&&c(d);n=void 0;break;default:c(e)}return q(n,g)}x(p)||c(11009);p.match(/^(.)\|(.*)/);var g=RegExp.$1;"1"!==g&&"2"!==g&&c(11003,[g,"2"]);var n=RegExp.$2;return m(n)},isJQueryObject:function(d){return!d||!d.jquery?!1:d.jquery===b().jquery},argsToArray:F,getByPath:function(b){x(b)||c(s,"h5.u.obj.getByPath()");b=b.split(".");"window"===b[0]&&b.unshift();for(var d=window,e=0,u=b.length;e<u&&!(d=d[b[e]],null==d);e++);return d}})})();(function(){var j,
k,q,B,v,t,F;function u(b){return b.match(/^error$/i)?j:b.match(/^warn$/i)?k:b.match(/^info$/i)?q:b.match(/^debug$/i)?B:b.match(/^trace$/i)?v:b.match(/^all$/i)?t:b.match(/^none$/i)?F:null}function s(a,f){var d={};if(b.isArray(a)){var c=a.slice(0,3).join(" <- ");0<a.slice(3).length&&(c+=" ...");d.recent=c;d.all=f.join("\n")}else d.recent=a,d.all=f;return d}function E(b){var f="";b.name?f=b.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(b.toString()),f=RegExp.$1);return f}function e(a){for(var a=g.u.obj.argsToArray(a),
f=[],d=0,c=a.length;d<c;d++)f.push(b.type(a[d]));return f.join(", ")}function o(){}function d(a){(!x(a)||0===b.trim(a).length)&&c(G);this.category=b.trim(a)}var p=10002,m=10003,M=10004,G=10005,D=10007,C=10008,J=10010;j=50;k=40;q=30;B=20;v=10;t=0;F=-1;var n=null;o.prototype={init:function(){},log:function(b){window.console&&(x(b.args[0])?this._logMsg(b):this._logObj(b))},_logMsg:function(b){var f=b.args,d=null,d=1===f.length?f[0]:g.u.str.format.apply(g.u.str,f),f=this._getLogPrefix(b)+d;b.logger.enableStackTrace&&
(f+="  ["+b.stackTrace.recent+"]");b.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(f):this._consoleOut(b.level,f);b.logger.enableStackTrace&&this._consoleOut(b.level,b.stackTrace.all);b.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(b,f){var d=!1;b==j&&console.error?(console.error(f),d=!0):b==k&&console.warn?(console.warn(f),d=!0):b==q&&console.info?(console.info(f),d=!0):b==B&&console.debug&&(console.debug(f),d=!0);!d&&console.log&&console.log(f)},
_getLogPrefix:function(b){return"["+b.levelString+"]"+b.date.getHours()+":"+b.date.getMinutes()+":"+b.date.getSeconds()+","+b.date.getMilliseconds()+": "},_logObj:function(b){var f=b.args,d=this._getLogPrefix(b);f.unshift(d);b.level==j&&console.error?this._output(console.error,f):b.level==k&&console.warn?this._output(console.warn,f):b.level==q&&console.info?this._output(console.info,f):b.level==B&&console.debug?this._output(console.debug,f):this._output(console.log,f)},_output:function(b,f){b.apply?
b.apply(console,f):b(f)}};d.prototype={enableStackTrace:!1,maxStackSize:10,error:function(b){this._log(j,arguments,this.error)},warn:function(b){this._log(k,arguments,this.warn)},info:function(b){this._log(q,arguments,this.info)},debug:function(b){this._log(B,arguments,this.debug)},trace:function(b){this._log(v,arguments,this.trace)},_traceFunctionName:function(a){var f=Error(),d=f.stack||f.stacktrace,f=[],c={};if(d)var f=d.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,
"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),u=null,f=b.map(f,function(a){return u=0===a.length?null:""===b.trim(a)?"{anonymous}":b.trim(a)}),c=s(f.slice(3,f.length),f.slice(0,this.maxStackSize));else if(a=a.caller,d=0,a)for(;;){var p=e(a.arguments),m=E(a);m?f.push("{"+m+"}("+p+")"):a.caller?f.push("{anonymous}("+p+")"):f.push("{root}("+p+")");if(!a.caller||d>=this.maxStackSize){c=s(f,f);break}a=a.caller;d++}else s("{unable to trace}","{unable to trace}");return c},
_log:function(b,f,d){var f={level:b,args:g.u.obj.argsToArray(f),stackTrace:this.enableStackTrace?this._traceFunctionName(d):""},c=n.out,e=n.defaultOut,d=null;if(c)for(var c=K(c),u=0,p=c.length;u<p;u++){var m=c[u];if(m.compiledCategory.test(this.category)){d=m;break}}d||(d=e);u=d.compiledLevel;d=d.compiledTargets;if(!(b<u||0>u))if(f.logger=this,f.date=new Date,f.levelString=this._levelToString(b),d&&0!==d.length){u=0;for(p=d.length;u<p;u++)d[u].log(f)}},_levelToString:function(b){if(b===j)return"ERROR";
if(b===k)return"WARN";if(b===q)return"INFO";if(b===B)return"DEBUG";if(b===v)return"TRACE"}};g.u.obj.expose("h5.log",{createLogger:function(b){return new d(b)},configure:function(){function a(a,e,s){var k=null==s;if(!k){var g=e.category;(!x(g)||0===b.trim(g).length)&&c(J);g=b.trim(g);-1!==b.inArray(g,d)&&c(p,e.category);e.compiledCategory=ra(g);d.push(g)}g=null==e.level?u(k?f.level:s.level):x(e.level)?u(b.trim(e.level)):e.level;"number"!==typeof g&&c(m,e.level);e.compiledLevel=g;var g=[],j=e.targets;
if(!k||null!=j){var n=[];null==j||b.isArray(j)||x(j)&&b.trim(j).length||c(C);for(var j=K(j),o=0,h=j.length;o<h;o++){null==j[o]||x(j[o])&&b.trim(j[o]).length||c(C);var z=j[o];if(z){-1!==b.inArray(z,n)&&c(D,z);var i=a[z];i||c(M,z);n.push(z);g.push(i.compiledTarget)}}if(!k&&(a=s.targets,null!=a)){a=K(a);o=0;for(h=a.length;o<h;o++)z=a[o],-1===b.inArray(z,n)&&(g.push(s.compiledTargets[o]),n.push(z))}}e.compiledTargets=g}var f={level:"NONE",targets:null},d=[];n=b.extend(!0,{},g.settings.log?g.settings.log:
{defaultOut:f});var e=n.target;e||(e={},n.target=e);(function(a){b.isPlainObject(a)||c(10009);for(var f in a){var d=a[f];b.type(d.type)!=="object"&&d.type!=="console"&&c(1E4);var e=null,e=d.type==="console"?new o:b.extend(true,{},d.type);e.init&&e.init(d);d.compiledTarget=e}a.console={type:"console",compiledTarget:new o}})(e);var s=n.defaultOut;s||(s=f,n.defaultOut=s);a(e,s);var k=n.out;if(k)for(var k=K(k),j=0,q=k.length;j<q;j++)a(e,k[j],s)}})})();(function(){function c(j){g.settings.aspects=b.map(K(j),
function(b){b.target&&(b.compiledTarget=ra(b.target));b.pointCut&&(b.compiledPointCut=ra(b.pointCut));return b})}g.u.obj.ns("h5.settings");g.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(b){b=b.status;if("POST"===this.type||!(0===b||12029===b))return!1}}};var k=g.u.createInterceptor(function(b,c){this.log.info("{0}.{1}が開始されました。",this.__name,b.funcName);this.log.info(b.args);
c.start=new Date;return b.proceed()},function(b,c){var g=(new Date).getTime()-c.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,b.funcName,g)});g.u.obj.expose("h5.core.interceptor",{lapInterceptor:k,logInterceptor:k,errorInterceptor:function(c){var j=null;try{j=c.proceed()}catch(k){g.settings.commonFailHandler&&b.isFunction(g.settings.commonFailHandler)&&g.settings.commonFailHandler.call(null,k)}return j}});b(document).trigger("h5preinit");g.settings.aspects&&c(g.settings.aspects);
g.log.configure()})();(function(){g.u.obj.expose("h5.env",{ua:function(c){var g=!!c.match(/iPhone/i),q=!!c.match(/iPad/i),B=g||q,v=!!c.match(/android/i),t=!!c.match(/Windows Phone/i),F=!!c.match(/MSIE/),u=!!c.match(/Firefox/i),s=!!c.match(/Chrome/i)||!!c.match(/CrMo/)||!!c.match(/CriOS/),E=!v&&!!c.match(/Safari/i)&&!s,e=!!c.match(/Webkit/i),o=!!c.match(/Opera/i),d=v&&!!c.match(/Safari/i)&&!s,p=!(!g&&!t&&!(d&&c.match(/Mobile/)&&!c.match(/SC-01C/)||v&&s&&c.match(/Mobile/)||c.match(/Fennec/i)||c.match(/Opera Mobi/i))),
m=!(!q&&!(d&&!c.match(/Mobile/)||v&&s&&!c.match(/Mobile/)||c.match(/SC-01C/)||c.match(/Fennec/i)||c.match(/Opera Tablet/i))),M=!p&&!m,G=null,D=null,C=function(a,d){return b.trim(c.substring(c.indexOf(a)+a.length,c.indexOf(d))).split("_")},x=function(a,d){var f=b.trim(c.match(!1===d?RegExp(a+"[^;)]*"):RegExp(a+"[^;)]*","i"))).split(" ");return 1===f.length?"":f[f.length-1]},n=function(a,d){var f=b.trim(c.match(!1===d?RegExp(a+"[^;) ]*"):RegExp(a+"[^;) ]*","i"))).split("/");return 1===f.length?"":f[f.length-
1]};if(g)D=C("iPhone OS","like"),G=parseInt(D[0]),D=D.join(".");else if(q)D=C("CPU OS","like"),G=parseInt(D[0]),D=D.join(".");else if(!v||!u)v?(D=x("Android"),G=parseInt(D.split(".")[0])):t&&((D=x("Windows Phone OS"))||(D=x("Windows Phone")),G=parseInt(D.split(".")[0]));F&&o&&(F=!1);var a=C=null;if(B||v&&d)C=G,a=D;else{var f=null;F?f=x("MSIE",!1):s?(f=n("Chrome",!1))||(f=n("CrMo",!1)):E?f=n("Version"):u?f=n("Firefox"):o&&((f=n("Version"))||(f=n("Opera")),f||(f=x("Opera")));f&&(C=parseInt(f.split(".")[0]),
a=f)}return{osVersion:G,osVersionFull:D,browserVersion:C,browserVersionFull:a,isiPhone:g,isiPad:q,isiOS:B,isAndroid:v,isWindowsPhone:t,isIE:F,isFirefox:u,isChrome:s,isSafari:E,isOpera:o,isAndroidDefaultBrowser:d,isSmartPhone:p,isTablet:m,isDesktop:M,isWebkit:e}}(navigator.userAgent)})})();(function(){function j(c){function g(){k=!0;e=this;o=v(arguments);if((c.isRejected?c.isRejected():"rejected"===c.state())||(c.isResolved?c.isResolved():"resolved"===c.state()))return c;var p=v(arguments);if(0<d.length)for(var m=
0,s=d.length;m<s;m++){var j=p;j!==arguments&&(j=K(j));b.isFunction(d[m])&&d[m].apply(this,j)}return c}var k=!1,e=null,o=null,d=[];c.progress=function(){for(var p=v(arguments),g=0,s=p.length;g<s;g++){var j=p[g];if(b.isArray(j))c.progress.apply(this,j);else if(b.isFunction(j))if(k){var q=o;q!==o&&(q=K(q));j.apply(e,q)}else d.push(j)}return this};c.notify=g;c.notifyWith=function(b,d){return!d?g.apply(b):g.apply(b,d)}}function k(c){if(!c)return!1;for(var c=K(c),g=0,k=c.length;g<k;g++)if(b.isFunction(c[g]))return!0;
return!1}function q(c,s){function E(b){s?s[b]&&(c[b]=s[b]):(m[b]=c[b],c[b]=function(){return function(){if(!d){var a=v(arguments);if("then"===b||"pipe"===b)a=a[1];k(a)&&(d=!0)}return c._h5UnwrappedCall.call(this,b,v(arguments))}}(b),M[b]=c[b])}function e(b){return function(){var a=g.settings.commonFailHandler;!d&&a&&!p&&(c.fail.call(this,a),p=!0);return b.apply(this,arguments)}}var o=!!c.progress;!o&&!x(c)?j(c):s&&(c.progress=s.progress);var d=!1,p=!1,m={},M={};c._h5UnwrappedCall=s?s._h5UnwrappedCall:
function(a,d){d=K(d);b.extend(c,m);var e=c[a].apply(this,d);b.extend(c,M);return e};for(var G=0,D=B.length;G<D;G++){var C=B[G];c[C]&&E(C)}if(c.pipe&&!s){var J=c.pipe;c.pipe=function(){var a=q(J.apply(this,arguments));if(o||!b.isFunction(arguments[2]))return a;var d=arguments[2],e=t();a.progress=function(b){e.progress(b)};c.progress(function(){var a=d.apply(this,arguments);!a||!b.isFunction(a.promise)?e.notify.call(this,a):a.progress(function(){e.notify.apply(this,arguments)})});return a};M.pipe=c.pipe}if(c.then&&
!s){var n=c.then;c.then=function(){var b=arguments,a=n.apply(this,b);if(a!==this)return q(a);!o&&k(b[2])&&c.progress.call(c,b[2]);return a};M.then=c.then}c.reject&&(c.reject=s&&s.reject?s.reject:e(c.reject));c.rejectWith&&(c.rejectWith=s&&s.rejectWith?s.rejectWith:e(c.rejectWith));if(c.promise)if(s&&s.promise)c.promise=s.promise;else{var a=c.promise;c.promise=function(){return q(a.apply(this,arguments),c)}}return c}var B=["fail","always","pipe","then"],v=g.u.obj.argsToArray,t=function(){var c=b.Deferred();
return q(c)},x=function(b){return!!b&&b.done&&b.fail&&!b.resolve&&!b.reject};g.u.obj.expose("h5.async",{deferred:t,when:function(){var c=v(arguments);1===c.length&&b.isArray(c[0])&&(c=c[0]);var k=c.length,j=g.async.deferred(),e=j.promise(),o=b.when.apply(b,c).done(function(){j.resolveWith(this&&this.promise&&this.promise()===o?j:this,v(arguments))}).fail(function(){j.rejectWith(this,v(arguments))});if(o.progress)o.progress(function(){j.notifyWith(this===o?e:this,v(arguments))});else{for(var d=[],
p=0;p<k;p++)d[p]=void 0;for(var m=function(b){return function(c){d[b]=1<arguments.length?v(arguments):c;j.notifyWith(e,d)}},p=0;p<k;p++){var q=c[p];q&&b.isFunction(q.promise)&&q.progress&&(1<k?q.progress(m(p)):q.progress(function(){j.notifyWith(e,v(arguments))}))}}return e},isPromise:x,loop:function(g,k,j){b.isArray(g)||c(5E3);var e=t(),o="number"===b.type(j)?j:20,d=!1,p=0,m=g.length,q,v=null,B=function(){if(p===m)e.resolve(g);else if(d)e.reject(g);else{var b=k.call(g,p,g[p],v);p++;x(b)?b.done(function(){q()}).fail(function(){d=
!0;q()}):q()}},C=function(){setTimeout(function(){var b=p-1;0<p&&e.notify({data:g,index:b,value:g[b]});B()},0)},J=!1;q=function(){J||(0===p%o?C():B())};var n=!1,v={resume:function(){!n&&J&&(J=!1,q())},pause:function(){J=!0},stop:function(){n=!0;e.resolve(g)}};C();return e.promise()}})})();(function(){function c(b,g){for(var k=0,j=v.length;k<j;k++){var e=v[k];b[e]&&(g[t[e]](b[e]),b[e]=void 0)}}function k(c,g,k){for(var j in g)if(g.hasOwnProperty(j)&&(k||!b.isFunction(g[j]))&&-1===b.inArray(j,B))c[j]=
g[j]}function q(b,c){k(this,b,!0);c.promise(this);var g=this.always;this.always=function(){g.apply(this,arguments);return this}}var B=["error","success","complete"],v=["error","success","complete"],t={success:"done",error:"fail",complete:"always"};g.u.obj.expose("h5",{ajax:function(){function v(b,c,g){k(o,g);e.resolveWith(this,arguments)}function u(c,g,j){if(0===s.retryCount||!1===s.retryFilter.apply(this,arguments))k(o,c),e.rejectWith(this,arguments);else if(s.retryCount--,this.async){var q=this;
setTimeout(function(){b.ajax(q).done(v).fail(u)},s.retryInterval)}else b.ajax(this).done(v).fail(u)}var s={},t=arguments;x(t[0])?(b.extend(s,t[1]),s.url=t[0]):b.extend(s,t[0]);var s=b.extend({},g.settings.ajax,s),e=g.async.deferred();c(s,e);var t=b.ajax(s),o=new q(t,e);t.done(v).fail(u);return o}})})();(function(){function j(b,a,i,h,c){this.controller=b;this.event=a;this.evArg=i;this.selector=h;this.selectorType=c}function k(b){if(this.__controllerContext.executeListeners)return b.proceed()}function q(b,
a,i){var h=B(b.__name,a);i&&h.push(k);return v(b[a],a,h)}function B(a,i){var h=[],c=g.settings.aspects;if(!c||0===c.length)return h;for(var c=K(c),d=c.length-1;-1<d;d--){var r=c[d];if(!r.target||r.compiledTarget.test(a)){var f=r.interceptors;if(!r.pointCut||r.compiledPointCut.test(i))if(b.isArray(f))for(r=f.length-1;-1<r;r--)h=h.concat(f[r]);else h.push(f)}}return h}function v(b,a,i){for(var h=function(b,a,i){return function(){var h=this;return i.call(h,{target:h,func:b,funcName:a,args:arguments,
proceed:function(){return b.apply(h,this.args)}})}},c=0,d=i.length;c<d;c++)b=h(b,a,i[c]);return b}function t(b){return!!b.match(/^\{.*\}$/)}function F(b){return!!b.match(/^\[.*\]$/)}function u(a){return b.trim(a.substring(1,a.length-1))}function s(a){return b.trim(a.substring(1,a.length-1))}function E(b){for(var a=["window","document","navigator"],i=0,h=a.length;i<h;i++){var c=a[i];if(b===c||Fa(b,c+"."))return Ga(b)}return b}function e(a){var i=function(a,h){for(var c in a)if(0<=b.inArray(a,h)||na(c,
oa)&&i(a[c],h.concat([a])))return!0;return!1};return i(a,[])}function o(a){var i=function(a,h){for(var c in a)if(0<=b.inArray(a,h)||na(c,H)&&i(a[c],h.concat([a])))return!0;return!1};return i(a,[])}function d(a,i){var h=a[i];return na(i,oa)&&"rootController"!==i&&"parentController"!==i&&!b.isFunction(h)&&h&&!h.__controllerContext.isRoot}function p(a,i,h){var c=[],r=[],f=function(a){r.push(a);for(var Ia in a)if(d(a,Ia)){var w=a[Ia],H=h?w.__controllerContext[i]:w[i];H&&c.push(H);-1===b.inArray(w,r)&&
f(w)}};f(a);return c}function m(b){var a=function(b){var i=b.__meta,h={};if(i)for(var c in i)!1===i[c].useHandlers&&(h[c]=1);for(c in b)i=b[c],d(b,c)&&(a(i),h[c]||M(i))};a(b)}function M(a){var i=a.__controllerContext.bindMap,h;for(h in i)for(var c in i[h]){var d=a,r=h,f=c,w=d.__controllerContext.bindMap[r][f],H=f,e=F(f);e&&(H=s(f));var z=null;switch(H){case "mousewheel":z=Y(d,r,H,w);break;case ya:case Ja:case pa:z=Z(d,r,f,w);break;default:z=U(d,r,H,w)}if(b.isArray(z)){d=0;for(r=z.length;d<r;d++)D(z[d],
e)}else D(z,e)}}function G(a){var i=a.controller.rootElement,h=a.selector,c=a.eventName,d=a.handler,r=F(c),c=r?s(c):c;if(t(h)){var f=u(h),h=!1;f===ja?h=!0:i=E(f);h||r||!x(i)?(a.evSelectorType=za.SELECTOR_TYPE_OBJECT,b(i).bind(c,d)):(a.evSelectorType=za.SELECTOR_TYPE_GLOBAL,b(document).delegate(i,c,d));a.evSelector=i}else a.evSelectorType=za.SELECTOR_TYPE_LOCAL,a.evSelector=h,r?b(h,i).bind(c,d):b(i).delegate(h,c,d)}function D(a,i){i&&(a.eventName="["+a.eventName+"]");var h=a.handler;a.handler=function(){var i=
g.settings.listenerElementType===1?b(arguments[0].currentTarget):arguments[0].currentTarget;h.call(a.controller,ia(a,arguments),i)};O(a.controller,a.selector,a.eventName,a.handler);G(a)}function C(b){var a=function(b){var i=b.__meta,h={};if(i)for(var c in i)!1===i[c].useHandlers&&(h[c]=1);for(c in b)i=b[c],d(b,c)&&(a(i),h[c]||J(i))};a(b)}function J(a){var i=a.rootElement,a=a.__controllerContext.unbindMap,h;for(h in a)for(var c in a[h]){var d=a[h][c],r=F(c),f=r?s(c):c;if(t(h)){var w=u(h),H=!1;w===
ja?(w=i,H=!0):w=E(w);H||r||!x(w)?b(w).unbind(f,d):b(document).undelegate(w,f,d)}else r?b(h,i).unbind(f,d):b(i).undelegate(h,f,d)}}function n(a,i){a.__controllerContext.executeListeners=i;var h=[],c=function(a){h.push(a);for(var r in a)if(d(a,r)){var f=a[r];f.__controllerContext.executeListeners=i;-1===b.inArray(f,h)&&c(f)}};c(a)}function a(a){var i=[],h=function(a,c,r){a.rootController=c;a.parentController=r;i.push(a);for(var f in a)d(a,f)&&(r=a[f],-1===b.inArray(r,i)&&h(r,c,a))};h(a,a,null)}function f(a,
i){var h=i?"__init":"__ready",c=$();setTimeout(function(){c.resolve()},0);var r=c.promise(),f=function(c){var w=!0,H;for(H in c)d(c,H)&&(w=!1,f(c[H]));var e=function(){var d=null,r=c.__name;if(c[h])try{d=c[h]({args:c.__controllerContext.args})}catch(f){throw a.rootController&&a.rootController.dispose(arguments),f;}var w=i?I(c):A(c);d&&b.isFunction(d.promise)?d.done(function(){w()}).fail(function(){var b=da(Ea,r,Aa(arguments));a.rootController&&a.rootController.dispose(b)}):w()};H=i?l(c):p(c,"readyPromise");
i&&w&&H.push(r);g.async.when(H).done(function(){e()}).fail(Ba)};f(a)}function l(b){var a=p(b,"initPromise");a.push(b.preinitPromise);return a}function I(b){return function(){if(!L(b)){b.isInit=!0;var a=b.__controllerContext.initDfd;delete b.__controllerContext.templatePromise;delete b.__controllerContext.preinitDfd;delete b.__controllerContext.initDfd;a.resolveWith(b);b.__controllerContext&&b.__controllerContext.isRoot&&h(b)}}}function A(a){return function(){if(!L(a)){a.isReady=!0;var i=a.__controllerContext.readyDfd;
delete a.__controllerContext.readyDfd;i.resolveWith(a);a.__controllerContext&&a.__controllerContext.isRoot&&a.rootElement&&a.isInit&&a.isReady&&b(a.rootElement).trigger("h5controllerready",a)}}}function V(a,i,h){if(!x(a))return b(a);var d=b.trim(a);t(d)?(a=u(d),h&&(h=Fa(a,"window")?!1:Fa(a,"navigator")?!1:!0,h=!h),h&&c(Pa),h=b(E(a))):h=b(i).find(a);return h}function O(b,a,i,h){b.__controllerContext.unbindMap[a]||(b.__controllerContext.unbindMap[a]={});b.__controllerContext.unbindMap[a][i]=h}function U(b,
a,i,h){return{controller:b,selector:a,eventName:i,handler:h}}function Y(b,a,i,h){return{controller:b,selector:a,eventName:typeof document.onmousewheel===Ca?"DOMMouseScroll":i,handler:function(a){var i=a.event;null==i.wheelDelta&&i.originalEvent&&null!=i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta);null==i.wheelDelta&&i.originalEvent&&null!=i.originalEvent.detail&&(i.wheelDelta=40*-i.originalEvent.detail);h.call(b,a)}}}function Z(a,i,h,c){var d=typeof document.ontouchstart!==
Ca;if(h!==ya)return d?U(a,i,h,c):U(a,i,h,function(a){var i=a.event,h=b(i.currentTarget).offset()||{left:0,top:0};i.offsetX=i.pageX-h.left;i.offsetY=i.pageY-h.top;c.apply(this,arguments)});var r=function(b,a){for(var i in b)b.hasOwnProperty(i)&&!a[i]&&"target"!==i&&"currentTarget"!==i&&"originalEvent"!==i&&"liveFired"!==i&&(a[i]=b[i]);a.h5DelegatingEvent=b},f=d?"touchstart":"mousedown",w=d?"touchmove":"mousemove",H=d?"touchend":"mouseup",e=b(document);return function(){var z=null,y=!1,Q=function(i,
h,c){return function(f){var g;a:{switch(i){case "touchstart":case "mousedown":g=ya;break a;case "touchmove":case "mousemove":g=Ja;break a;case "touchend":case "mouseup":g=pa;break a}g=void 0}var l=g===ya;if(!l||!y){d&&fa(f.event,i);var L=new b.Event(g);r(f.event,L);var p=f.event.target;h&&(p=h);c&&c(L);var k=f.event.originalEvent||f.event;l&&-1===b.inArray(k,ga)&&(ga=[],ka=[]);var W=b.inArray(k,ga);-1===W&&(W=ga.push(k)-1,ka[W]=!1);if(!ka[W]&&(!d||y||l))ka[W]=!0,b(p).trigger(L,f.evArg),y=!0;if(f.event.currentTarget===
document&&(g===pa&&(ga=[],ka=[]),-1!==b.inArray(k,ga)))ga.splice(W,1),ka.splice(W,1);if(l&&y){L.h5DelegatingEvent.preventDefault();g=L.target;var j=L.clientX,o=L.clientY,Oa=Q(w,g,function(b){var a=b.clientX,i=b.clientY;b.dx=a-j;b.dy=i-o;j=a;o=i}),n=Q(H,g),m=function(b){f.event=b;f.evArg=R(arguments);Oa(f)},ja=function(b){f.event=b;f.evArg=R(arguments);n(f)},aa=d?b(g):e;z=function(){ga=[];ka=[];aa.unbind(w,m);aa.unbind(H,ja);if(!d&&a.rootElement!==document){b(a.rootElement).unbind(w,m);b(a.rootElement).unbind(H,
ja)}};aa.bind(w,m);aa.bind(H,ja);!d&&a.rootElement!==document&&(b(a.rootElement).bind(w,m),b(a.rootElement).bind(H,ja))}else g===pa&&(z(),y=!1)}}},g=[U(a,i,h,c)];g.push({controller:a,selector:i,eventName:f,handler:Q(f)});return g}()}function fa(a,i){var h=a.originalEvent;if(h){var c="touchend"===i||"touchcancel"===i?h.changedTouches[0]:h.touches[0],d=c.pageX,r=c.pageY;a.pageX=h.pageX=d;a.pageY=h.pageY=r;a.screenX=h.screenX=c.screenX;a.screenY=h.screenY=c.screenY;a.clientX=h.clientX=c.clientX;a.clientY=
h.clientY=c.clientY;c=a.target;if(c.ownerSVGElement)c=c.farthestViewportElement;else if(c===window||c===document)c=document.body;if(c=b(c).offset())r-=c.top,a.offsetX=h.offsetX=d-c.left,a.offsetY=h.offsetY=r}}function R(b){return 3>b.length?b[1]:Aa(b).slice(1)}function ia(a,i){var h=null,c=null;i&&(h=i[0],c=R(i));var d=h;if(d&&null==d.offsetX&&null==d.offsetY&&d.pageX&&d.pageY){var r=d.target;if(r.ownerSVGElement)r=r.farthestViewportElement;else if(r===window||r===document)r=document.body;if(r=b(r).offset())d.offsetX=
d.pageX-r.left,d.offsetY=d.pageY-r.top}return new j(a.controller,h,c,a.evSelector,a.evSelectorType)}function S(b){for(var a in b){var i=b[a];d(b,a)&&(i.rootElement=null,i.view.__controller=null,S(i))}}function T(b){var a=b.rootElement,i=b.__meta,h;for(h in b){var c=b[h];d(b,h)&&(c.rootElement=i&&i[h]&&i[h].rootElement?P(i[h].rootElement,a,c):a,c.view.__controller=c,T(c))}}function P(a,i,h){null==a&&c(Ka,[h.__name]);!x(a)&&"object"!==typeof a&&c(ta,[h.__name]);a=i?V(a,i):b(a);0===a.length&&c(La,[h.__name]);
1<a.length&&c(Ma,[h.__name]);return a.get(0)}function h(a){M(a);m(a);var i=a.__controllerContext.managed,h=g.core.controllerManager.controllers;-1===b.inArray(a,h)&&!1!==i&&h.push(a);!1!==i&&b(a.rootElement).trigger("h5controllerbound",a);i=p(a,"initPromise");i.push(a.initPromise);g.async.when(i).done(function(){f(a,!1)}).fail(Ba)}function z(b){null===b.rootController&&a(b);T(b);f(b,!0)}function i(b,a){var h=$();h.resolve();b.__controllerContext.templatePromise=h.promise();b.__controllerContext.initDfd=
$();b.initPromise=b.__controllerContext.initDfd.promise();b.__controllerContext.readyDfd=$();b.readyPromise=b.__controllerContext.readyDfd.promise();b.isInit=!1;b.isReady=!1;b.__controllerContext.args=a;for(var c in b)d(b,c)&&i(b[c])}function r(a,i){var h=null,c=i;b.isPlainObject(c)?h=c.target:c={};h=h?V(h,a.rootElement,!0):a.rootElement;return g.ui.indicator.call(a,h,c)}function y(a,i){var h=[],c=[],r=function(a){var f=$();c.push(a);for(var w in a)if(d(a,w)){var H=a[w];-1===b.inArray(H,c)&&r(H)}a[i]&&
b.isFunction(a[i])&&(a=a[i](),g.async.isPromise(a)&&(a.always(function(){f.resolve()}),h.push(f.promise())))};r(a);return h}function Q(a){var i=[],h=function(a){i.push(a);a.view.__view&&a.view.clear();for(var c in a)if(a.hasOwnProperty(c)){if(d(a,c)){var r=a[c];-1===b.inArray(r,i)&&h(r)}a[c]=null}};h(a)}function w(b,a){return a.view.__view.isAvailable(b)?a.view.__view:a.parentController?w(b,a.parentController):g.core.view}function L(b){return!b.__controllerContext||b.__controllerContext.isDisposing}
function ua(b,a){function i(b,c){var d=b.__controllerContext[r[c]];d&&!(d.isRejected?d.isRejected():"rejected"===d.state())&&!(d.isResolved?d.isResolved():"resolved"===d.state())&&d.rejectWith(b,[a]);if(b.parentController)i(b.parentController,c);else if(c<r.length-1)for(var d=0,f=h.length;d<f;d++)i(h[d],c+1)}var h=[],c=function(b){var a=!1,i;for(i in b)d(b,i)&&(a=!0,c(b[i]));a||h.push(b)};c(b);for(var r=["initDfd","readyDfd"],f=0,w=h.length;f<w;f++)i(h[f],0)}function W(b,a){for(var i=b.childNodes,
h=0,c=i.length;h<c;h++){var d=i[h];if(1===d.nodeType){if(d=W(d,a))return d}else if(8===d.nodeType){var r=d.nodeValue;if(0===r.indexOf(Qa)){var f=r.indexOf("}");if(-1!==f&&(r=r.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&r[1]===a)return d}}}return null}function aa(b){var a=this;return function(){b.apply(a,arguments)}}function la(b){var a=this;return function(){var i=g.u.obj.argsToArray(arguments);i.unshift(this);b.apply(a,i)}}function ba(b){this.__controller=b;Ga("h5.core.view")&&(this.__view=g.core.view.createView())}
function X(b,a,i,h){this.__name=a;this.__templates=null;this.rootElement=b;this.__controllerContext={executeListeners:!0,isRoot:h,bindMap:{},unbindMap:{}};this.__controllerContext.args=i?i:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=this.preinitPromise=this.parentController=this.rootController=null;this.log=g.log.createLogger(a);this.view=new ba(this)}function Da(){this.rootElement=document;this.controllers=[];b(document).bind(Na,function(b,a){null==a.target&&(a.target=document);
a.indicator=r(this,a);b.stopPropagation()})}function va(a,i,h,d){var r=!d||!d.isInternal,f=i.__name;(!x(f)||0===b.trim(f).length)&&c(Ra,null,{controllerDefObj:i});h&&!b.isPlainObject(h)&&c(Sa,[f],{controllerDefObj:i});i.__controllerContext&&c(Ta,null,{controllerDefObj:i});if(r||a)if(null==a)c(Ka,[f],{controllerDefObj:i});else if(x(a)||"object"===typeof a){var w=b(a);0===w.length&&c(La,[f],{controllerDefObj:i});1<w.length&&c(Ma,[f],{controllerDefObj:i})}else c(ta,[f],{controllerDefObj:i});e(i)&&c(Ua,
[f],{controllerDefObj:i});o(i)&&c(Va,[f],{controllerDefObj:i});var w=b.extend(!0,{},i),y=new X(a?b(a).get(0):null,f,h,r),Q=i.__templates,l=$(),a=l.promise(),p=$(),k=p.promise();y.__controllerContext.preinitDfd=p;y.preinitPromise=k;y.__controllerContext.initDfd=$();y.initPromise=y.__controllerContext.initDfd.promise().fail(Ba);y.__controllerContext.readyDfd=$();y.readyPromise=y.__controllerContext.readyDfd.promise();r||y.readyPromise.fail(Ba);if(Q&&0<Q.length){var W=function(b){Ga("h5.core.view")||
c(xa);y.view.load(Q).done(function(){l.resolve()}).fail(function(a){var i=a.detail.error.status;b===g.settings.dynamicLoading.retryCount||0!==i&&12029!==i?setTimeout(function(){l.reject(a)},0):setTimeout(function(){W(++b)},g.settings.dynamicLoading.retryInterval)})};W(0)}else l.resolve();a.done(function(){L(y)||p.resolveWith(y)}).fail(function(b){p.rejectWith(y,[b]);y.rootController&&y.rootController.dispose(b)});for(var j in w)if(Ha[j])c(Wa,[f,j],{controllerDefObj:i});else if(("__ready"===j||"__construct"===
j||"__init"===j)&&b.isFunction(w[j]))y[j]=q(w,j);else if(-1!==j.indexOf(" ")&&b.isFunction(w[j])){a=b.trim(j);k=a.lastIndexOf(" ");r=b.trim(a.substring(0,k));a=b.trim(a.substring(k+1,a.length));F(a)&&(a="["+b.trim(s(a))+"]");t(r)&&"this"===u(r)&&c(ea,[f],{controllerDefObj:i});k=y.__controllerContext.bindMap;k[r]||(k[r]={});k[r][a]&&c(ha,[f,r,a],{controllerDefObj:i});var m=q(w,j,!0);k[r][a]=m;y[j]=m}else na(j,oa)&&w[j]&&!b.isFunction(w[j])?(r=va(null,b.extend(!0,{},w[j]),h,b.extend({isInternal:!0},
d)),y[j]=r):na(j,H)&&w[j]&&!b.isFunction(w[j])?(r=wa(w[j]),y[j]=r):y[j]=b.isFunction(w[j])?q(w,j):w[j];if(h=y.__meta)for(j in h)r=y[j],void 0===r&&c(Xa,[f,j],{controllerDefObj:i}),null===r&&c(qa,[f,j],{controllerDefObj:i}),X.prototype.constructor!==r.constructor&&c(Ya,[f,j],{controllerDefObj:i});y.__construct&&y.__construct({args:y.__controllerContext.args});if(L(y))return null;d&&"managed"in d&&(y.__controllerContext.managed=d.managed);y.__controllerContext.isRoot&&z(y);return y}function wa(a){var i=
a.__name;(!x(i)||0===b.trim(i).length)&&c(ra,null,{logicDefObj:a});a.__logicContext&&c(sa,null,{logicDefObj:a});var a=b.extend(!0,{},a),h;for(h in a)a[h]=b.isFunction(a[h])?v(a[h],h,B(a.__name,h)):a[h];a.deferred=$;a.log=g.log.createLogger(i);a.__logicContext={};a.own=aa;a.ownWithOrg=la;for(var d in a)a.hasOwnProperty(d)&&na(d,H)&&(a[d]=wa(a[d]));return a}var Ca="undefined",oa="Controller",H="Logic",ya="h5trackstart",Ja="h5trackmove",pa="h5trackend",ja="rootElement",Na="triggerIndicator",Qa="{h5view ",
Pa=6E3,Ka=6001,La=6003,Ma=6004,Ra=6006,Sa=6007,Ta=6008,Ua=6009,Va=6010,Wa=6011,ea=6012,ha=6013,Xa=6014,qa=6015,Ya=6016,ra=6017,sa=6018,xa=6029,ta=6030,Ea=6033,Ba=function(){},$=g.async.deferred,Fa=g.u.str.startsWith,na=g.u.str.endsWith,Za=g.u.str.format,Aa=g.u.obj.argsToArray,Ga=g.u.obj.getByPath,za={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},ga=[],ka=[];b.extend(j.prototype,za);b.extend(ba.prototype,{get:function(b,a){return w(b,this.__controller).get(b,a)},update:function(b,
a,i){b=V(b,this.__controller.rootElement,!0);return w(a,this.__controller).update(b,a,i)},append:function(b,a,i){b=V(b,this.__controller.rootElement,!0);return w(a,this.__controller).append(b,a,i)},prepend:function(b,a,i){b=V(b,this.__controller.rootElement,!0);return w(a,this.__controller).prepend(b,a,i)},load:function(b){return this.__view.load(b)},register:function(b,a){this.__view.register(b,a)},isValid:function(b){return this.__view.isValid(b)},isAvailable:function(b){return w(b,this.__controller).isAvailable(b)},
clear:function(b){this.__view.clear(b)},bind:function(a,i){var h=a;if(x(a)&&0===a.indexOf("h5view#")){for(var c=W(this.__controller.rootElement,a.slice(7)),h=c.nodeValue,h=h.slice(h.indexOf("}")+1),d=b("<div>").append(h),h=[],r=d[0].childNodes,f=0,w=r.length;f<w;f++)h.push(r[f]);d.empty();d=document.createDocumentFragment();f=0;for(w=h.length;f<w;f++)d.appendChild(h[f]);c.parentNode.insertBefore(d,c.nextSibling)}return this.__view.bind(h,i)}});b.extend(X.prototype,{$find:function(a){return b(this.rootElement).find(a)},
deferred:function(){return $()},trigger:function(a,i){var h=x(a)?b.Event(a):a;b(this.rootElement).trigger(h,i);return h},own:aa,ownWithOrg:la,bind:function(b,a){this.__controllerContext.isRoot||c(6031);this.rootElement=P(b,null,this);this.view.__controller=this;i(this,a?a:null);z(this);return this},unbind:function(){this.__controllerContext.isRoot||c(6031);y(this,"__unbind");J(this);C(this);this.__controllerContext.unbindMap={};var a=this;g.core.controllerManager.controllers=b.grep(g.core.controllerManager.controllers,
function(b){return b!==a});b(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;S(this)},dispose:function(b){if(!L(this)){ua(this,b);this.__controllerContext.isDisposing=1;var a=this.deferred();this.unbind();var i=this,b=y(this,"__dispose");g.async.when(b).done(function(){Q(i);a.resolve()});return a.promise()}},triggerIndicator:function(a){var i={indicator:null};a&&b.extend(i,a);b(this.rootElement).trigger(Na,[i]);return i.indicator},indicator:function(b){return r(this,
b)},enableListeners:function(){n(this,!0)},disableListeners:function(){n(this,!1)},throwError:function(b,a){var i=Aa(arguments);i.unshift(null);this.throwCustomError.apply(null,i)},throwCustomError:function(b,a,i){2>arguments.length&&c(6005);var h=null;a&&x(a)?h=Error(Za.apply(null,Aa(arguments).slice(1))):(h=Error(),h.detail=a);h.customType=b;throw h;}});b.extend(Da.prototype,{getAllControllers:function(){return this.controllers},getControllers:function(a,i){for(var h=i&&i.deep,c=i&&i.name?K(i.name):
null,d=b(a)[0],r=this.controllers,f=[],w=0,H=r.length;w<H;w++){var y=r[w];c&&-1===b.inArray(y.__name,c)||(d===y.rootElement?f.push(y):h&&b.contains(d,y.rootElement)&&f.push(y))}return f}});g.u.obj.expose("h5.core",{controllerManager:new Da});var Ha={},ma=new X(null,"a"),ca;for(ca in ma)ma.hasOwnProperty(ca)&&"__name"!==ca&&"__templates"!==ca&&"__meta"!==ca&&(Ha[ca]=1);ma=null;ma=X.prototype;for(ca in ma)ma.hasOwnProperty(ca)&&(Ha[ca]=1);ma=null;N.controllerInternal=va;g.u.obj.expose("h5.core",{controller:function(b,
a,i){2>arguments.length&&c(6032);return va(b,a,i)},logic:wa,expose:function(b){var a=b.__name;a||c(6019,null,{target:b});var i=a.lastIndexOf(".");if(-1===i)window[a]=b;else{var h=a.substr(0,i),a=a.substr(i+1,a.length),i={};i[a]=b;g.u.obj.expose(h,i)}}})})();(function(){function j(b){return!b?!1:-1!==b.indexOf("[]")}function k(){var b=arguments[0];if(!N.data.DESCRIPTOR_VALIDATION_ERROR_MSGS)return{code:b}}function q(a,i,h,d,r){function f(i){for(var i=K(a.schema[i].depend.on),h=0,c=i.length;h<c;h++)if(-1===
b.inArray(i[h],a._realProperty)&&-1!==b.inArray(i[h],y))return!1;return!0}function w(a,i){for(var h=0,c=i.length;h<c;h++){var d=e[i[h]];if(d)for(var r=0,f=d.length;r<f;r++){var y=d[r];-1===b.inArray(y,a)&&a.push(y)}}}var y=[],e=a._dependencyMap,z={};for(r?y=a._dependProps.slice():w(y,K(d));0!==y.length;){for(var d=[],r=0,Q=y.length;r<Q;r++){var g=y[r];if(f(g)){var k=a.schema[g].depend.calc.call(i,h);0!==a._itemValueCheckFuncs[g](k,!0).length&&c(l,[g,k]);z[g]={oldValue:i._values[g],newValue:k};if(a.schema[g]&&
j(a.schema[g].type)){var L=i._internal||i;k?(i._values[g].copyFrom(k),L._nullProps[g]=!1):(i._values[g].copyFrom([]),L._nullProps[g]=!0)}else i._values[g]=k}else d.push(g)}w(d,y);y=d}return z}function B(b){return(b=b.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/))?{elmType:b[1],dataModel:b[2],dimension:b[3]?1:0}:{}}function v(a,i){return function pa(a,h){if(!i[a])return!1;for(var c=0,d=i[a].length;c<d;c++)if(-1<b.inArray(i[a][c],h)||pa(i[a][c],h.concat([a])))return!0;return!1}(a,
[])}function t(b){return"number"===typeof b&&isNaN(b)}function F(b,a){return t(b)&&t(a)}function u(b,a){return null==b||t(b)||"number"===typeof b||!a&&(b instanceof Number||!(!(x(b)||b instanceof String)||!b.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function s(b,a){return null==b||"number"===typeof b&&parseInt(b)===b||!a&&(b instanceof Number&&parseInt(b)===parseFloat(b)||("string"===typeof b||b instanceof String)&&!!b.match(/^[+\-]{0,1}[0-9]+$/))}function E(b,a){return!!(null==b||x(b)||!a&&b instanceof
String)}function e(a,c,d,f){var e=[];if(!f){var g=!1,l;for(l in a)if(a[l]&&!0===a[l].id){if(g&&(e.push(k(I)),d))return e;g=!0}if(!g&&(e.push(k(A)),d))return e}var g={},j;for(j in a){var L=null==a[j]?{}:a[j],p=!!L.id;if(!ha(j)&&(e.push(k(V,j)),d))return e;var o=L.depend;if(null!=o){if(p&&(e.push(k(O,j)),d)||L.hasOwnProperty("defaultValue")&&(e.push(k(W,j)),d))return e;if(null==o.on){if(e.push(k(U,j)),d)return e}else for(var m=K(o.on),n=0,q=m.length;n<q;n++)if(!a.hasOwnProperty(m[n])){e.push(k(U,j));
if(d)return e;break}if("function"!==typeof o.calc&&(e.push(k(Y,j)),d))return e;g[j]=K(o.on)}m=L.type;p&&null==m&&(m="string");o={};if(null!=m)if(x(m))if(p&&"string"!==m&&"integer"!==m&&e.push("id指定されたプロパティにtypeを指定することはできません"),o=B(m),o.elmType){if(o.dataModel&&(f&&(e.push(k(fa,j,o.dataModel)),d)||!c.models[o.dataModel]&&(e.push(k(R,j,o.dataModel)),d))||"enum"===o.elmType&&null==L.enumValue&&(e.push(k(ia,j)),d))return e}else{if(e.push(k(fa,j,m)),d)return e}else if(e.push(k(Z,j)),d)return e;m=L.constraint;
if(null!=m)if(b.isPlainObject(m)){for(l in m)if(n=m[l],null!=n)switch(l){case "notNull":if(!0!==n&&!1!==n){if(e.push(k(T,j,l)),d)return e}else if(p&&!n&&(e.push(k(ua,j,l,n)),d))return e;break;case "min":case "max":switch(o.elmType){case "integer":if(x(n)||!s(n)||t(n))if(e.push(k(P,j,l)),d)return e;break;case "number":if(x(n)||x(n)||!u(n)||Infinity===n||-Infinity===n||t(n))if(e.push(k(P,j,l)),d)return e;break;default:if(e.push(k(h,j,l,o.elmType)),d)return e}break;case "minLength":case "maxLength":switch(o.elmType){case "string":if(x(n)||
!s(n)||t(n)||0>n){if(e.push(k(i,j,l)),d)return e}else if(p&&"maxLength"===l&&0===n&&(e.push(k(ua,j,l,n)),d))return e;break;default:if(e.push(k(h,j,l,o.elmType)),d)return e}break;case "notEmpty":switch(o.elmType){case "string":if(!0!==n&&!1!==n){if(e.push(k(T,j,l)),d)return e}else if(p&&!n&&(e.push(k(ua,j,l,n)),d))return e;break;default:if(e.push(k(h,j,l,o.elmType)),d)return e}break;case "pattern":switch(o.elmType){case "string":if("regexp"!==b.type(n)&&(e.push(k(z,j,l)),d))return e;break;default:if(e.push(k(h,
j,l,o.elmType)),d)return e}}if(m.notEmpty&&0===m.maxLength&&(e.push(k(r,j,"notEmpty","maxLength")),d)||null!=m.min&&null!=m.max&&m.min>m.max&&(e.push(k(r,j,"min","max")),d)||null!=m.minLength&&null!=m.maxLength&&m.minLength>m.maxLength&&(e.push(k(r,j,"minLength","maxLength")),d))return e}else if(e.push(k(S,j)),d)return e;m=L.enumValue;if(null!=m){if("enum"!==o.elmType&&(e.push(k(y,j)),d))return e;if(!b.isArray(m)||0===m.length||-1<b.inArray(null,m)||-1<b.inArray(void 0,m))if(e.push(k(Q,j)),d)return e}if(p&&
L.hasOwnProperty("defaultValue")&&(e.push(k(w,j)),d))return e}for(var ba in g)if(v(ba,g)&&(e.push(k(aa,l)),d))break;return e}function o(b,a,i){var h=[],c;for(c in b){var d=b[c];if(d&&(d.hasOwnProperty("defaultValue")||!d.type||!("array"===d.type||B(d.type).dimension))&&d.hasOwnProperty("defaultValue"))if(d=d.defaultValue,a[c](d).length&&(h.push(k(L,c,d)),i))break}return h}function d(b,a){var i={},h;for(h in b){var c=i,d=h,r;r=a;var f=b[h]||{},e=[],w=null,y=0,w=f.type,z=f.constraint;f.id&&(w=w||"string",
z=z||{},z.notNull=!0,"string"===w&&(z.notEmpty=!0));w&&(y=B(w),w=y.elmType,y=y.dimension,e.push(m(w,{manager:r,enumValue:f.enumValue})));f.constraint&&e.push(p(f.constraint));r=M({checkFuncs:e,dimension:y});c[d]=r}return i}function p(b){return function(a){var i=[];b.notNull&&null==a&&i.push({notNull:b.notNull});b.notEmpty&&!a&&i.push({notEmpty:b.notEmpty});if(null==a)return i;null!=b.min&&a<b.min&&i.push({min:b.min});null!=b.max&&b.max<a&&i.push({max:b.max});null!=b.minLength&&a.length<b.minLength&&
i.push({minLength:b.minLength});null!=b.maxLength&&b.maxLength<a.length&&i.push({maxLength:b.maxLength});null!=b.pattern&&!a.match(b.pattern)&&i.push({pattern:b.pattern});return i}}function m(a,i){var h=[{type:a}];switch(a){case "number":return function(b,a){return u(b,a)?[]:h};case "integer":return function(b,a){return s(b,a)?[]:h};case "string":return function(b,a){return E(b,a)?[]:h};case "boolean":return function(b,a){return null==b||"boolean"===typeof b||!a&&b instanceof Boolean?[]:h};case "enum":return function(a){var c;
a:if(c=i.enumValue,t(a)){for(var a=0,d=c.length;a<d;a++)if(t(c[a])){c=!0;break a}c=!1}else c=null===a||-1<b.inArray(a,c);return c?[]:h};case "any":return function(){return[]}}var c=a.match(/^@(.+?)$/)[1],d=i.manager;return function(b){var a=d.models[c];return!a||"object"!==typeof b&&null!=b?h:null==b||a.has(b)?[]:h}}function M(a){var i=a.checkFuncs;if(!i||0===i.length)return function(){return[]};var h=a.dimension||0;return function(a,c){function d(a,f){if(!f){for(var e=0,w=i.length;e<w;e++){var y=
i[e](a,c);if(y.length)return r=r.concat(y),!1}return!0}if(null==a)return!0;if(!b.isArray(a)&&!g.core.data.isObservableArray(a))return r.push({dimension:h}),!1;e=0;for(w=a.length;e<w;e++)if(!d(a[e],f-1))return!1;return!0}var r=[];d(a,h);return r}}function G(a){var i={},h;for(h in a)if(a.hasOwnProperty(h)){var c=a[h]?a[h].depend:null;if(c)for(var c=K(c.on),d=0,r=c.length;d<r;d++){var f=c[d];i[f]||(i[f]=[]);-1===b.inArray(h,i[f])&&i[f].push(h)}}return i}function D(){}function C(){this.length=0;this._src=
[]}function J(){return new C}function n(b){return b&&b.constructor===C?!0:!1}function a(a,i){var h=[],d=[],r=[],e;for(e in a)a[e]&&a[e].depend?d.push(e):h.push(e),a[e]&&a[e].type&&-1!==a[e].type.indexOf("[]")&&r.push(e);this._internal={schema:a,_dependencyMap:G(a),dependProps:d,realProps:h,aryProps:r,_itemValueCheckFuncs:i,_nullProps:{}};this._values={};var w=[],y={props:{},target:this,type:"create"};for(e in a)if(-1!==b.inArray(e,r)){if(this._values[e]=J(),this._internal._nullProps[e]=!0,a[e].hasOwnProperty("defaultValue")&&
null!=a[e].defaultValue&&(this._values[e].copyFrom(a[e].defaultValue),this._internal._nullProps[e]=!1),-1!==b.inArray(e,h))w.push(e),y.props[e]={newValue:this._values[e],oldValue:void 0}}else if(-1===b.inArray(e,d))if(w.push(e),a[e]&&a[e].hasOwnProperty("defaultValue")){var z=a[e].defaultValue;this._values[e]=z;y.props[e]={newValue:z,oldValue:void 0}}else-1!==b.inArray(e,h)?(z=null,this._values[e]=z,y.props[e]={newValue:z,oldValue:void 0}):this._values[e]=void 0;q(this._internal,this,y,w);for(var j=
["sort","reverse","pop","shift"],Q=this,h=0,d=r.length;h<d;h++)e=r[h],function(a,h){var d;h.addEventListener("changeBefore",function(h){if(!Q._internal.isInSet){var r=g.u.obj.argsToArray(h.args);if(-1===b.inArray(h.method,j)){var e=!0;switch(h.method){case "splice":e=!1;r.shift();r.shift();break;case "copyFrom":r=r[0];break;case "set":r.shift()}e&&(h=i[a](r),0<h.length&&c(f,a,h))}d=Q._values[a].slice(0)}});h.addEventListener("change",function(){Q._internal.isInSet||h.equals(d)||Q.dispatchEvent({type:"change",
target:Q,props:{oldValue:d,newValue:h}})})}(e,this._values[e])}var f=15102,l=15107,I=15800,A=15801,V=15802,O=15803,U=15804,Y=15805,Z=15806,fa=15807,R=15808,ia=15809,S=15810,T=15811,P=15812,h=15813,z=15814,i=15815,r=15816,y=15817,Q=15818,w=15819,L=15820,ua=15821,W=15822,aa=15823;D.prototype.hasEventListener=function(b,a){if(!this.__listeners)return!1;var i=this.__listeners[b];if(!i||!this.__listeners.hasOwnProperty(b))return!1;for(var h=0,c=i.length;h<c;h++)if(i[h]===a)return!0;return!1};D.prototype.addEventListener=
function(a,i){(2!==arguments.length||!x(a)||!b.isFunction(i))&&c(15106);this.hasEventListener(a,i)||(this.__listeners||(this.__listeners={}),this.__listeners.hasOwnProperty(a)||(this.__listeners[a]=[]),this.__listeners[a].push(i))};D.prototype.removeEventListener=function(b,a){if(this.hasEventListener(b,a))for(var i=this.__listeners[b],h=0,c=i.length;h<c;h++)if(i[h]===a){i.splice(h,1);break}};D.prototype.dispatchEvent=function(b){if(this.__listeners){var a=this.__listeners[b.type];if(a){b.target||
(b.target=this);var i=!1;b.preventDefault=function(){i=true};for(var h=0,c=a.length;h<c;h++)a[h].call(b.target,b);return i}}};b.extend(C.prototype,D.prototype);var la={equals:function(a){var i=this.length;if(!b.isArray(a)&&!n(a)||a.length!==i)return!1;for(var a=n(a)?a._src:a,h=0;h<i;h++){var c=this[h],d=a[h];if(!(c===d||F(c,d)))return!1}return!0},copyFrom:function(a){a||(a=[]);a=n(a)?a._src:a;b.isArray(a)||c(15108,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},
get:function(b){return this[b]},set:function(b,a){this[b]=a},toArray:function(){return this.slice(0)},concat:function(){for(var b=g.u.obj.argsToArray(arguments),a=0,i=b.length;a<i;a++)n(b[a])&&(b[a]=b[a].toArray());return this.concat.apply(this,b)}},ba="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),X;for(X in la)la.hasOwnProperty(X)&&-1===b.inArray(X,ba)&&ba.push(X);var Da=["concat","slice","splice","filter",
"map"],va=["reverse","sort"],wa="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");X=0;for(var Ca=ba.length;X<Ca;X++){var oa=ba[X];C.prototype[oa]=function(a){function i(){var c=h.apply(this._src,arguments);if(-1!==b.inArray(a,va))c=this;else if(-1!==b.inArray(a,Da)){var d=J();d.copyFrom(c);c=d}return c}var h=la[a]?la[a]:Array.prototype[a];return-1===b.inArray(a,wa)?i:function(){if(!this.dispatchEvent({type:"changeBefore",method:a,args:arguments})){var b=i.apply(this,arguments);
this.length=this._src.length;this.dispatchEvent({type:"change",method:a,args:arguments,returnValue:b});return b}}}(oa)}b.extend(a.prototype,D.prototype,{set:function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0];this._internal.isInSet=!0;var i={},h;for(h in a){-1===b.inArray(h,this._internal.realProps)&&(-1!==b.inArray(h,this._internal.dependProps)&&c(15103,h),c(15104,h));var d=a[h];-1!==b.inArray(h,this._internal.aryProps)&&(null==d?(d=[],this._internal._nullProps[h]=
!0):this._internal._nullProps[h]=!1);d=this._internal._itemValueCheckFuncs[h](d);d.length&&c(f,h,d)}d=[];for(h in a){var r=a[h],e=this._values[h];if(-1!==b.inArray(h,this._internal.aryProps)){if(this._values[h].equals(r))continue;e=e.slice(0);this._values[h].copyFrom(r)}else{if(r===this._values[h]||F(r,this._values[h]))continue;this._values[h]=r}i[h]={oldValue:e,newValue:this._values[h]};d.push(h)}this._internal.isInSet=!1;0!=d.length&&(a={target:this,type:"change",props:i},b.extend(i,q(this._internal,
this,a,d)),this.dispatchEvent(a))},get:function(a){if(0===arguments.length)return b.extend({},this._values);-1===b.inArray(a,this._internal.realProps)&&-1===b.inArray(a,this._internal.dependProps)&&c(15105,a);return this._values[a]},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._internal._nullProps[a]:null===this.get(a)},_isArrayProp:function(a){return-1!==b.inArray(a,this._internal.aryProps)?!0:!1}});g.u.obj.expose("h5.core.data",{createObservableArray:J,createObservableItem:function(b){"object"!==
typeof b&&c(15100);var i=e(b,null,!0,!0);0<i.length&&c(15101,null,i);var i=d(b),h=o(b,i,!0);0<h.length&&c(15101,null,h);return new a(b,i)},isObservableArray:n,isObservableItem:function(b){return b instanceof a?!0:!1}});N.data={validateSchema:e,validateDefaultValue:o,createCheckValueByDescriptor:d,createItemDescErrorReason:k,createDependencyMap:G,isIntegerValue:s,isNumberValue:u,isStringValue:E,isStrictNaN:t,isBothStrictNaN:F,unbox:function(a){if(b.isArray(a)){for(var a=a.slice(0),i=0,h=a.length;i<
h;i++)a[i]=a[i]&&"object"===typeof a[i]?a[i]&&a[i].valueOf&&a[i].valueOf():a[i];return a}return a&&"object"===typeof a&&a.valueOf?a.valueOf():a},EventDispatcher:D,calcDependencies:q,getValue:function(a,b){return a._values[b]},setValue:function(a,b,i){a._values[b]=i},isTypeArray:j,ITEM_ERRORS:{ERR_CODE_INVALID_ITEM_VALUE:f,ERR_CODE_DEPEND_PROPERTY:15103,ERR_CODE_CANNOT_GET_NOT_DEFINED_PROPERTY:15105,ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY:15104},ERR_CODE_INVALID_SCHEMA:15101}})();(function(){function j(i,
h,c){var d=[];if(!b.isPlainObject(i))return d.push(O(G)),d;if(!ha(i.name)&&(d.push(O(D)),c))return d;var f=i.base,e=null;if(null!=f)if(!x(f)||0!==f.indexOf("@")){if(d.push(O(C)),c)return d}else if(f=f.substring(1),h.models[f])e=h.models[f].schema;else if(d.push(O(J,f)),c)return d;i=i.schema;if(!e&&null==i&&(d.push(O(n)),c))return d;if(!e&&!b.isPlainObject(i))return d.push(O(a)),d;i=b.extend({},e,i);return d.concat(I(i,h,c))}function k(a,h,d,f,e,j){var l=[],k;for(k in d)if(k in a.schema||c(z.ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY,
[a.name,k]),!(e&&-1!==b.inArray(k,e))){var p=S(h,k),m=d[k];if(a.schema[k]&&a.schema[k].depend){if(p===m)continue;c(z.ERR_CODE_DEPEND_PROPERTY,k)}var n=a.schema[k]&&a.schema[k].type;P(n)&&(null==m?(m=[],h._nullProps[k]=!0):h._nullProps[k]=!1);n&&n.match(/string|number|integer|boolean/)&&(m=fa(m));if(-1===b.inArray(k,f)){var o=a._validateItemValue(k,m);0<o.length&&c(z.ERR_CODE_INVALID_ITEM_VALUE,k,o)}if(null!=m&&n&&n.match(/number|integer/)&&"number"!==typeof m)if(b.isArray(m)||g.core.data.isObservableArray(m))for(var o=
0,s=m.length;o<s;o++)null!=m[o]&&Z(m[o])&&(m[o]=parseFloat(m[o]));else null!=m&&(m=parseFloat(m));if((!P(n)||!p||!p.equals(m,p))&&p!==m)n&&-1!==n.indexOf("[]")&&g.core.data.isObservableArray(p)&&(p=p.slice(0)),l.push({p:k,o:p,n:m})}if(l.length){d={};f=[];o=0;for(e=l.length;o<e;o++)k=l[o],a.schema[k.p]&&P(a.schema[k.p].type)?k.n&&S(h,k.p).copyFrom(k.n):T(h,k.p,k.n),d[k.p]={oldValue:k.o,newValue:h.get(k.p)},f.push(k.p);l={type:!0===j?"create":"change",target:h,props:d};b.extend(d,ia(a,h,l,f,j));return l}}
function q(a){function h(a,i,d,r){var f=!1,e=["sort","reverse","pop","shift"];r.addEventListener("changeBefore",function(h){(i._model!==a||!a._manager)&&c(M,[i._values[a.idKey],h.method]);var r=l(h.args);if(-1===b.inArray(h.method,e)){var y=!0;switch(h.method){case "splice":y=!1;r.shift();r.shift();break;case "copyFrom":r=r[0];break;case "set":r.shift()}y&&(h=a._validateItemValue(d,r),0<h.length&&c(z.ERR_CODE_INVALID_ITEM_VALUE,d,h))}a._manager&&(h=a._manager,r=a.name,h._oldValueLogs||(h._oldValueLogs=
{}),h._oldValueLogs[r]||(h._oldValueLogs[r]={}),h=h._oldValueLogs[r],r=i._values[a.idKey],h[r]||(h[r]={}),h[r][d]||(h[r][d]=S(i,d).toArray()));(f=a._manager?a._manager.isInUpdate():!1)||a._manager.beginUpdate()});r.addEventListener("change",function(){var b={type:"change",target:i,props:{}};b.props[d]={};F(a,b);f||a._manager.endUpdate()})}function d(b){this._model=a;this._values={};this._nullProps={};var e={},y=[],j=[],l;for(l in b)f.hasOwnProperty(l)||c(z.ERR_CODE_CANNOT_SET_NOT_DEFINED_PROPERTY,
[a.name,l]);for(var m in f){if((l=f[m])&&P(l.type)){var p=g.core.data.createObservableArray();p.relatedItem=this;T(this,m,p);this._nullProps[m]=!0;j.push(m)}l&&l.depend?m in b&&c(z.ERR_CODE_DEPEND_PROPERTY,m):(p=null,m in b?p=b[m]:(p=l&&void 0!==l.defaultValue?l.defaultValue:null,l&&P(l.type)&&y.push(m)),e[m]=p)}k(a,this,e,y,null,!0);b=0;for(e=j.length;b<e;b++)h(a,this,j[b],this.get(j[b]))}var f=a.schema;b.extend(d.prototype,R.prototype,{get:function(h){if(0===arguments.length)return b.extend({},
this._values);f.hasOwnProperty(h)||c(z.ERR_CODE_CANNOT_GET_NOT_DEFINED_PROPERTY,[a.name,h]);return S(this,h)},set:function(b){var h=a.idKey;(this._model!==a||!this._model._manager)&&c(M,[S(this,h),"set"],this);var d=b;2===arguments.length&&(d={},d[arguments[0]]=arguments[1]);h in d&&d[h]!==S(this,h)&&c(m,null,this);(h=a._manager?a._manager.isInUpdate():!1)||a._manager.beginUpdate();(d=k(a,this,d,null))&&F(a,d);h||a._manager.endUpdate()},getModel:function(){return this._model},regardAsNull:function(a){return this._isArrayProp(a)?
!0===this._nullProps[a]:null===S(this,a)},_isArrayProp:function(a){return f[a]&&f[a].type&&-1<f[a].type.indexOf("[]")?!0:!1}});return d}function B(a,h,d){var f=d.base;f?(h||c(ERR_CODE_NO_MANAGER),h=h.models[f.slice(1)].schema):h={};b.extend(a,h,d.schema)}function v(a){var b=a._manager,a=a.name;b._updateLogs||(b._updateLogs={});b._updateLogs[a]||(b._updateLogs[a]={});return b._updateLogs[a]}function t(a,b,h){if(a._manager)for(var d=v(a),c=0,f=h.length;c<f;c++){var e=h[c],z=e._values[a.idKey];d[z]||
(d[z]=[]);d[z].push({type:b,item:e})}}function F(a,b){if(a._manager){var h=v(a),d=b.target._values[a.idKey];h[d]||(h[d]=[]);h[d].push({type:f,ev:b})}}function u(a,b,h){this.items={};this.size=0;this.name=a.name;this._manager=b;var d={};B(d,b,a);this.schemaKeys=[];for(var c in d)d[c]&&!0===d[c].id&&(this.idKey=c),this.schemaKeys.push(c);this.schema=d;this._idType=(b=d[this.idKey].type)?"string"===b?e:o:e;b=[];c=[];for(var f in d)d[f]&&d[f].depend?c.push(f):b.push(f);this._dependencyMap=U(d);this._dependProps=
c;this._realProps=b;this._itemValueCheckFuncs=h;this._itemConstructor=q(this,a)}function s(a){ha(a)||c(d);this.models={};this.name=a;this._updateLogs=null}function E(a,b){var h=j(a,b,!0);0<h.length&&c(p,null,h);var d={};B(d,b,a);h=V(d,b);d=A(d,h,!0);0<d.length&&c(p,null,d);d=a.name;if(b.models[d])return b.models[d];h=new u(a,b,h);return b.models[d]=h}var e="string",o="number",d=15E3,p=15001,m=15003,M=15005,G=15900,D=15901,C=15902,J=15903,n=15904,a=6,f=2,l=g.u.obj.argsToArray,I=N.data.validateSchema,
A=N.data.validateDefaultValue,V=N.data.createCheckValueByDescriptor,O=N.data.createItemDescErrorReason,U=N.data.createDependencyMap,Y=N.data.isIntegerValue,Z=N.data.isNumberValue,fa=N.data.unbox,R=N.data.EventDispatcher,ia=N.data.calcDependencies,S=N.data.getValue,T=N.data.setValue,P=N.data.isTypeArray,h=N.data.isBothStrictNaN,z=N.data.ITEM_ERRORS;b.extend(u.prototype,R.prototype,{create:function(a){this._manager||c(15006,[this.name,"create"]);"object"!==typeof a&&!b.isArray(a)&&c(15007);var h=[],
d=this.idKey,f=this._manager?this._manager.isInUpdate():!1;f||this._manager.beginUpdate();for(var e=[],j=K(a),g=0,l=j.length;g<l;g++){var m=j[g],p=m[d];(""===p||null==p)&&c(15002);!Y(p,!0)&&!x(p)&&c(z.ERR_CODE_INVALID_ITEM_VALUE);var o=this._findById(p);o?(h.push(o),(p=k(this,o,m,null,[d]))&&F(this,p)):(m=new this._itemConstructor(m),this.items[p]=m,this.size++,e.push(m),h.push(m))}0<e.length&&t(this,1,e);f||this._manager.endUpdate();return b.isArray(a)?h:h[0]},get:function(a){if(b.isArray(a)||g.core.data.isObservableArray(a)){for(var h=
[],d=0,c=a.length;d<c;d++)h.push(this._findById(a[d]));return h}return this._findById(a)},remove:function(a){this._manager||c(15006,[this.name,"remove"]);var h=this._manager?this._manager.isInUpdate():!1;h||this._manager.beginUpdate();for(var d=this.idKey,f=K(a),e=[],z=[],g=0,j=f.length;g<j;g++)if(this.has(f[g])){var l=x(f[g])||Y(f[g],!0)?f[g]:f[g]._values[d],m=this.items[l];delete this.items[l];this.size--;z.push(m);m._model=null;e.push(m)}else z.push(null);0<e.length&&t(this,3,e);h||this._manager.endUpdate();
return b.isArray(a)?z:z[0]},removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(a){return x(a)||Y(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&b.isFunction(a.get)&&a===this.items[a.get(this.idKey)]:!1},getManager:function(){return this._manager},_validateItemValue:function(a,b){return this._itemValueCheckFuncs[a](b)},_findById:function(a){a=this.items[a];return void 0===a?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],
recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},toArray:function(){var a=[],b=this.items,h;for(h in b)b.hasOwnProperty(h)&&a.push(b[h]);return a}});s.prototype=new R;b.extend(s.prototype,{createModel:function(a){if(b.isArray(a)){var h=a.length;h||c(p,null,[O(G)]);for(var d={},f=[],e=0;e<h;e++)try{f.push(a[e].name);var z=[];a[e].base&&z.push(a[e].base.substring(1));for(var g in a[e].schema){var j=a[e].schema[g];
if(j){var l=j.type;l&&"@"===l.substring(0,1)&&(l=-1===l.indexOf("[]")?l.substring(1):l.substring(1,l.length-2),z.push(l))}}d[e]={depends:z}}catch(m){c(p)}for(g={size:0};g.size<h;){j={};l=!1;for(e=0;e<h;e++)if(!d[e].registed){for(var z=d[e].depends,k=0,o=z.length;k<o;k++)if(!this.models[z[k]]){j[z[k]]=!0;break}k===o&&(g[e]=E(a[e],this),g.size++,l=!0,d[e].registed=!0)}if(!l){var e=!0,n;for(n in j)if(-1===b.inArray(n,f)){e=!1;break}e&&c(15004);c(p,null,[O(J,n)])}}a=[];for(e=0;e<h;e++)a.push(g[e]);return a}return E(a,
this)},dropModel:function(a){if((a=x(a)?a:"object"===typeof a?a.name:null)&&this.models[a]){var b=this.models[a];b._manager=null;delete this.models[a];return b}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=this._updateLogs,b=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var d={},c;for(c in a)if(a.hasOwnProperty(c)){var e;e=this.models[c];var z=a[c],l=[],j=[],m=
[],k=[],p=void 0;for(p in z){for(var o=z[p],n=!0,s=[],q=o.length-1;0<=q;q--){var A=o[q],u=A.type;if(u===f)s.push(A.ev);else{a:{for(n=0;n<q;n++){var v=o[n].type;if(1===v||3===v){q=o[n];break a}}q=null}if(1===u)q&&3===q.type?l.push({id:p,oldItem:q.item,newItem:A.item}):j.push(A.item);else if(q=q&&3===q.type?q.item:q?null:A.item)k.push(q),q.dispatchEvent({type:"remove",model:e});n=!1;break}}if(n&&0<s.length){A={};for(q=s.length-1;0<=q;q--)for(var t in s[q].props)A[t]||(g.core.data.isObservableArray(e.get(p).get(t))?
(u=b&&b[e.name]&&b[e.name][p]&&b[e.name][p][t],e.get(p).get(t).equals(u)||(A[t]={oldValue:u})):A[t]={oldValue:s[q].props[t].oldValue});q=!1;for(t in A)u=A[t].oldValue,o=e.get(p).get(t),u===o||h(u,o)?delete A[t]:(A[t].newValue=e.get(p).get(t),q=!0);q&&(s={type:"change",target:s[0].target,props:A},m.push(s),s.target.dispatchEvent(s))}}(e=0===j.length&&0===l.length&&0===k.length&&0===m.length?!1:{created:j,recreated:l,removed:k,changed:m})&&(d[c]=e)}a=!1;for(c in d)a=!0,e=d[c],this.models[c].dispatchEvent({type:"itemsChange",
created:e.created,recreated:e.recreated,removed:e.removed,changed:e.changed});d={type:"itemsChange",models:d};a&&this.dispatchEvent(d)}},_dataModelItemsChangeListener:function(a){var b=a.target.manager,h={};h[a.target.name]=a;b.dispatchEvent({type:"itemsChange",models:h})}});g.u.obj.expose("h5.core.data",{createManager:function(a,b){ha(a)||c(d);var h=new s(a);if(null!=b){""===b&&(b="window");var f={};f[a]=h;g.u.obj.expose(b,f)}return h},createSequence:function(a,h,d){function c(){return g}function f(){var a=
g;g+=j;return a}function e(){return g.toString()}function z(){var a=g;g+=j;return a.toString()}function l(){}var g=null!=a?a:1,j=null!=h?h:1,a=1===d?{current:e,next:z,returnType:1}:{current:c,next:f,returnType:2};a.setCurrent=function(a){g=a};b.extend(l.prototype,a);return new l},SEQ_STRING:1,SEQ_INT:2})})();(function(){function j(a,b){return!a||a.nodeType!==D?void 0:a.getAttribute(b)}function k(a){if(!a)return null;for(var b=[],d=0,c=a.length;d<c;d++)b.push(a[d]);return b}function q(a,b,d,c){var f=
[],b=K(b);if(!0===c)return B(f,a,b,d),f;for(var a=a.childNodes,c=0,e=a.length;c<e;c++)B(f,a[c],b,d);return f}function B(a,b,d,c){if(b.nodeType===D){for(var f=0,e=d.length;f<e;f++){var g=b.getAttribute(d[f]);if(void 0===c){if(null!==g){a.push(b);break}}else if(null!==g&&g==c){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;f=0;for(e=b.length;f<e;f++)B(a,b[f],d,c)}}}function v(a,d){for(var a=K(a),c=[],f=0,e=a.length;f<e;f++){var g=a[f];if(g.nodeType===D&&!(!0===d&&(null!=j(g,J)||null!=j(g,
n))))for(var l=q(g,C,void 0,!0),m=0,k=l.length;m<k;m++){for(var p=!0,o=l[m];null!=o&&o!==g;o=o.parentNode)if(null!=j(o,J)||null!=j(o,n)){p=!1;break}p&&c.push(l[m])}}return b(c)}function t(a,d,c){for(var f=[],e=0,g=a.length;e<g;e++){var l=a[e];if(l.nodeType===D){if(!0===c){if(null!=l.getAttribute(d)){f.push(l);continue}if(null!=j(l,J)||null!=j(l,n))continue}for(var m=q(l,d,void 0,!1),k=0,p=m.length;k<p;k++){var o=b(m[k]).parent("[data-h5-context],[data-h5-loop-context]")[0];(void 0===o||o===l)&&f.push(m[k])}}}return b(f)}
function x(a){return a&&a.addEventListener&&a.getModel&&!b.isArray(a)&&!g.core.data.isObservableArray(a)||g.core.data.isObservableItem(a)?!0:!1}function u(a,b){for(var d=0,c=a.length;d<c;d++){var e=a[d];e.nodeType===D&&e.setAttribute(f,b)}}function s(h,d,i){var f=R++,e=d[0];b(e).empty();if(i){!b.isArray(i)&&!g.core.data.isObservableArray(i)&&c(Z);u(d,f);h._addBindingEntry(i,e,f);g.core.data.isObservableArray(i)&&!h._isWatching(i)&&(d=function(a){h._observableArray_changeListener(a)},h._listeners[h._getContextIndex(i)]=
d,i.addEventListener("change",d));var d=j(e,a),d=k(h._getSrcCtxNode(d).childNodes),l=[];h._loopElementsMap[f]=l;for(var f=document.createDocumentFragment(),m=i.get?function(a){return i.get(a)}:function(a){return i[a]},p=0,o=i.length;p<o;p++){for(var n=[],q=0,s=d.length;q<s;q++){var A=P(d[q]);n.push(A);f.appendChild(A)}l[p]=n;e.appendChild(f);E(h,n,m(p),!1,!0)}}}function E(a,d,i,f,l){d=K(d);if(f)s(a,d,i);else{f=R++;i&&(("object"!==typeof i||b.isArray(i)||g.core.data.isObservableArray(i))&&c(Z),u(d,
f),a._addBindingEntry(i,d,f));var j=x(i);j&&!a._isWatching(i)&&(f=function(b){a._observableItem_changeListener(b)},a._listeners[a._getContextIndex(i)]=f,i.addEventListener("change",f));v(d,l).each(function(){o(this,i,j)});e(a,d,i,!1,l);e(a,d,i,!0,l)}}function e(a,b,d,c,f){var e=c?"data-h5-loop-context":"data-h5-context";t(b,e,f).each(function(){var b=j(this,e),f=null;d&&(f=x(d)?d.get(b):d[b]);E(a,this,f,c)})}function o(a,d,i){for(var f=j(a,C).split(V),e=[],l=[],g=[],m=0,k=f.length;m<k;m++){var p=
f[m];if(-1===p.indexOf(A))0<b.trim(p).length&&(e.push(null),l.push(null),g.push(b.trim(p)));else{var o=p.split(A),p=b.trim(o[0]),o=b.trim(o[1]),n=null,q=O.exec(p);q&&(n=q[1],p=/(\S+)[\s\(]/.exec(p)[1]);0<p.length&&0<o.length&&(e.push(p),l.push(n),g.push(o))}}f=b(a);m=0;for(k=e.length;m<k;m++)switch(o=e[m],n=l[m],q=g[m],p=null,d&&(p=i?d.get(q):d[q]),null==o&&("input"===a.tagName.toLowerCase()?(o="attr",n="value"):o="text"),o){case "text":null==p?f.text(""):f.text(p);break;case "html":null==p?f.html(""):
f.html(p);break;case "class":var o=j(a,I),q=(n=null==o)?"":" ",s=!1;p&&(s=!RegExp("\\s"+p+"\\s").test(" "+o+" "));f[0].className=(n?"":o)+(s?q+p:"");break;case "attr":n||c(U);null==p?f.removeAttr(n):f.attr(n,p);break;case "style":n||c(U);null==p?f.css(n,""):f.css(n,p);break;default:c(Y)}}function d(a,b,d){for(var c=0,f=d.length;c<f;c++){var e=d[c];b.removeChild(e);a._removeBinding(e)}}function p(a){for(var a=a.childNodes,b=[],d=0,c=a.length;d<c;d++)b.push(P(a[d]));return b}function m(a,b,d,c,f){for(var e=
document.createDocumentFragment(),l=[],g=0,j=f.length;g<j;g++){var m=p(d);l[g]=m;for(var k=0,o=m.length;k<o;k++)e.appendChild(m[k]);E(a,m,f[g])}Array.prototype[c].apply(b,l);return e}function M(a,b,c,f,e,g){var l=f.length;if(0!==l){for(var j=f[0],m=j,c=1===l?c.length:m+f[1];m<c;m++){var k=e[m];k&&d(a,b,k)}e.splice(j,f[1]);if(!(2>=l)){m=e.length;m=0===m||0===j?b.firstChild:j>=m?null:e[j][0];c=document.createDocumentFragment();j=[j,0];for(k=2;k<l;k++){for(var o=p(g),n=0,q=o.length;n<q;n++)c.appendChild(o[n]);
E(a,o,f[k]);j.push(o)}b.insertBefore(c,m);Array.prototype.splice.apply(e,j)}}}function G(b,d){void 0!==b.nodeType?b.nodeType===D&&(this._parent=b.parentNode,this._targets=[b]):(this._parent=b[0].parentNode,this._targets=k(b));this._bindRootId=ia++;S[this._bindRootId]=this;for(var c=[],f=0,e=this._targets.length;f<e;f++){var g=this._targets[f];if(g.nodeType===D){g.setAttribute(l,this._bindRootId);for(var m=q(g,[J,n],void 0,!0),p=0,o=m.length;p<o;p++){var s=fa++;m[p].setAttribute(a,s)}m=q(g,C,void 0,
!0);p=0;for(o=m.length;p<o;p++)s=m[p],/class\s*:/.test(j(s,C))&&""!=s.className&&s.setAttribute(I,s.className)}c.push(g.cloneNode(!0))}this._srces=c;this._loopElementsMap={};this._rootContext=d;this._usingContexts=[];this._srcToViewMap={};this._listeners={};E(this,this._targets,this._rootContext,!1,!0)}var D=1,C="data-h5-bind",J="data-h5-context",n="data-h5-loop-context",a="data-h5-dyn-ctx",f="data-h5-dyn-vid",l="data-h5-dyn-bind-root",I="data-h5-dyn-cn",A=":",V=";",O=/\(\s*(\S+)\s*\)/,U=7100,Y=7101,
Z=7102,fa=0,R=0,ia=0,S={},T={},P;(function(){var a=document.createElement("div");a.h5Dummy="a";var d=a.cloneNode(!1),c=void 0!==d.h5Dummy;a.h5Dummy=void 0;c?(d.h5Dummy=void 0,P=function(a){return a.nodeType===D?b(b.trim(a.outerHTML))[0]:a.cloneNode(!0)}):P=function(a){return a.cloneNode(!0)}})();b.extend(G.prototype,{unbind:function(){for(var b=0,d=this._targets.length;b<d;b++){var c=this._targets[b];if(c.nodeType===D){this._removeBinding(c);c.removeAttribute(l);for(var f=q(c,I,void 0,!0),e=0,g=f.length;e<
g;e++)f[e].removeAttribute(I);c=q(c,a,void 0,!0);e=0;for(f=c.length;e<f;e++)c[e].removeAttribute(a)}}delete S[this._bindRootId]},_observableArray_changeListener:function(b){var c=this._getViewsFromSrc(b.target);if(c)for(var f in c)if(c.hasOwnProperty(f)){var e=c[f],g=this._getSrcCtxNode(j(e,a)),l=this._loopElementsMap[f];switch(b.method){case "set":M(this,e,b.target,[b.args[0],1,b.args[1]],l,g);break;case "shift":case "pop":var k=l[b.method]();k&&d(this,e,k);break;case "unshift":k=m(this,l,g,b.method,
b.args);e.insertBefore(k,e.firstChild);break;case "push":k=m(this,l,g,b.method,b.args);e.appendChild(k);break;case "splice":M(this,e,b.target,b.args,l,g);break;case "reverse":for(var k=e,o=l;k.firstChild;)k.removeChild(k.firstChild);for(var n=0,e=o.length;n<e;n++)for(var g=o[n],q=g.length-1;0<=q;q--)k.insertBefore(g[q],k.firstChild);l.reverse();break;case "sort":case "copyFrom":for(var k=this._loopElementsMap,o=f,n=b.target,q=l,l=g,g=0,s=q.length;g<s;g++)d(this,e,q[g]);for(var q=document.createDocumentFragment(),
s=[],g=0,A=n.length;g<A;g++){var t=p(l);s[g]=t;for(var u=0,v=t.length;u<v;u++)q.appendChild(t[u]);E(this,t,n.get(g))}e.appendChild(q);k[o]=s}}},_observableItem_changeListener:function(b){var d=this._getViewsFromSrc(b.target);if(d){var c=!1;b.target===this._rootContext&&(c=!0);var f=this,e;for(e in d)if(d.hasOwnProperty(e)){var g=d[e];v(g,c).each(function(){o(this,b.target,!0)});t(g,J).each(function(){var d=j(this,J);if(!(d in b.props))return!0;f._removeBinding(this);var c=j(this,a),c=f._getSrcCtxNode(c),
c=P(c);this.parentNode.replaceChild(c,this);E(f,c,b.props[d].newValue)});t(g,n).each(function(){var a=j(this,n);if(!(a in b.props)||b.target._isArrayProp(a))return!0;f._removeBinding(this);E(f,this,b.props[a].newValue,!0)})}}},_getSrcCtxNode:function(b){for(var d=0,c=this._srces.length;d<c;d++){var f=this._srces[d];if(j(f,a)===b)return f;f=q(f,a,b);if(0<f.length)return f[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(a){return b.inArray(a,
this._usingContexts)},_addBindingEntry:function(a,b,d){var c=this._getContextIndex(a);-1===c&&(this._usingContexts.push(a),c=this._usingContexts.length-1);T[d]=a;(a=this._srcToViewMap[c])?a[d]=b:(a={},a[d]=b,this._srcToViewMap[c]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=T[a];if(b){var d=this._getContextIndex(b);if(-1!==d){var c=this._srcToViewMap[d];c&&c[a]&&(delete c[a],this._hasBindingForSrc(c)||(c=!1,x(b)?(b.removeEventListener("change",
this._listeners[d]),c=!0):g.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[d]),c=!0),c&&delete this._listeners[d],delete this._srcToViewMap[d]))}T[a]&&delete T[a]}},_removeBinding:function(a){if(a.nodeType===D){var b=j(a,f);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(f));for(var a=q(a,f),b=0,d=a.length;b<d;b++){var c=a[b];this._removeBindingEntry(j(c,f));c.removeAttribute(f)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});
qa={createBinding:function(a,b){return new G(a,b)}}})();(function(){function j(d){return g.u.obj.isJQueryObject(d)?d:b(d)}function k(){this.__cachedTemplates={}}var q="[",B=7001,v=7002,t=7003,F=7010,u=7011,s=g.async.deferred,E={escapeHtml:function(b){return g.u.str.escapeHtml(b)}},e={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(b,c,e){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[b]={};this.cache[b].templates=c;this.cache[b].path=e;this.cacheUrls.push(b)},
deleteCache:function(b,c){c||delete this.cache[b];for(var e=0,g=this.cacheUrls.length;e<g;e++)if(this.cacheUrls[e]===b){this.cacheUrls.splice(e,1);break}},getTemplateByUrls:function(d){function e(a){if(0!==a.length){var d={},f=[];a.each(function(){var a=b.trim(this.id),e=b.trim(this.innerHTML);a||c(v,null,{});try{var g=new EJS.Compiler(e,q);g.compile();d[a]=g.process;f.push(a)}catch(l){e=l.lineNumber,c(F,[e?" line:"+e:"",l.message],{id:a,error:l,lineNo:e})}});return{compiled:d,data:{ids:f}}}}function j(a,
d,c){g.ajax(d).done(function(d,f,g){delete C.accessingUrls[a];d=b(g.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});f=this.url;if(0<d.not('script[type="text/ejs"]').length)c.reject(da(u,null,{url:a,path:f}));else{g=null;try{g=e(d.filter('script[type="text/ejs"]'))}catch(l){l.detail.url=a;l.detail.path=f;c.reject(l);return}var j,k;try{var m=g.compiled;k=g.data;k.path=f;k.absoluteUrl=a;j=m;C.append(a,m,f)}catch(o){c.reject(da(B,null,{error:o,
url:a,path:f}));return}c.resolve({ret:j,data:k})}}).fail(function(b){delete C.accessingUrls[a];c.reject(da(t,[b.status,a],{url:a,path:d,error:b}))})}for(var k={},o=[],x=[],C=this,E=function(a){var b=C.cache[a].templates;C.deleteCache(a,!0);C.cacheUrls.push(a);return b},n=0;n<d.length;n++){var a=d[n],f=ea(a);if(this.cache[f])b.extend(k,E(f)),x.push({absoluteUrl:f});else if(this.accessingUrls[f])o.push(this.accessingUrls[f]);else{var l=g.async.deferred();o.push(this.accessingUrls[f]=l.promise());j(f,
a,l)}}var I=s();g.async.when(o).done(function(){for(var a=g.u.obj.argsToArray(arguments),d=0,c=a.length;d<c;d++)b.extend(k,a[d].ret),x.push(a[d].data);I.resolve(k,x)}).fail(function(a){I.reject(a)});return I.promise()}};b.extend(k.prototype,{load:function(d){var g=s(),j=this,k=null;switch(b.type(d)){case "string":b.trim(d)||c(7004);k=[d];break;case "array":k=d;0===k.length&&c(7004);for(var d=0,o=k.length;d<o;d++)x(k[d])?b.trim(k[d])||c(7004):c(7004);break;default:c(7004)}e.getTemplateByUrls(k).done(function(d,
c){b.extend(j.__cachedTemplates,d);g.resolve(c)}).fail(function(b){g.reject(b)});return g.promise()},getAvailableTemplates:function(){var b=[],c;for(c in this.__cachedTemplates)b.push(c);return b},register:function(d,e){"string"!==b.type(e)?c(7E3,null,{id:d}):(!x(d)||!b.trim(d))&&c(v,[]);try{var g=new EJS.Compiler(e,q);g.compile();this.__cachedTemplates[d]=g.process}catch(j){g=j.lineNumber,c(F,[g?" line:"+g:"",j.message],{id:d})}},isValid:function(b){try{return(new EJS.Compiler(b,q)).compile(),!0}catch(c){return!1}},
get:function(d,e){var g=this.__cachedTemplates;if(b.isEmptyObject(g))return null;(!x(d)||!b.trim(d))&&c(v);(g=g[d])||c(7005,d);var j=e?b.extend(!0,{},e):{},k=j.hasOwnProperty("_h")?new EJS.Helpers(j):new EJS.Helpers(j,{_h:E}),o=null;try{o=g.call(j,j,k)}catch(q){c(7006,q.toString(),q)}return o},update:function(b,c,e){return j(b).html(this.get(c,e))},append:function(b,c,e){return j(b).append(this.get(c,e))},prepend:function(b,c,e){return j(b).prepend(this.get(c,e))},isAvailable:function(b){return!!this.__cachedTemplates[b]},
clear:function(d){if(void 0===d)this.__cachedTemplates={};else{var e=null;switch(b.type(d)){case "string":e=[d];break;case "array":d.length||c(v);e=d;break;default:c(v)}for(var d=0,g=e.length;d<g;d++){var j=e[d];(!x(j)||!b.trim(j))&&c(v)}d=0;for(g=e.length;d<g;d++)delete this.__cachedTemplates[e[d]]}},bind:function(d,e){var j=null;null==d&&c(7007);b.isArray(d)?j=d:(j=b(d),0===j.length&&c(7007),j=j.toArray());(null==e||"object"!==typeof e||b.isArray(e)||g.core.data.isObservableArray(e))&&c(7009);return qa.createBinding(j,
e)}});var o=new k;o.createView=function(){return new k};b(function(){b('script[type="text/ejs"]').each(function(){var d=b.trim(this.id),c=b.trim(this.innerHTML);0!==c.length&&d&&(c=new EJS.Compiler(c,q),c.compile(),o.__cachedTemplates[d]=c.process)})});g.u.obj.expose("h5.core",{view:o})})();(function(){function c(d){var f={},e;for(e in a){var g=b("<div></div>").addClass(d).addClass(e).appendTo("body"),l=b.camelCase(e);f[l]={};b.map(a[e],function(a){f[l][a]="width"===a||"height"===a?parseInt(g.css(a).replace(/\D/g,
""),10):g.css(a)});g.remove()}return f}function k(a,b){var d=window.document.createElement("v:"+a),c;for(c in b)d.style[c]=b[c];return d}function q(a,b){for(var d=[],c=a/2,f=0.8*a/2,e=360/b*Math.PI/180,g=1;g<=b;g++){var l=e*g,j=Math.cos(l),l=Math.sin(l);d.push({from:{x:c+f/2*j,y:c+f/2*l},to:{x:c+f*j,y:c+f*l}})}return d}function B(a){return function(){var b=document.body,d=document.documentElement,c=I?b:A?d:null;return c?"Height"===a?c["client"+a]>c["scroll"+a]?c["client"+a]:c["scroll"+a]:c["client"+
a]:Math.max(b["scroll"+a],d["scroll"+a],b["offset"+a],d["offset"+a],d["client"+a])}}function v(a){return function(){var b=I?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function t(a){var b=I?document.body:document.documentElement;return C.isiOS?window["inner"+a]:b["client"+a]}function F(a){var d=b(a)[0],c=document.body,f=b("html")[0],a={top:0,left:0};if(d===c&&A)return{top:parseFloat(f.currentStyle.paddingTop||0)+parseFloat(c.currentStyle.marginTop||
0)+parseFloat(c.currentStyle.borderTop||0),left:parseFloat(f.currentStyle.paddingLeft||0)+parseFloat(c.currentStyle.marginLeft||0)+parseFloat(c.currentStyle.borderLeft||0)};"undefined"!==typeof d.getBoundingClientRect&&(a=d.getBoundingClientRect());c=I?c:document.documentElement;d=c.clientTop||0;c=c.clientLeft||0;return{top:a.top+R()-d,left:a.left+N()-c}}function u(){b.each(n(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",
function(){return!1})})}function s(a){a=J(a)?a[0]:a;return a===window||a===document||a===document.body}function E(a){this.style=b.extend(!0,{},a);a=this.style.throbber.width;this.group=k("group",{width:a+"px",height:this.style.throbber.height+"px"});this.group.className=M;for(var a=q(a,this.style.throbber.lines),d=this.style.throbberLine.color,c=this.style.throbberLine.width,f=0,e=a.length;f<e;f++){var g=a[f],l=g.from,j=g.to,g=k("line");g.strokeweight=c;g.strokecolor=d;g.fillcolor=d;g.from=l.x+","+
l.y;g.to=j.x+","+j.y;l=k("stroke");l.opacity=1;g.appendChild(l);this.group.appendChild(g)}this._createPercentArea()}function e(a,f){var e=this,l=b(a),k=b.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},f);this._displayed=!1;this._throbbers=[];this._settings=k;this._styles=b.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},c(k.theme));this._$target=(this._isScreenLock=s(l))?b("body"):l;this._target=1===this._$target.length?this._$target[0]:
this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){e._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){e._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof k.fadeIn?k.fadeIn:-1;this._fadeOutTime="number"===typeof k.fadeOut?k.fadeOut:-1;this._$content=b();this._$overlay=b();this._$skin=b();for(var l=g.u.str.format(G,""===k.message?'style="display: none;"':"",k.message),
n="https"===document.location.protocol?"return:false":"about:blank",q=0,t=this._$target.length;q<t;q++)this._$content=this._$content.add(b("<div></div>").append(l).addClass(o).addClass(k.theme).addClass(d).hide()),this._$overlay=this._$overlay.add((k.block?b("<div></div>"):b()).addClass(o).addClass(k.theme).addClass(p).hide()),this._$skin=this._$skin.add((A||I?b("<iframe></iframe>"):b()).attr("src",n).addClass(o).addClass(m).hide());var u=this._isScreenLock&&O?"fixed":"absolute";b.each([this._$overlay,
this._$content],function(){this.css("position",u)});k=k.promises;l=function(){e.hide()};b.isArray(k)?(b.map(k,function(a){return a&&b.isFunction(a.promise)?a:null}),0<k.length&&sa(g.async.when(k),"pipe",[l,l])):k&&b.isFunction(k.promise)&&sa(k,"pipe",[l,l])}var o="h5-indicator",d="content",p="overlay",m="skin",M="vml-root",G='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',D=500,C=g.env.ua,J=g.u.obj.isJQueryObject,n=g.u.obj.argsToArray,a={throbber:["width",
"height"],"throbber-line":["width","color"]},f=!!document.createElement("canvas").getContext,l=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),I="CSS1Compat"!==document.compatMode,A=C.isIE&&6>=C.browserVersion,V=C.isChrome&&C.isDesktop,O=!(C.isAndroidDefaultBrowser||C.isiOS&&5>C.browserVersion||A||I||C.isWindowsPhone),
U=null,Y=null,Z=null,K=null,R=null,N=null,S=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div")),d=["Webkit","Moz","O","ms","Khtml"],c=d.length;return function(f){f=b.camelCase(f);if(f in a.style)return!0;for(var f=f.charAt(0).toUpperCase()+f.slice(1),e=0;e<c;e++)if(d[e]+f in a.style)return!0;return!1}}(),Y=function(a){return function(){var b=document.body,d=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:I?b["client"+a]:
d["client"+a]}}("Height"),Z=B("Height"),K=B("Width"),R=v("Top"),N=v("Left");if(!f&&l){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var T=document.createElement("style");T.setAttribute("type","text/css");T.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }";document.getElementsByTagName("head")[0].appendChild(T)}U=S("animationName");E.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),this._run())},
hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,d=this.highlightPos,c=this.group.childNodes,f=0,e=c.length;f<e;f++){var g=c[f];if("textbox"!==g.nodeName){var l=f+1;g.firstChild.opacity=l==d?"1":l==d+1||l==d-1?"0.75":"0.4"}}d==a?d=0:d++;this.highlightPos=d;var j=this;this._runId=setTimeout(function(){j._run.call(j)},Math.floor(b/a))},_createPercentArea:function(){var a=
k("textbox"),d=b("<table><tr><td></td></tr></table>"),c=d.find("td");c.width(this.group.style.width);c.height(this.group.style.height);c.css("line-height",this.group.style.height);c.addClass("throbber-percent");a.appendChild(d[0]);this.group.appendChild(a)},setPercent:function(a){b(this.group).find(".throbber-percent").html(a)}};var P=function(a){this.style=b.extend(!0,{},a);this.canvas=document.createElement("canvas");this.baseDiv=document.createElement("div");this.percentDiv=document.createElement("div");
var a=this.canvas,d=this.baseDiv,c=this.percentDiv;a.width=this.style.throbber.width;a.height=this.style.throbber.height;a.style.display="block";a.style.position="absolute";d.style.width=this.style.throbber.width+"px";d.style.height=this.style.throbber.height+"px";d.appendChild(a);c.style.width=this.style.throbber.width+"px";c.style.height=this.style.throbber.height+"px";c.style.lineHeight=this.style.throbber.height+"px";c.className="throbber-percent";d.appendChild(c);this.positions=q(a.width,this.style.throbber.lines)};
P.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){b(this.baseDiv).remove();this._runId&&(V?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),d=this.highlightPos,c=this.positions,f=this.style.throbberLine.color,e=this.style.throbberLine.width,g=this.style.throbber.lines,l=this.style.throbber.roundTime;a.width=a.width;for(var j=0,
k=c.length;j<k;j++){b.beginPath();b.strokeStyle=f;b.lineWidth=e;var o=j+1;b.globalAlpha=o==d?1:o==d+1||o==d-1?0.75:0.4;var m=c[j],o=m.from,m=m.to;b.moveTo(o.x,o.y);b.lineTo(m.x,m.y);b.stroke()}d==g?d=0:d++;this.highlightPos=d;if(V){var n=0;this._runId=setInterval(function(){n++;a.style.webkitTransform="rotate("+n+"deg)";360<=n&&(n-=360)},l/360)}else if(U)a.className="throbber-canvas";else{var p=this;this._runId=setTimeout(function(){p._run.call(p)},Math.floor(l/g))}},setPercent:function(a){this.percentDiv.innerHTML=
a}};e.prototype={show:function(){if(this._displayed||0<this._$target.children("."+o).length)return this;this._displayed=!0;for(var a=this,d=this._fadeInTime,c=function(){var d=b(window);a._isScreenLock&&(u(a._$overlay,a._$content),O||(d.bind("touchmove",a._scrollHandler),d.bind("scroll",a._scrollHandler)));d.bind("orientationchange",a._resizeHandler);d.bind("resize",a._resizeHandler)},e=0,g=this._$target.length;e<g;e++){var j=this._$target.eq(e),k=this._$content.eq(e),m=this._$skin.eq(e),n=this._$overlay.eq(e);
!this._isScreenLock&&"static"===j.css("position")&&(j.data("before-position",j.css("position")),j.data("before-zoom",j.css("zoom")),j.css({position:"relative",zoom:"1"}));var p=f?new P(this._styles):l?new E(this._styles):null;p&&(a._throbbers.push(p),a.percent(this._settings.percent),p.show(k.children(".indicator-throbber")[0]));j.append(m).append(n).append(k)}e=b().add(this._$skin).add(this._$content).add(this._$overlay);0>d?(e.show(),c()):e.fadeIn(d,c);this._reposition();this._resizeOverlay();return this},
_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!O)for(var d=0,c=this._$target.length;d<c;d++){b=this._$target.eq(d);var f=this._$overlay.eq(d),e=this._$skin.eq(d);if(this._isScreenLock)a=K(),b=Z();else{var g=b[0];a=g.scrollWidth;b=g.scrollHeight;if(A)a=Math.max(a,g.clientWidth),b=Math.max(b,g.clientHeight);else if(C.isIE&&"function"===typeof getComputedStyle){var g=getComputedStyle(g,null),l=parseFloat(g.width)+parseFloat(g.paddingLeft)+parseFloat(g.paddingRight);a+=l-parseInt(l)-1;g=parseFloat(g.height)+
parseFloat(g.paddingTop)+parseFloat(g.paddingBottom);b+=g-parseInt(g)-1}}f.width(a).height(b);(A||I)&&e.width(a).height(b)}},_reposition:function(){for(var a=0,d=this._$target.length;a<d;a++){var c=this._$target.eq(a),f=this._$content.eq(a);if(this._isScreenLock){var e=Y();O?f.css("top",(e-f.outerHeight())/2+"px"):f.css("top",R()+e/2-f.outerHeight()/2+"px")}else f.css("top",c.scrollTop()+(c.innerHeight()-f.outerHeight())/2);var e=f.innerWidth()-f.width(),g=0;f.children().each(function(){var a=b(this);
if("none"===a.css("display"))return!0;g+=a.outerWidth(!0)});f.width(g+e);f.css("left",c.scrollLeft()+(c.innerWidth()-f.outerWidth())/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var a=this,d=this._fadeOutTime,c=b().add(this._$skin).add(this._$content).add(this._$overlay),f=function(){var d=b(window);c.remove();a._isScreenLock||a._$target.each(function(a,d){var c=b(d);c.css({position:c.data("before-position"),zoom:c.data("before-zoom")});c.removeData("before-position").removeData("before-zoom")});
d.unbind("touchmove",a._scrollHandler);d.unbind("scroll",a._scrollHandler);d.unbind("orientationchange",a._resizeHandler);d.unbind("resize",a._resizeHandler);a._resizeEventTimerId&&clearTimeout(a._resizeEventTimerId);a._scrollEventTimerId&&clearTimeout(a._scrollEventTimerId)};if(!U||V)for(var e=0,g=this._throbbers.length;e<g;e++)this._throbbers[e].hide();0>d?(c.hide(),f()):c.fadeOut(d,f);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=
a,this;for(var b=0,d=this._throbbers.length;b<d;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!x(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=
null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);this._redrawable=!1;O||A||I?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};g.u.obj.expose("h5.ui",{indicator:function(a,b){return new e(a,b)},isInView:function(a,d){var c,f,e,g,l=b(a);if(void 0===d)f=t("Height"),g=t("Width"),
c=R(),e=N();else{g=b(d);if(0===g.find(l).length)return;e=F(g);c=e.top+parseInt(g.css("border-top-width"));e=e.left+parseInt(g.css("border-left-width"));f=g.innerHeight();g=g.innerWidth()}f=c+f;g=e+g;var j=F(l),k=j.top,j=j.left,o=k+l.outerHeight(),l=j+l.outerWidth();return(c<=k&&k<f||c<o&&o<=f)&&(e<=j&&j<g||e<l&&l<=g)},scrollToTop:function(){function a(){1===window.scrollY&&(d=0);0<d&&(window.scrollTo(0,1),d--,setTimeout(a,D))}var d=3;window.scrollTo(0,1);1!==b(window).scrollTop&&setTimeout(a,D)}})})();
(function(){function j(){var c=b.mobile.activePage,c=c&&c[0].id;return x(c)&&0<c.length?c:null}function k(){var b=j();null!==b&&(q.addCSS(b),q.bindController(b))}var q=null,B={},v={},t={},F={},u={},s=!1;g.u.obj.ns("h5.ui.jqm");g.ui.jqm.dataPrefix="h5";var E={__name:"JQMController",__ready:function(){var c=this;b(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){c.loadScript(this.id)})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(b){b=b.event.target.id;this.loadScript(b);
this.addCSS(b);this.bindController(b)},"{document} pageremove":function(b){var b=b.event.target.id,c=v[b],d=t[b];if(c){for(var g=0,j=c.length;g<j;g++)c[g].dispose();v[b]=[]}if(d){g=0;for(j=d.length;g<j;g++)d[g].dispose();t[b]=[]}},"{document} pagebeforeshow":function(b){var b=b.event.target.id,c=null;this.addCSS(b);for(c in v)for(var d=v[c],g=b===c,j=0,k=d.length;j<k;j++){var q=d[j];g?q.enableListeners():q.disableListeners()}for(c in t){d=t[c];g=b===c;j=0;for(k=d.length;j<k;j++)q=d[j],g?q.enableListeners():
q.disableListeners()}},"{document} pagehide":function(b){this.removeCSS(b.event.target.id)},"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var g=j();null!==g&&-1===b.inArray(c,v[g])&&(t[g]||(t[g]=[]),t[g].push(c))}},"{rootElement} h5controllerunbound":function(c){var g=c.evArg,c=j();null!==c&&(g=b.inArray(g,t[c]),-1!==g&&t[c].splice(g,1))},loadScript:function(c){var c=b("#"+c),j=b.trim(c.data(this.getDataAttribute("script")));if(0!==j.length)return j=b.map(j.split(","),function(c){return b.trim(c)}),
c=!0==c.data(this.getDataAttribute("async")),g.u.loadScript(j,{async:c})},getDataAttribute:function(b){var c=g.ui.jqm.dataPrefix;null==c&&(c="h5");return 0!==c.length?c+"-"+b:b},bindController:function(b){var c=B[b],d=F[b];if(c&&0!==c.length){v[b]||(v[b]=[]);for(var j=v[b],k=0,q=c.length;k<q;k++){for(var s=c[k],t=!1,u=0,x=j.length;u<x;u++){var n=j[u];if(n&&n.__name===s.__name){t=!0;break}}t||v[b].push(g.core.controller("#"+b,s,d[k]))}}},addCSS:function(c){if(c=u[c])for(var g=document.getElementsByTagName("head")[0],
d=g.getElementsByTagName("link"),j=d.length,k=0,q=c.length;k<q;k++){for(var s=b.mobile.path.parseUrl(c[k]).filename,t=!1,v=0;v<j;v++)if(b.mobile.path.parseUrl(d[v].href).filename===s){t=!0;break}t||(s=document.createElement("link"),s.type="text/css",s.rel="stylesheet",s.href=c[k],g.appendChild(s))}},removeCSS:function(c){var g=u[c];if(g&&(c=j(),null!==c)){var d=u[c];b("link").filter(function(){var c=b(this).attr("href");return-1!==b.inArray(c,g)&&-1===b.inArray(c,d)}).remove()}}};g.u.obj.expose("h5.ui.jqm.manager",
{init:function(){s||(s=!0,b(function(){q=N.controllerInternal("body",E,null,{managed:!1});k()}))},define:function(e,g,d,p){x(e)||c(12E3,"id");null!=g&&!x(g)&&!b.isArray(g)&&c(12E3,"cssSrc");null!=d&&((x(d)||b.isArray(d))&&c(12001),(!b.isPlainObject(d)||!("__name"in d))&&c(12E3,"controllerDefObject"),null!=p&&!b.isPlainObject(p)&&c(12E3,"initParam"));u[e]||(u[e]=[]);B[e]||(B[e]=[]);F[e]||(F[e]=[]);b.merge(u[e],b.map(b.makeArray(g),function(c){return b.inArray(c,u[e])!==-1?null:c}));d&&-1===b.inArray(d,
B[e])&&(B[e].push(d),F[e].push(p));null!==j()&&q?k():this.init()}})})();(function(){function j(){x||(x=navigator.geolocation);return x}function k(b,c){this.oblateness=b;this.semiMajorAxis=c}function q(){}var x=null,v=g.env.ua;k.prototype.getOblateness=function(){return this.oblateness};k.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var t=new k(298.257222,6378137),F=new k(299.152813,6377397.155),u=Math.PI/180;b.extend(q.prototype,{isSupported:v.isIE&&9<=v.browserVersion?!0:!!j(),
getCurrentPosition:function(b){var c=g.async.deferred();j().getCurrentPosition(function(b){c.resolve(b)},function(b){c.reject(da(2002,null,b))},b);return c.promise()},watchPosition:function(b){function c(){}var e=g.async.deferred(),k=j().watchPosition(function(b){e.notify(b)},function(b){j().clearWatch(k);e.reject(da(2002,null,b))},b);c.prototype.unwatch=function(){j().clearWatch(k);e.resolve()};return e.promise(new c)},getDistance:function(b,g,e,j,d){(!isFinite(b)||!isFinite(g)||!isFinite(e)||!isFinite(j))&&
c(2E3);var p=d?d:t;p instanceof k||c(2001);var d=p.getSemiMajorAxis(),m=p.getOblateness(),b=b*u,g=g*u,e=e*u,p=j*u,j=(b+e)/2,m=Math.sqrt(2*m-1)/m,m=Math.pow(m,2),q=Math.sqrt(1-m*Math.pow(Math.sin(j),2)),m=d*(1-m)/Math.pow(q,3),d=d/q,g=g-p;return Math.sqrt(Math.pow(m*(b-e),2)+Math.pow(d*Math.cos(j)*g,2))},GS_GRS80:t,GS_BESSEL:F});g.u.obj.expose("h5.api",{geo:new q})})();(function(){function j(a,b){for(var c=a._tasks,d=c.length-1;0<=d;d--)c[d].deferred.reject(da(C,["SQLDB ERROR(code="+b.code+")",b.message],
b))}function k(a){for(var a=a._tasks,b=a.length-1;0<=b;b--){var c=a[b];c.deferred.resolve(c.result)}}function q(a,b){void 0!=b&&!(b instanceof t)&&c(G,a)}function B(a,d,e){if(b.isPlainObject(a))for(var g in a){var j=b.trim(g).replace(/ +/g," ").split(" "),k=[];""===j[0]?c(J):1===j.length?(k.push(j[0]),k.push("="),k.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(j[1])?3===j.length&&/^like$/i.test(j[1])?(k.push(j[0]),k.push(j[1]),k.push("?"),k.push("ESCAPE"),k.push('"'+j[2]+'"')):(k.push(j[0]),k.push(j[1]),
k.push("?")):c(D);d.push(k.join(" "));e.push(a[g])}}function v(){}function t(a,b){this._db=a;this._tx=b;this._tasks=[];this._transactions=[]}function F(a,c,d,e,j){c=g.u.str.format(M,d,c);b.isPlainObject(e)?(d=[],B(e,d,a),c+=" WHERE "+d.join(" AND ")):x(e)&&(c+=" WHERE "+e);b.isArray(j)&&(c+=" ORDER BY "+j.join(", "));return c}function u(a,c,d){this._txw=a;this._tableName=c;this._columns=b.isArray(d)?d.join(", "):"*";this._statement=this._orderBy=this._where=null;this._params=[];this._df=n();this._executed=
!1}function s(a,b,c){this._txw=a;this._tableName=b;this._values=c?K(c):[];this._statement=[];this._params=[];this._df=n();this._executed=!1}function E(a,b,c){this._txw=a;this._tableName=b;this._value=c;this._statement=this._where=null;this._params=[];this._df=n();this._executed=!1}function e(a,b){this._txw=a;this._tableName=b;this._statement=this._where=null;this._params=[];this._df=n();this._executed=!1}function o(a,b,c){this._txw=a;this._statement=b;this._params=c||[];this._df=n();this._executed=
!1}function d(a){this._txw=a;this._queue=[];this._df=n();this._executed=!1;this._tasks=[]}function p(a){this._db=a}function m(){}var M="SELECT {0} FROM {1}",G=3002,D=3003,C=3010,J=3011,n=g.async.deferred;b.extend(t.prototype,{_runTransaction:function(){return null!=this._tx},_execute:function(a,b,c){this._runTransaction()?this._tx.executeSql(a,b,c):this._db.transaction(a,b,c)},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._tasks[this._tasks.length-1].result=
a},_addTransaction:function(a){this._transactions.push(a)},_dispose:function(){for(var a=0,b=this._transactions.length;a<b;a++)this._transactions[a]._dispose()}});u.prototype=new v;b.extend(u.prototype,{where:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Select","where"]);this._where=a;return this},orderBy:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Select","orderBy"]);this._orderBy=K(a);return this},execute:function(){var a=this,b=n(),d=this._executed,e=null;try{a._txw._addTask(b),d&&c(3E3),
a._statement=F(a._params,a._tableName,a._columns,a._where,a._orderBy),a._txw._runTransaction()?a._txw._execute(this._statement,this._params,function(c,d){e=d.rows;a._txw._setResult(e);b.notify(e,a._txw)}):a._txw._execute(function(c){a._txw._tx=c;c.executeSql(a._statement,a._params,function(c,d){e=d.rows;a._txw._setResult(e);b.notify(e,a._txw)})},function(b){a._txw._tx=null;j(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=null;k(a._txw);a._txw._dispose();a=null})}catch(g){b.reject(g)}this._executed=
!0;return b.promise()}});s.prototype=new v;b.extend(s.prototype,{execute:function(){function a(){d._statement.length===s?(p=q,d._txw._setResult(p),m.notify(p,d._txw)):d._txw._execute(d._statement[s],d._params[s],function(b,c){s++;q.push(c.insertId);a()})}var d=this,e=function(){var a=d._values;if(0===a.length)d._statement.push(g.u.str.format("INSERT INTO {0} DEFAULT VALUES",d._tableName)),d._params.push([]);else for(var c=0,e=a.length;c<e;c++){var j=a[c];if(null==j)d._statement.push(g.u.str.format("INSERT INTO {0} DEFAULT VALUES",
d._tableName)),d._params.push([]);else if(b.isPlainObject(j)){var k=[],l=[],n=[],h;for(h in j)k.push("?"),l.push(h),n.push(j[h]);d._statement.push(g.u.str.format("INSERT INTO {0} ({1}) VALUES ({2})",d._tableName,l.join(", "),k.join(", ")));d._params.push(n)}}},m=n(),o=this._executed,p=null,q=[],s=0;try{d._txw._addTask(m),o&&c(3E3),e(),d._txw._runTransaction()?a():d._txw._execute(function(b){d._txw._tx=b;a()},function(a){d._txw._tx=null;j(d._txw,a);d._txw._dispose();d=null},function(){d._txw._tx=null;
k(d._txw);d._txw._dispose();d=null})}catch(t){m.reject(t)}this._executed=!0;return m.promise()}});E.prototype=new v;b.extend(E.prototype,{where:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Update","where"]);this._where=a;return this},execute:function(){var a=this,d=function(){var c=a._where,d=a._value,e=[],f;for(f in d)e.push(f+" = ?"),a._params.push(d[f]);a._statement=g.u.str.format("UPDATE {0} SET {1}",a._tableName,e.join(", "));b.isPlainObject(c)?(d=[],B(c,d,a._params),a._statement+=" WHERE "+
d.join(" AND ")):x(c)&&(a._statement+=" WHERE "+c)},e=n(),m=this._executed,o=null;try{a._txw._addTask(e),m&&c(3E3),d(),a._txw._runTransaction()?a._txw._execute(this._statement,this._params,function(b,c){o=c.rowsAffected;a._txw._setResult(o);e.notify(o,a._txw)}):a._txw._execute(function(b){a._txw._tx=b;b.executeSql(a._statement,a._params,function(b,c){o=c.rowsAffected;a._txw._setResult(o);e.notify(o,a._txw)})},function(b){a._txw._tx=null;j(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=
null;k(a._txw);a._txw._dispose();a=null})}catch(p){e.reject(p)}this._executed=!0;return e.promise()}});e.prototype=new v;b.extend(e.prototype,{where:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Del","where"]);this._where=a;return this},execute:function(){var a=this,d=function(){var c=a._where;a._statement=g.u.str.format("DELETE FROM {0}",a._tableName);if(b.isPlainObject(c)){var d=[];B(c,d,a._params);a._statement+=" WHERE "+d.join(" AND ")}else x(c)&&(a._statement+=" WHERE "+c)},e=n(),m=this._executed,
o=null;try{a._txw._addTask(e),m&&c(3E3),d(),a._txw._runTransaction()?a._txw._execute(this._statement,this._params,function(b,c){o=c.rowsAffected;a._txw._setResult(o);e.notify(o,a._txw)}):a._txw._execute(function(b){a._txw._tx=b;b.executeSql(a._statement,a._params,function(b,c){o=c.rowsAffected;a._txw._setResult(o);e.notify(o,a._txw)})},function(b){a._txw._tx=null;j(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=null;k(a._txw);a._txw._dispose();a=null})}catch(p){e.reject(p)}this._executed=
!0;return e.promise()}});o.prototype=new v;b.extend(o.prototype,{execute:function(){var a=this,b=n(),d=this._executed,e=this._statement,g=this._params,m=null;try{a._txw._addTask(b),d&&c(3E3),a._txw._runTransaction()?a._txw._execute(e,g,function(c,d){m=d;a._txw._setResult(m);b.notify(m,a._txw)}):a._txw._execute(function(c){a._txw._tx=c;c.executeSql(e,g,function(c,d){m=d;a._txw._setResult(m);b.notify(m,a._txw)})},function(b){a._txw._tx=null;j(a._txw,b);a._txw._dispose();a=null},function(){a._txw._tx=
null;k(a._txw);a._txw._dispose();a=null})}catch(o){b.reject(o)}this._executed=!0;return b.promise()}});d.prototype=new v;b.extend(d.prototype,{add:function(a){a instanceof v||c(3009);this._queue.push(a);return this},execute:function(){function a(a,b){function c(a){this._txw=new t(null,a)}for(var d=0,e=g.length;d<e;d++)c.prototype=g[d],a.push(new c(b))}function b(){if(d._tasks.length===o){for(var a=[],c=0,g=d._tasks.length;c<g;c++)a.push(d._tasks[c]._txw._tasks[0].result);d._txw._setResult(a);e.notify(a,
d._txw)}else d._tasks[o].execute().progress(function(){o++;b()})}var d=this,e=this._df,g=this._queue,m=this._executed,o=0;try{d._txw._addTask(e),m&&c(3E3),this._txw&&this._txw._addTransaction(this),d._txw._runTransaction()?(a(d._tasks,d._txw._tx),b()):d._txw._execute(function(c){a(d._tasks,c);d._txw._tx=c;b()},function(a){j(d._txw,a);d._txw._dispose()},function(){k(d._txw);d._txw._dispose()})}catch(p){e.reject(p)}this._df=n();this._executed=!0;return e.promise()},promise:function(){return this._df.promise()},
_dispose:function(){for(var a=0,b=this._tasks.length;a<b;a++)this._tasks[a]._txw._tx=null,this._tasks[a]._txw=null;this._txw=this._txw._tx=null}});b.extend(p.prototype,{select:function(a,d,e){x(a)||c(3001,"select");q("select",e);!b.isArray(d)&&"*"!==d&&c(3005,"select");return new u(e?e:new t(this._db,null),a,d)},insert:function(a,d,e){x(a)||c(3001,"insert");q("insert",e);null!=d&&!b.isArray(d)&&!b.isPlainObject(d)&&c(3006,"insert");return new s(e?e:new t(this._db,null),a,d)},update:function(a,d,e){x(a)||
c(3001,"update");q("update",e);b.isPlainObject(d)||c(3006,"update");return new E(e?e:new t(this._db,null),a,d)},del:function(a,b){x(a)||c(3001,"del");q("del",b);return new e(b?b:new t(this._db,null),a)},sql:function(a,d,e){q("sql",e);x(a)||c(3007,"sql");null!=d&&!b.isArray(d)&&c(3008,"sql");return new o(e?e:new t(this._db,null),a,d)},transaction:function(a){q("sql",a);return new d(a?a:new t(this._db,null))}});b.extend(m.prototype,{isSupported:!!window.openDatabase,open:function(a,b,c,d){if(this.isSupported)return a=
openDatabase(a,b,c,d),new p(a)}});g.u.obj.expose("h5.api",{sqldb:new m})})();(function(){function c(b){this._storage=b}b.extend(c.prototype,{getLength:function(){return this._storage.length},key:function(b){return this._storage.key(b)},getItem:function(b){b=this._storage.getItem(b);return null===b?null:g.u.obj.deserialize(b)},setItem:function(b,c){this._storage.setItem(b,g.u.obj.serialize(c))},removeItem:function(b){this._storage.removeItem(b)},clear:function(){this._storage.clear()},each:function(b){for(var c=
this._storage,g=0,j=c.length;g<j;g++){var t=c.key(g);b(g,t,this.getItem(t))}}});g.u.obj.expose("h5.api.storage",{isSupported:!!window.localStorage,local:new c(window.localStorage),session:new c(window.sessionStorage)})})()})(jQuery);